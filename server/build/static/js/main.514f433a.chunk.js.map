{"version":3,"sources":["hooks/use-http.js","store/cart-context.js","store/auth-context.js","store/modal-context.js","components/UI/LoadingOverlay.js","assets/img/baobab.svg","components/Footer/Footer.module.scss","components/UI/LoadingOverlay.module.scss","components/UI/DottedDropdown.module.css","assets/img/Spinner-5.gif","components/MainContent/StoreSearchbar.module.css","components/Header/MainNav.js","components/Header/HeaderBanner.js","components/UI/MainModal.js","components/Footer/Footer.js","components/UI/DottedDropdown.js","components/MainContent/StoreSearchbar.js","components/MainContent/HeroMain.js","components/UI/BoxWrapper.js","components/MainContent/Results/ProductCard.js","components/MainContent/ProductsSection/ProductsSectionCard.js","components/MainContent/MainContent.js","App.js","store/AuthProvider.js","store/ModalProvider.js","store/CartProvider.js","index.js"],"names":["useHttp","useState","isLoading","setIsLoading","error","setError","sendRequest","useCallback","requestConfig","applyData","handleError","a","console","log","fetch","url","method","headers","body","JSON","stringify","response","ok","Error","json","data","message","CartContext","React","createContext","items","totalPrice","lastOrder","userAddress","setUserAddress","addItemToCart","item","removeItemFromCart","id","updateItemQuantity","quantity","deleteCartLocal","fetchCartFromDB","saveOrder","deleteUserCart","AuthContext","token","userName","isLoggedIn","localStorage","getItem","openLogin","openSignup","loginUser","userData","logoutUser","signupUser","handleOpenLogin","handleOpenSignup","checkLogin","checkPassword","ModalContext","isOpen","modalText","handleModalText","toggleModal","LoadingOverlay","className","classes","overlay","loader","loader1","memo","module","exports","MainNav","classNames","filter","Boolean","join","history","useHistory","useContext","userGreeting","setUserGreeting","navigation","profile","userDataFromToken","setUserDataFromToken","useEffect","jwt_decode","name","capitalizeWord","length","itemsNum","setItemsNum","bounceAnimation","setBounceAnimation","setTimeout","handleSignin","push","handleLogout","go","handleLogo","word","charAt","toUpperCase","slice","showProfileItems","map","index","Item","active","onClick","to","showProfileItemsMobile","Button","as","open","src","BaobabLogo","alt","itemIdx","aria-hidden","show","Fragment","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Items","static","Panel","surname","email","BannerContent","setShow","href","target","classList","type","HeaderBanner","ReactDOM","createPortal","document","getElementById","MainModal","modalBody","setOpen","text","setText","setBody","cancelButtonRef","useRef","location","useLocation","handleModalClose","pathname","Root","initialFocus","onClose","Child","Overlay","Title","replaceAll","ref","IndexPage","rel","title","xmlns","width","height","viewBox","d","DottedDropdown","handleDepartmentFilter","departmentFilter","handleMenuItem","showItems","_id","strokeWidth","stroke","fill","strokeLinecap","strokeLinejoin","cx","cy","r","StoreSearchbar","onGetSearchbarInput","handleActivePage","searchbarInputRef","menuItems","setMenuItems","fetchDepartments","res","results","onSubmit","event","preventDefault","currentSearchbarInput","current","value","trim","placeholder","features","description","icon","ScaleIcon","GlobeIcon","LightningBoltIcon","HeartIcon","Example","feature","BoxWrapper","props","children","ProductCard","product","picturesLoading","short","departmentName","setDepartmentName","pingAnimation","setPingAnimation","translations","en_us","showPictureOrLoader","pictures","Spinner","completeName","brand","productName","shortDesc","productDesc1","productDesc2","productDesc3","color","Number","parseInt","pricingInfo","price","Math","floor","toFixed","ecoInfo","originCountryCode","productionCountryCode","socialMission","environmentMission","ProductsSectionCard","products","setProducts","fetchLatestProducts","result","resultsFound","showCards","ProfilePage","lazy","PasswordChange","ShoppingCart","CheckoutForm","OrderSent","AuthContent","Orders","ResultsBox","defaultResultsState","showResultsBox","contentLoading","isEmpty","activePage","paginationData","searchKeywords","resultsPerPage","fetchedProducts","showAuth","sortingFilter","resultsReducer","state","action","val","MainContent","useReducer","resultsState","dispatchResults","fetchProducts","getSearchbarInput","input","toString","keywords","productsFound","pageNumber","pageSize","totalProducts","totalPages","handlePageChange","handleResultsPerPage","handleSortingFilter","resultsContent","redirectIfNotLoggedIn","component","fallback","promise","loadStripe","App","stripe","exact","path","Footer","AuthProvider","setToken","isLogged","setIsLogged","setOpenLogin","setOpenSignup","then","decodedToken","header","substring","setItem","removeItem","success","msg","catch","includes","session","authContext","password","split","Promise","resolve","reject","Provider","ModalProvider","setIsOpen","setModalText","setModalBody","prevState","modalContext","Array","isArray","CartProvider","setTotalPrice","setItems","setLastOrder","userId","fetchResponse","allCartItems","parse","cartItem","insertedCount","allLocalItems","object","reduce","accumulator","currentValue","cartItemId","deletedCount","allItems","newItems","order","cartContext","newProducts","updatedItemIndex","findIndex","render","StrictMode"],"mappings":"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","file":"static/js/main.514f433a.chunk.js","sourcesContent":["import { useCallback, useState } from \"react\";\r\n\r\nconst useHttp = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const sendRequest = useCallback(\r\n    async (requestConfig, applyData, handleError) => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n      console.log(\"started http\");\r\n\r\n      try {\r\n        const response = await fetch(requestConfig.url, {\r\n          method: requestConfig.method ? requestConfig.method : \"GET\",\r\n          headers: requestConfig.headers ? requestConfig.headers : {},\r\n          body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(\"Request failed!\");\r\n        }\r\n\r\n        const data = await response.json();\r\n        console.log(data);\r\n        applyData(data);\r\n      } catch (err) {\r\n        console.log(err.message);\r\n        if (handleError) handleError();\r\n      }\r\n      setIsLoading(false);\r\n    },\r\n    []\r\n  );\r\n\r\n  return {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n    setIsLoading,\r\n  };\r\n};\r\n\r\nexport default useHttp;\r\n","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalPrice: 0,\r\n  lastOrder: {},\r\n  userAddress: {},\r\n  setUserAddress: (data) => {},\r\n  addItemToCart: (item) => {},\r\n  removeItemFromCart: (id) => {},\r\n  updateItemQuantity: (id, quantity) => {},\r\n  deleteCartLocal: () => {},\r\n  fetchCartFromDB: () => {},\r\n  saveOrder: (id, items) => {},\r\n  deleteUserCart: (id) => {},\r\n});\r\n\r\nexport default CartContext;\r\n","import React from \"react\";\r\n\r\nconst AuthContext = React.createContext({\r\n  token: \"\",\r\n  userName: \"\",\r\n  isLoggedIn: !!localStorage.getItem(\"token\"),\r\n  openLogin: true,\r\n  openSignup: false,\r\n  loginUser: (userData) => {},\r\n  logoutUser: () => {},\r\n  signupUser: (userData) => {},\r\n  handleOpenLogin: () => {},\r\n  handleOpenSignup: () => {},\r\n  checkLogin: () => {},\r\n  checkPassword: (userData) => {},\r\n});\r\n\r\nexport default AuthContext;\r\n","import React from \"react\";\r\n\r\nconst ModalContext = React.createContext({\r\n  isOpen: false,\r\n  modalText: \"\",\r\n  handleModalText: () => {},\r\n  toggleModal: () => {},\r\n});\r\n\r\nexport default ModalContext;\r\n","import React from \"react\";\r\nimport classes from \"./LoadingOverlay.module.scss\";\r\n\r\nconst LoadingOverlay = () => {\r\n  return (\r\n    <div\r\n      className={`${classes.overlay} bg-green-200 bg-opacity-100 fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-50`}\r\n    >\r\n      <div>\r\n        <h2 className=\"text-3xl mt-3 mb-1 md:m-8 md:mt-10 font-semibold text-center\">\r\n          Loading...\r\n        </h2>\r\n        <div className={`${classes.loader} ${classes.loader1}`}>\r\n          <div>\r\n            <div>\r\n              <div>\r\n                <div>\r\n                  <div>\r\n                    <div></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(LoadingOverlay);\r\n","export default __webpack_public_path__ + \"static/media/baobab.74904978.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"centered-box\":\"Footer_centered-box__1yqCU\",\"heart\":\"Footer_heart__1T8Et\",\"animate-beat\":\"Footer_animate-beat__2DX8H\",\"beat\":\"Footer_beat__3269M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"LoadingOverlay_overlay__3rrf8\",\"loader\":\"LoadingOverlay_loader__3JzvY\",\"loader1\":\"LoadingOverlay_loader1__2KW-f\",\"rotate\":\"LoadingOverlay_rotate__3LgeL\",\"rotate2\":\"LoadingOverlay_rotate2__34mUX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active-item\":\"DottedDropdown_active-item__t2wCo\"};","export default __webpack_public_path__ + \"static/media/Spinner-5.e9202c75.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-button\":\"StoreSearchbar_search-button__3m3Be\"};","import React, { Fragment, useContext, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport { Disclosure, Menu, Transition } from \"@headlessui/react\";\r\nimport {\r\n  ShoppingCartIcon,\r\n  MenuIcon,\r\n  XIcon,\r\n  UserIcon,\r\n} from \"@heroicons/react/outline\";\r\nimport BaobabLogo from \"../../assets/img/baobab.svg\";\r\n\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst MainNav = () => {\r\n  // This came with the component\r\n  function classNames(...classes) {\r\n    return classes.filter(Boolean).join(\" \");\r\n  }\r\n\r\n  const history = useHistory();\r\n\r\n  // User related states\r\n  const { logoutUser, handleOpenLogin } = useContext(AuthContext);\r\n  // Used for greeting user on main nav\r\n  const [userGreeting, setUserGreeting] = useState(\"\");\r\n  const navigation = [userGreeting];\r\n  // Profile menu items\r\n  const profile = [\"Your profile\", \"Your orders\", \"Change password\", \"Sign in\"];\r\n  // User for user data in mobile view\r\n  const [userDataFromToken, setUserDataFromToken] = useState({});\r\n\r\n  // Fetching user data from token\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      setUserDataFromToken(jwt_decode(localStorage.getItem(\"token\")));\r\n    }\r\n  }, []);\r\n\r\n  // Setting user greeting\r\n  useEffect(() => {\r\n    if (userDataFromToken.name) {\r\n      setUserGreeting(`Hi, ${capitalizeWord(userDataFromToken.name)}!`);\r\n    } else {\r\n      setUserGreeting(\"Hi, stranger!\");\r\n    }\r\n  }, [userDataFromToken]);\r\n\r\n  // Cart related\r\n  const { items } = useContext(CartContext);\r\n  const [itemsNum, setItemsNum] = useState(items ? items.length : 0);\r\n  // Bouncing animation for when adding new items\r\n  const [bounceAnimation, setBounceAnimation] = useState(\"\");\r\n\r\n  // Setting the bounce animation and taking it away after half a second\r\n  useEffect(() => {\r\n    setItemsNum(items ? items.length : 0);\r\n    setBounceAnimation(\"animate-bounce\");\r\n    setTimeout(() => {\r\n      setBounceAnimation(\"\");\r\n    }, 500);\r\n  }, [items]);\r\n\r\n  const handleSignin = () => {\r\n    history.push(\"/signin\");\r\n    handleOpenLogin();\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logoutUser();\r\n    history.go(0);\r\n    setUserGreeting(\"\");\r\n  };\r\n\r\n  // When clicking on nav main log\r\n  const handleLogo = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  // Utility function for when showing name\r\n  const capitalizeWord = (word) => word.charAt(0).toUpperCase() + word.slice(1);\r\n\r\n  // All menu items for desktop view\r\n  const showProfileItems = profile.map((item, index) => {\r\n    // Sign in\r\n    if (item === \"Sign in\") {\r\n      return (\r\n        <Menu.Item key={`profile-item-${index + 1}`}>\r\n          {({ active }) => (\r\n            <Link\r\n              id={`profile-item-${index + 1}`}\r\n              onClick={\r\n                localStorage.getItem(\"token\") ? handleLogout : handleSignin\r\n              }\r\n              className={classNames(\r\n                active ? \"bg-gray-100\" : \"\",\r\n                `block px-4 py-2 text-sm text-gray-700 cursor-pointer ${\r\n                  localStorage.getItem(\"token\") && \"bg-yellow-200\"\r\n                } rounded-md`\r\n              )}\r\n            >\r\n              {localStorage.getItem(\"token\") ? \"Log out\" : item}\r\n            </Link>\r\n          )}\r\n        </Menu.Item>\r\n      );\r\n      // Your profile\r\n    } else if (item === \"Your profile\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Menu.Item key={`profile-item-${index + 1}`}>\r\n            {({ active }) => (\r\n              <Link\r\n                to=\"/profile\"\r\n                id={`profile-item-${index + 1}`}\r\n                className={classNames(\r\n                  active ? \"bg-gray-100\" : \"\",\r\n                  \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n                )}\r\n              >\r\n                {item}\r\n              </Link>\r\n            )}\r\n          </Menu.Item>\r\n        )\r\n      );\r\n    } else if (item === \"Change password\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Menu.Item key={`profile-item-${index + 1}`}>\r\n            {({ active }) => (\r\n              <Link\r\n                to=\"/password\"\r\n                id={`profile-item-${index + 1}`}\r\n                className={classNames(\r\n                  active ? \"bg-gray-100\" : \"\",\r\n                  \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n                )}\r\n              >\r\n                {item}\r\n              </Link>\r\n            )}\r\n          </Menu.Item>\r\n        )\r\n      );\r\n    } else if (item === \"Your orders\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Menu.Item key={`profile-item-${index + 1}`}>\r\n            {({ active }) => (\r\n              <Link\r\n                to=\"/orders\"\r\n                id={`profile-item-${index + 1}`}\r\n                className={classNames(\r\n                  active ? \"bg-gray-100\" : \"\",\r\n                  \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n                )}\r\n              >\r\n                {item}\r\n              </Link>\r\n            )}\r\n          </Menu.Item>\r\n        )\r\n      );\r\n    }\r\n    // This is to silence warning\r\n    return null;\r\n  });\r\n\r\n  // All menu items for mobile view\r\n  const showProfileItemsMobile = profile.map((item, index) => {\r\n    // Sign in\r\n    if (item === \"Sign in\") {\r\n      return (\r\n        <Disclosure.Button\r\n          key={`profile-item-${index + 1}`}\r\n          id={`profile-item-${index + 1}`}\r\n          className={classNames(\r\n            `w-full text-left hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer bg-yellow-200 rounded-md`\r\n          )}\r\n        >\r\n          <Link\r\n            to={localStorage.getItem(\"token\") ? \"/\" : \"/signin\"}\r\n            onClick={\r\n              localStorage.getItem(\"token\") ? handleLogout : handleSignin\r\n            }\r\n          >\r\n            {localStorage.getItem(\"token\") ? \"Log out\" : item}\r\n          </Link>\r\n        </Disclosure.Button>\r\n      );\r\n      // Your profile\r\n    } else if (item === \"Your profile\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Disclosure.Button\r\n            id={`profile-item-${index + 1}`}\r\n            className={classNames(\r\n              \"hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n            )}\r\n          >\r\n            <Link to=\"/profile\">{item}</Link>\r\n          </Disclosure.Button>\r\n        )\r\n      );\r\n    } else if (item === \"Change password\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Disclosure.Button\r\n            id={`profile-item-${index + 1}`}\r\n            className={classNames(\r\n              \"hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n            )}\r\n          >\r\n            <Link to=\"/password\">{item}</Link>\r\n          </Disclosure.Button>\r\n        )\r\n      );\r\n    } else if (item === \"Your orders\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Disclosure.Button\r\n            to=\"/orders\"\r\n            id={`profile-item-${index + 1}`}\r\n            className={classNames(\r\n              \"hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n            )}\r\n          >\r\n            <Link to=\"/orders\">{item}</Link>\r\n          </Disclosure.Button>\r\n        )\r\n      );\r\n    }\r\n    // This is to silence warning\r\n    return null;\r\n  });\r\n\r\n  // This is not used at the moment\r\n\r\n  // const showCartItems = cart.map((item, index) => {\r\n  //   return (\r\n  //     <Menu.Item key={item}>\r\n  //       {({ active }) => (\r\n  //         <Link\r\n  //           to={item === \"See cart\" && \"/cart\"}\r\n  //           id={`cart-item-${index + 1}`}\r\n  //           className={classNames(\r\n  //             active ? \"bg-gray-100\" : \"\",\r\n  //             \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n  //           )}\r\n  //         >\r\n  //           {item}\r\n  //         </Link>\r\n  //       )}\r\n  //     </Menu.Item>\r\n  //   );\r\n  // });\r\n\r\n  return (\r\n    <Disclosure as=\"nav\">\r\n      {({ open }) => (\r\n        <>\r\n          <header className=\"max-w-7xl mx-auto mb-3 md:mb-0 px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex items-center justify-between h-16\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0 out\">\r\n                  <img\r\n                    onClick={handleLogo}\r\n                    className=\"h-12 w-12 cursor-pointer\"\r\n                    src={BaobabLogo}\r\n                    alt=\"Workflow\"\r\n                  />\r\n                </div>\r\n                <div className=\"hidden md:block\">\r\n                  <div className=\"ml-10 flex items-baseline space-x-4\">\r\n                    {localStorage.getItem(\"token\") &&\r\n                      navigation.map((item, itemIdx) =>\r\n                        itemIdx === 0 ? (\r\n                          <Fragment key={item}>\r\n                            <p className=\"bg-green-900 text-white px-3 py-2 rounded-md text-sm font-medium cursor-default\">\r\n                              {item}\r\n                            </p>\r\n                          </Fragment>\r\n                        ) : (\r\n                          <p\r\n                            key={item}\r\n                            className=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\r\n                          >\r\n                            {item}\r\n                          </p>\r\n                        )\r\n                      )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"hidden md:block\">\r\n                <div className=\"ml-4 flex items-center md:ml-6\">\r\n                  <Menu as=\"div\" className=\"ml-3 relative\">\r\n                    {({ open }) => (\r\n                      <>\r\n                        <div>\r\n                          <Menu.Button className=\"bg-gray-600 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                            <span className=\"sr-only\">View profile</span>\r\n                            <ShoppingCartIcon\r\n                              onClick={() => {\r\n                                if (items.length > 0) {\r\n                                  history.push(\"/cart\");\r\n                                }\r\n                              }}\r\n                              className=\"h-6 w-6\"\r\n                              aria-hidden=\"true\"\r\n                            />\r\n                            <div\r\n                              className={`absolute top-0 right-0 mt-7 -mr-3 px-2 ${bounceAnimation} bg-yellow-500 rounded-full text-sm text-white font-bold`}\r\n                            >\r\n                              {itemsNum > 0 && itemsNum}\r\n                            </div>\r\n                          </Menu.Button>\r\n                        </div>\r\n                        {/* <Transition\r\n                          show={open}\r\n                          as={Fragment}\r\n                          enter=\"transition ease-out duration-100\"\r\n                          enterFrom=\"transform opacity-0 scale-95\"\r\n                          enterTo=\"transform opacity-100 scale-100\"\r\n                          leave=\"transition ease-in duration-75\"\r\n                          leaveFrom=\"transform opacity-100 scale-100\"\r\n                          leaveTo=\"transform opacity-0 scale-95\"\r\n                        >\r\n                          <Menu.Items\r\n                            static\r\n                            className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\"\r\n                          >\r\n                            {showCartItems}\r\n                          </Menu.Items>\r\n                        </Transition> */}\r\n                      </>\r\n                    )}\r\n                  </Menu>\r\n\r\n                  {/* Profile dropdown */}\r\n                  <Menu as=\"div\" className=\"ml-3 relative\">\r\n                    {({ open }) => (\r\n                      <>\r\n                        <div>\r\n                          {/* <Menu.Button className=\"max-w-xs bg-gray-600 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                            <span className=\"sr-only\">Open user menu</span>\r\n                            <img\r\n                              className=\"h-8 w-8 rounded-full\"\r\n                              src={UserCircleIcon}\r\n                              alt=\"Generic avatar logo\"\r\n                            />\r\n                          </Menu.Button> */}\r\n                          <Menu.Button className=\"bg-gray-600 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                            <span className=\"sr-only\">View profile</span>\r\n                            <UserIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n                          </Menu.Button>\r\n                        </div>\r\n                        <Transition\r\n                          show={open}\r\n                          as={Fragment}\r\n                          enter=\"transition ease-out duration-100\"\r\n                          enterFrom=\"transform opacity-0 scale-95\"\r\n                          enterTo=\"transform opacity-100 scale-100\"\r\n                          leave=\"transition ease-in duration-75\"\r\n                          leaveFrom=\"transform opacity-100 scale-100\"\r\n                          leaveTo=\"transform opacity-0 scale-95\"\r\n                        >\r\n                          <Menu.Items\r\n                            static\r\n                            className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 pb-0 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\"\r\n                          >\r\n                            {showProfileItems}\r\n                          </Menu.Items>\r\n                        </Transition>\r\n                      </>\r\n                    )}\r\n                  </Menu>\r\n                </div>\r\n              </div>\r\n              <div className=\"-mr-2 flex md:hidden\">\r\n                {/* Mobile menu button */}\r\n                <Disclosure.Button className=\"bg-gray-600 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                  <span className=\"sr-only\">Open main menu</span>\r\n                  {open ? (\r\n                    <XIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\r\n                  ) : (\r\n                    <MenuIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\r\n                  )}\r\n                </Disclosure.Button>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          {/* Mobile version */}\r\n          <Disclosure.Panel className=\"md:hidden bg-white mb-5\">\r\n            <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n              {/* Navigation only has one element at the moment */}\r\n              {navigation.map((item, itemIdx) =>\r\n                itemIdx === 0 ? (\r\n                  <Fragment key={item}>\r\n                    <div className=\"bg-green-800 text-white block px-3 py-2 rounded-md text-base font-medium\">\r\n                      {item}\r\n                    </div>\r\n                  </Fragment>\r\n                ) : (\r\n                  // This is not used at the moment\r\n                  <p\r\n                    key={item}\r\n                    className=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\"\r\n                  >\r\n                    {item}\r\n                  </p>\r\n                )\r\n              )}\r\n            </div>\r\n            <div className=\"pt-4 pb-3 border-t border-gray-700\">\r\n              <div className=\"flex items-center px-5\">\r\n                {userDataFromToken.name && (\r\n                  <>\r\n                    <div className=\"flex-shrink-0 bg-gray-600 p-1 rounded-full text-white hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                      <UserIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n                    </div>\r\n                    {/* Box with name and e-mail */}\r\n                    <div className=\"ml-3\">\r\n                      <div className=\"text-base font-medium leading-none text-gray-800\">\r\n                        {`${capitalizeWord(\r\n                          userDataFromToken.name\r\n                        )} ${capitalizeWord(userDataFromToken.surname)}`}\r\n                      </div>\r\n                      <div className=\"text-sm font-medium leading-none text-gray-400\">\r\n                        {userDataFromToken && userDataFromToken.email}\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n                <Disclosure.Button className=\"ml-auto bg-gray-600 flex-shrink-0 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                  <span className=\"sr-only\">View shopping cart</span>\r\n                  <ShoppingCartIcon\r\n                    onClick={() => {\r\n                      if (items.length > 0) {\r\n                        history.push(\"/cart\");\r\n                      }\r\n                    }}\r\n                    className=\"h-6 w-6\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                </Disclosure.Button>\r\n                <div\r\n                  className={`relative mt-8 -ml-2 -mr-2 px-2 ${bounceAnimation} bg-yellow-500 rounded-full text-sm text-white font-bold`}\r\n                >\r\n                  {itemsNum > 0 && itemsNum}\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3 px-2 space-y-1\" show={open}>\r\n                {showProfileItemsMobile}\r\n              </div>\r\n            </div>\r\n          </Disclosure.Panel>\r\n        </>\r\n      )}\r\n    </Disclosure>\r\n  );\r\n};\r\n\r\nexport default MainNav;\r\n","import { SpeakerphoneIcon, XIcon } from \"@heroicons/react/outline\";\r\nimport { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst BannerContent = () => {\r\n  const [show, setShow] = useState(true);\r\n\r\n  if (show) {\r\n    return (\r\n      <div className=\"bg-yellow-500\">\r\n        <div className=\"max-w-11xl mx-auto py-1.5 px-3 sm:px-6 lg:px-8 z-10\">\r\n          <div className=\"flex items-center justify-between flex-wrap\">\r\n            <div className=\"w-0 flex-1 flex items-center\">\r\n              <span className=\"flex p-2 rounded-lg bg-yellow-700\">\r\n                <SpeakerphoneIcon\r\n                  className=\"h-4 w-4 text-white\"\r\n                  aria-hidden=\"true\"\r\n                />\r\n              </span>\r\n              <p className=\"ml-3 font-small text-white\">\r\n                <span className=\"md:hidden\">\r\n                  {\"Click \"}\r\n                  <a\r\n                    href=\"https://github.com/nicolasgasco\"\r\n                    target=\"blank\"\r\n                    classList=\"cursor-pointer underline\"\r\n                  >\r\n                    here\r\n                  </a>\r\n                  {\" for my Github!\"}\r\n                </span>\r\n                <span className=\"hidden md:inline\">\r\n                  {\"Click \"}\r\n                  <a\r\n                    href=\"https://github.com/nicolasgasco\"\r\n                    target=\"blank\"\r\n                    classList=\"cursor-pointer underline\"\r\n                  >\r\n                    here\r\n                  </a>\r\n                  {\" to see my Github!\"}\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div className=\"order-2 flex-shrink-0 sm:order-3 sm:ml-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShow(false);\r\n                }}\r\n                className=\"-mr-1 flex p-2 rounded-md hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2\"\r\n              >\r\n                <span className=\"sr-only\">Dismiss</span>\r\n                <XIcon className=\"h-5 w-5 text-white\" aria-hidden=\"true\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n\r\nconst HeaderBanner = () => {\r\n  return (\r\n    <>\r\n      {ReactDOM.createPortal(\r\n        <BannerContent />,\r\n        document.getElementById(\"overlay-root\")\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HeaderBanner;\r\n","import { Fragment, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { Dialog, Transition } from \"@headlessui/react\";\r\nimport { ExclamationIcon } from \"@heroicons/react/outline\";\r\nimport ModalContext from \"../../store/modal-context\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nconst MainModal = () => {\r\n  const { isOpen, modalText, modalBody, toggleModal } =\r\n    useContext(ModalContext);\r\n\r\n  const [open, setOpen] = useState(isOpen);\r\n  const [text, setText] = useState(modalText);\r\n  const [body, setBody] = useState(modalBody);\r\n\r\n  const cancelButtonRef = useRef(null);\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setOpen(isOpen);\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    setText(modalText);\r\n  }, [modalText]);\r\n\r\n  useEffect(() => {\r\n    setBody(modalBody);\r\n  }, [modalBody]);\r\n\r\n  const handleModalClose = () => {\r\n    toggleModal();\r\n    console.log(location.pathname);\r\n    // This is necessary to not redirect when changing profile data\r\n    if (localStorage.getItem(\"token\") && location.pathname !== \"/profile\") {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Transition.Root show={open} as={Fragment}>\r\n      <Dialog\r\n        as=\"div\"\r\n        static\r\n        className=\"fixed z-10 inset-0 overflow-y-auto\"\r\n        initialFocus={cancelButtonRef}\r\n        open={open}\r\n        onClose={handleModalClose}\r\n      >\r\n        <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n          <Transition.Child\r\n            as={Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <Dialog.Overlay className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" />\r\n          </Transition.Child>\r\n\r\n          {/* This element is to trick the browser into centering the modal contents. */}\r\n          <span\r\n            className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            &#8203;\r\n          </span>\r\n          <Transition.Child\r\n            as={Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\r\n            enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\r\n            leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\r\n          >\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div className=\"sm:flex sm:items-start\">\r\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10\">\r\n                    <ExclamationIcon\r\n                      className=\"h-6 w-6 text-yellow-600\"\r\n                      aria-hidden=\"true\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                    <Dialog.Title\r\n                      as=\"h3\"\r\n                      className=\"text-lg leading-6 font-medium text-gray-900\"\r\n                    >\r\n                      {text}\r\n                    </Dialog.Title>\r\n                    {modalBody && (\r\n                      <ul className=\"mt-2\">\r\n                        {body.map((message) => {\r\n                          return (\r\n                            <li className=\"ml-5 text-left list-disc text-sm text-gray-500\">\r\n                              {/* This is to make the message more beautiful */}\r\n                              {message.replaceAll(\".\", \",\")}\r\n                            </li>\r\n                          );\r\n                        })}\r\n                      </ul>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-yellow-600 text-base font-medium text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 sm:ml-3 sm:w-auto sm:text-sm\"\r\n                  onClick={handleModalClose}\r\n                >\r\n                  Ok\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\r\n                  onClick={handleModalClose}\r\n                  ref={cancelButtonRef}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </Transition.Child>\r\n        </div>\r\n      </Dialog>\r\n    </Transition.Root>\r\n  );\r\n};\r\n\r\nexport default MainModal;\r\n","import BaobabLogo from \"../../assets/img/baobab.svg\";\r\nimport classes from \"./Footer.module.scss\";\r\n\r\nconst IndexPage = () => {\r\n  return (\r\n    <>\r\n      <div className=\"bg-gray-200 bg-opacity-60 pb-6 p-0 mt-8 footer-background border-gray-200 border-t-8\">\r\n        <div className=\"mx-auto container pt-20 lg:pt-30 flex flex-col items-center justify-center\">\r\n          <img\r\n            src={BaobabLogo}\r\n            alt=\"Illustration of a baobab\"\r\n            className=\"w-32 h-32\"\r\n          />\r\n          <div className=\"text-black flex flex-col md:items-center f-f-l pt-3\">\r\n            <h1 className=\"text-2xl font-black text-center\">\r\n              Baobab. Shopping. With conscience.\r\n            </h1>\r\n            <div className=\"text-md text-color mb-5 mt-5 f-f-l flex justify-center content-baseline\">\r\n              <p className=\"pr-2\">© Created with </p>\r\n              <div className={classes[\"centered-box\"]}>\r\n                <span\r\n                  className={`${classes[\"heart\"]} ${classes[\"animate-beat\"]}`}\r\n                >\r\n                  💚\r\n                </span>\r\n              </div>{\" \"}\r\n              <p>by Nicolas Gasco</p>\r\n            </div>\r\n            <div className=\"mt-3 mb-10 text-base text-color f-f-l\">\r\n              <ul className=\"text-center md:flex items-center\">\r\n                <li className=\" md:mr-6 cursor-pointer pt-4 lg:py-0\">About</li>\r\n                <li className=\" md:mr-6 cursor-pointer pt-4 lg:py-0\">\r\n                  Features\r\n                </li>\r\n                <li className=\" md:mr-6 cursor-pointer pt-4 lg:py-0\">\r\n                  Careers\r\n                </li>\r\n                <li className=\" md:mr-6 cursor-pointer pt-4 lg:py-0\">Help</li>\r\n                <li className=\"cursor-pointer pt-4 lg:py-0\">Privacy Policy</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"text-color mb-10 f-f-l text-center text-xs\">\r\n              <p>\r\n                <a\r\n                  href=\"https://storyset.com/work\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Work illustrations by Storyset\r\n                </a>\r\n              </p>\r\n              <p>\r\n                Icons by{\" \"}\r\n                <a\r\n                  href=\"https://www.freepik.com\"\r\n                  title=\"Freepik\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Freepik\r\n                </a>\r\n                {\" and \"}{\" \"}\r\n                <a\r\n                  href=\"https://www.flaticon.com/authors/smashicons\"\r\n                  title=\"Smashicons\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Smashicons\r\n                </a>{\" \"}\r\n                from{\" \"}\r\n                <a\r\n                  href=\"https://www.flaticon.com/\"\r\n                  title=\"Flaticon\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  www.flaticon.com\r\n                </a>\r\n              </p>\r\n              <p>\r\n                <a\r\n                  href=\"https://www.freepik.com/vectors/background\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Background vector created by visnezh from www.freepik.com\r\n                </a>\r\n              </p>\r\n              <a\r\n                href=\"https://www.vecteezy.com/free-vector/nature\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                Nature Vectors by Vecteezy\r\n              </a>\r\n              <p>\r\n                <a\r\n                  href=\"https://codepen.io/clairecodes/pen/wyrJMe\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Pulsing heart by Claire\r\n                </a>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"w-9/12  h-0.5 bg-gray-100 rounded-full\" />\r\n          <div className=\"flex justify-between items-center pt-12\">\r\n            <div className=\"mr-4\">\r\n              <a\r\n                href={\"https://github.com/nicolasgasco\"}\r\n                target={\"_blank\"}\r\n                rel=\"noreferrer\"\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"50\"\r\n                  height=\"50\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" />\r\n                </svg>\r\n              </a>\r\n            </div>\r\n            <div>\r\n              <a\r\n                href={\"https://www.linkedin.com/in/nicolasgasco/\"}\r\n                target={\"_blank\"}\r\n                rel=\"noreferrer\"\r\n              >\r\n                <img\r\n                  src={\r\n                    \"https://res.cloudinary.com/ngasco/image/upload/v1624048194/bonsai_background/linkedin_toeevg.svg\"\r\n                  }\r\n                  alt={\"LinkedIn logo\"}\r\n                  className=\"w-12\"\r\n                />\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IndexPage;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport classes from \"./DottedDropdown.module.css\";\r\nconst DottedDropdown = ({\r\n  items,\r\n  handleDepartmentFilter,\r\n  departmentFilter,\r\n}) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    handleDepartmentFilter({ name: \"all\" });\r\n  }, [handleDepartmentFilter]);\r\n\r\n  const capitalizeWord = (word) => {\r\n    return word.charAt(0).toUpperCase() + word.slice(1);\r\n  };\r\n\r\n  const handleMenuItem = (item) => {\r\n    // Send filter to main content\r\n    handleDepartmentFilter(item);\r\n    setShow(false);\r\n  };\r\n\r\n  const showItems = items.map((item) => {\r\n    return (\r\n      <li\r\n        key={`menu-item-${item._id}`}\r\n        onClick={() => handleMenuItem(item)}\r\n        className={`cursor-pointer text-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 text-sm leading-3 tracking-normal py-3 hover:bg-green-100 px-3 font-normal ${\r\n          departmentFilter.name === item.name && classes[\"active-item\"]\r\n        }`}\r\n      >\r\n        {capitalizeWord(item.name)}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"mx-auto\">\r\n      <div className=\"container flex justify-center mx-auto\">\r\n        <div className=\"\">\r\n          {/* Code block starts */}\r\n          <div className=\"relative z-10\">\r\n            <div\r\n              className=\"cursor-pointer text-gray-600 dark:text-gray-400\"\r\n              onClick={() => setShow(!show)}\r\n            >\r\n              {departmentFilter ? (\r\n                <h4 className=\"text-sm px-2 font-bold\">\r\n                  {capitalizeWord(departmentFilter.name || \"all\")}\r\n                </h4>\r\n              ) : (\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"icon icon-tabler icon-tabler-dots\"\r\n                  width={30}\r\n                  height={30}\r\n                  viewBox=\"0 0 24 24\"\r\n                  strokeWidth=\"1.5\"\r\n                  stroke=\"currentColor\"\r\n                  fill=\"none\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                >\r\n                  <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\r\n                  <circle cx={5} cy={12} r={1} />\r\n                  <circle cx={12} cy={12} r={1} />\r\n                  <circle cx={19} cy={12} r={1} />\r\n                </svg>\r\n              )}\r\n            </div>\r\n            {show && (\r\n              <ul className=\"mt-2 visible transition duration-300 opacity-100 bg-white dark:bg-gray-800 shadow rounded py-1 w-48 absolute\">\r\n                <li\r\n                  key={`all`}\r\n                  onClick={() => handleMenuItem({ name: \"all\" })}\r\n                  className={`cursor-pointer rounded text-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 text-sm leading-3 tracking-normal py-3 font-bold hover:bg-gray-100 px-3  ${\r\n                    departmentFilter.name === \"all\" && classes[\"active-item\"]\r\n                  }`}\r\n                >\r\n                  All\r\n                </li>\r\n                {showItems}\r\n              </ul>\r\n            )}\r\n          </div>\r\n          {/* Code block ends */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default DottedDropdown;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport useHttp from \"../../hooks/use-http\";\r\nimport DottedDropdown from \"../UI/DottedDropdown\";\r\nimport classes from \"./StoreSearchbar.module.css\";\r\n\r\nconst StoreSearchbar = ({\r\n  onGetSearchbarInput,\r\n  handleActivePage,\r\n  handleDepartmentFilter,\r\n  departmentFilter,\r\n}) => {\r\n  const searchbarInputRef = useRef();\r\n\r\n  const [menuItems, setMenuItems] = useState([]);\r\n\r\n  const [activeMenuItem, setActiveMenuItem] = useState({});\r\n\r\n  // Custom hook per HTTP requests\r\n  const { isLoading, setIsLoading, sendRequest: fetchDepartments } = useHttp();\r\n\r\n  // Fetch departments when rendering product card\r\n  useEffect(() => {\r\n    const modifyFetchedDepartments = (res) => {\r\n      setMenuItems(res.results);\r\n    };\r\n    fetchDepartments({ url: \"api/departments\" }, modifyFetchedDepartments);\r\n    // Works better without dependencies\r\n  }, [fetchDepartments]);\r\n\r\n  const handleSubmitSearchbar = (event) => {\r\n    event.preventDefault();\r\n    const currentSearchbarInput = searchbarInputRef.current.value.trim();\r\n\r\n    // if (currentSearchbarInput) {\r\n    onGetSearchbarInput(currentSearchbarInput);\r\n    handleActivePage(1);\r\n    // }\r\n  };\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmitSearchbar}\r\n      className=\"bg-white bg-opacity-100 w-11/12 lg:w-1/2 mt-4 pl-2 max-w-full mx-auto flex items-center rounded-full shadow-xl\"\r\n    >\r\n      <div className=\"p-2 bg-gray-300 text-white rounded-full hover:bg-green-400 focus:outline-none w-20 h-10\">\r\n        <DottedDropdown\r\n          items={menuItems}\r\n          departmentFilter={departmentFilter}\r\n          handleDepartmentFilter={handleDepartmentFilter}\r\n        />\r\n      </div>\r\n      <input\r\n        className=\"rounded-l-full bg-transparent w-full py-4 px-6 text-gray-700 placeholder-gray-700 text-center leading-tight focus:outline-none tracking-wider text-lg\"\r\n        id=\"search\"\r\n        type=\"text\"\r\n        placeholder=\"Search...\"\r\n        ref={searchbarInputRef}\r\n      />\r\n\r\n      <div className=\"p-2\">\r\n        <button\r\n          className={`${classes[\"search-button\"]} bg-green-500 text-white rounded-full p-2 hover:bg-green-400 focus:outline-none w-10 h-10 flex items-center justify-center`}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default React.memo(StoreSearchbar);\r\n","import {\r\n  HeartIcon,\r\n  GlobeIcon,\r\n  LightningBoltIcon,\r\n  ScaleIcon,\r\n} from \"@heroicons/react/outline\";\r\n\r\nconst features = [\r\n  {\r\n    name: \"Conscious products\",\r\n    description:\r\n      \"Our products out hand-picked among the best companies offering the best environmentally and socially products on the market.\",\r\n    icon: ScaleIcon,\r\n  },\r\n  {\r\n    name: \"Carbon offset\",\r\n    description:\r\n      \"For every order we receive, we offset 50% of the carbon footprint. You can choose to add the remaining 50%.\",\r\n    icon: GlobeIcon,\r\n  },\r\n  {\r\n    name: \"Fast and sustainable shipping\",\r\n    description:\r\n      \"We partner with sustainable shipping companies to provide a shipping service which is both good for the environment and as fast a lightning\",\r\n    icon: LightningBoltIcon,\r\n  },\r\n  {\r\n    name: \"Ethical employer\",\r\n    description:\r\n      \"All our workers enjoy the best working conditions we can possibly offer them, both in the offices and warehouses.\",\r\n    icon: HeartIcon,\r\n  },\r\n];\r\n\r\nexport default function Example() {\r\n  return (\r\n    <>\r\n      <div className=\"lg:text-center\">\r\n        <h2 className=\"text-base text-green-600 font-bold tracking-wide uppercase\">\r\n          Green, convenient, sustainable\r\n        </h2>\r\n        <h1 className=\"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl\">\r\n          Start shopping on Baobab\r\n        </h1>\r\n        <p className=\"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto\"></p>\r\n      </div>\r\n      <div className=\"mt-10\">\r\n        <dl className=\"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10\">\r\n          {features.map((feature) => (\r\n            <div key={feature.name} className=\"relative\">\r\n              <dt>\r\n                <div className=\"absolute flex items-center justify-center h-12 w-12 rounded-md bg-yellow-500 text-white\">\r\n                  <feature.icon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n                </div>\r\n                <p className=\"ml-16 text-lg leading-6 font-medium text-gray-900\">\r\n                  {feature.name}\r\n                </p>\r\n              </dt>\r\n              <dd className=\"mt-2 ml-16 text-base text-gray-500\">\r\n                {feature.description}\r\n              </dd>\r\n            </div>\r\n          ))}\r\n        </dl>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","const BoxWrapper = (props) => {\r\n  return (\r\n    <section className=\"flex justify-center\">\r\n      <div\r\n        className={`w-full md:w-10/12 sm:max-w-2xl md:max-w-7xl xl:max-w-6xl py-6 md:py-12 px-3 lg:px-12 my-8 mx-2 md:mx-10 lg:mx-36  rounded-xl shadow-xl bg-white min-h-full\" +\r\n    ${props.className}`}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default BoxWrapper;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport Spinner from \"../../../assets/img/Spinner-5.gif\";\r\nimport LoadingOverlay from \"../../UI/LoadingOverlay\";\r\n\r\nimport CartContext from \"../../../store/cart-context\";\r\nimport useHttp from \"../../../hooks/use-http\";\r\n\r\nconst ProductCard = ({ product, picturesLoading, classes, short }) => {\r\n  const [departmentName, setDepartmentName] = useState(\"Loading...\");\r\n\r\n  const { addItemToCart } = useContext(CartContext);\r\n\r\n  // Animation used for cart icon\r\n  const [pingAnimation, setPingAnimation] = useState(\"\");\r\n\r\n  // Custom hook per HTTP requests\r\n  const { isLoading, setIsLoading, sendRequest: fetchDepartments } = useHttp();\r\n\r\n  // Fetch departments when rendering product card\r\n  useEffect(() => {\r\n    const modifyFetchedDepartments = (res) => {\r\n      setDepartmentName(res.results[0].translations.en_us);\r\n    };\r\n    fetchDepartments({ url: \"api/departments\" }, modifyFetchedDepartments);\r\n    // Works better without dependencies\r\n  }, [fetchDepartments]);\r\n\r\n  const handleAddToCart = (id) => {\r\n    console.log(\"loading\");\r\n    setIsLoading(true);\r\n    addItemToCart(id);\r\n    setPingAnimation(\"animate-ping\");\r\n    setIsLoading(false);\r\n    console.log(\"finished\");\r\n    setPingAnimation(\"\");\r\n  };\r\n\r\n  let showPictureOrLoader = (\r\n    <img\r\n      src={product.pictures[0].url}\r\n      alt={product.pictures[0].alt}\r\n      className=\"w-full object-contain h-full object-center rounded-lg\"\r\n    />\r\n  );\r\n  if (picturesLoading) {\r\n    showPictureOrLoader = (\r\n      <img\r\n        src={Spinner}\r\n        alt=\"Loading animation\"\r\n        className=\"w-1/3 mx-auto p-5 object-cover object-center rounded-lg\"\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingOverlay />}\r\n      <div\r\n        key={`product-${product._id}`}\r\n        className={`${\r\n          classes ? classes : \"pb-10 md:px-4 sm:w-1/2 xl:w-1/3 px-2\"\r\n        }\r\n        `}\r\n      >\r\n        <div className=\"h-full\">\r\n          <div className=\"bg-white p-0 rounded-lg shadow-md\">\r\n            {showPictureOrLoader}\r\n          </div>\r\n          <div className=\"relative px-1 -mt-6\">\r\n            <div className=\"bg-yellow-200 p-4 rounded-lg shadow-xl\">\r\n              <div className=\"flex items-baseline\">\r\n                <span className=\"bg-teal-200 text-teal-800 text-xs px-2 inline-block rounded-full  uppercase font-semibold tracking-wide\">\r\n                  {departmentName}\r\n                </span>\r\n              </div>\r\n              <h3 className=\"mt-2 text-xl font-semibold leading-tight mb-2\">\r\n                {`${product.completeName.brand} ${product.completeName.productName}, ${product.completeName.shortDesc}, ${product.completeName.productDesc1}, ${product.completeName.productDesc2}, ${product.completeName.productDesc3}, ${product.completeName.color}`}\r\n              </h3>\r\n              <div className=\"mt-2 text-3xl\">\r\n                {Number.parseInt(product.pricingInfo.price)}\r\n                {\".\"}\r\n                {\r\n                  <span className=\"text-xl\">\r\n                    {(\r\n                      (product.pricingInfo.price -\r\n                        Math.floor(product.pricingInfo.price)) *\r\n                      100\r\n                    ).toFixed(0)}\r\n                  </span>\r\n                }\r\n                <p className=\"inline text-2xl\"> €</p>\r\n              </div>\r\n              {!short && (\r\n                <>\r\n                  <div className=\"mt-4\">\r\n                    <span className=\"text-teal-600 text-md font-semibold\">\r\n                      FROM:\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      {` ${product.ecoInfo.originCountryCode}`}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"mt-1\">\r\n                    <span className=\"text-teal-600 text-md font-semibold uppercase\">\r\n                      Made in:\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      {` ${product.ecoInfo.productionCountryCode}`}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"mt-4\">\r\n                    <span className=\"text-teal-600 text-md font-semibold uppercase\">\r\n                      Social:\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      {` ${product.ecoInfo.socialMission}`}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"mt-1\">\r\n                    <span className=\"text-teal-600 text-md font-semibold uppercase\">\r\n                      Environment:\r\n                    </span>\r\n                    <span className=\"text-sm text-gray-600\">\r\n                      {` ${product.ecoInfo.environmentMission}`}\r\n                    </span>\r\n                  </div>\r\n                </>\r\n              )}\r\n\r\n              <div className=\"w-full flex justify-center\">\r\n                <button\r\n                  onClick={() => {\r\n                    handleAddToCart(product);\r\n                  }}\r\n                  value={product._id}\r\n                  className={`px-6 py-2 mt-4 transition ease-in duration-200 uppercase rounded-full hover:bg-green-500 hover:text-white ${pingAnimation} hover:bold border-2 border-green-900 focus:outline-none`}\r\n                >\r\n                  Buy\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductCard;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ProductCard from \"../Results/ProductCard\";\r\n\r\nimport useHttp from \"../../../hooks/use-http\";\r\n\r\nconst ProductsSectionCard = () => {\r\n  const [products, setProducts] = useState([\"\", \"\", \"\"]);\r\n\r\n  const { sendRequest: fetchLatestProducts } = useHttp();\r\n\r\n  useEffect(() => {\r\n    // Fetching latest three results\r\n    const handleFetchedProducts = (result) => {\r\n      if (result.resultsFound !== 3) {\r\n        throw new Error(\"Found less than three results\");\r\n      }\r\n      setProducts(result.results);\r\n    };\r\n    fetchLatestProducts(\r\n      {\r\n        url: \"/api/products/?pageSize=3&pageNum=1&sortBy=creationDate&order=-1\",\r\n      },\r\n      handleFetchedProducts\r\n    );\r\n  }, [fetchLatestProducts]);\r\n\r\n  const showCards = products.map((product, index) => {\r\n    if (index < 3) {\r\n      return (\r\n        product && (\r\n          <ProductCard\r\n            short={true}\r\n            classes={\r\n              \"mx-auto max-w-md w-full md:w-1/2 xl:w-1/3 py-4 lg:py-0  px-2 flex flex-col justify-center\"\r\n            }\r\n            product={product}\r\n          />\r\n        )\r\n      );\r\n    }\r\n    return null;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"-mt-4 mb-8 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl text-center\">\r\n        Our latest arrivals\r\n      </h2>\r\n      <div className=\"flex items-center\">\r\n        <div className=\"w-full\">\r\n          <div className=\"flex flex-col md:flex-row\">{showCards}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ProductsSectionCard;\r\n","import React, {\r\n  useEffect,\r\n  useReducer,\r\n  useCallback,\r\n  useContext,\r\n  Suspense,\r\n} from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\n// Components\r\nimport StoreSearchbar from \"./StoreSearchbar\";\r\nimport HeroMain from \"./HeroMain\";\r\nimport BoxWrapper from \"../UI/BoxWrapper\";\r\nimport ProductsSectionCard from \"./ProductsSection/ProductsSectionCard\";\r\nimport LoadingOverlay from \"../UI/LoadingOverlay\";\r\n\r\n// Auth context for authentication\r\nimport AuthContext from \"../../store/auth-context\";\r\n\r\n// Custom hook for querying APIK\r\nimport useHttp from \"../../hooks/use-http\";\r\n\r\nconst ProfilePage = React.lazy(() => import(\"../Profile/ProfilePage\"));\r\nconst PasswordChange = React.lazy(() => import(\"../Profile/PasswordChange\"));\r\nconst ShoppingCart = React.lazy(() => import(\"../Cart/ShoppingCart\"));\r\nconst CheckoutForm = React.lazy(() => import(\"../Cart/CheckoutForm\"));\r\nconst OrderSent = React.lazy(() => import(\"../Cart/OrderSent\"));\r\nconst AuthContent = React.lazy(() => import(\"./Auth/AuthContent\"));\r\nconst Orders = React.lazy(() => import(\"../Cart/Orders\"));\r\nconst ResultsBox = React.lazy(() => import(\"./Results/ResultsBox\"));\r\n\r\nconst defaultResultsState = {\r\n  showResultsBox: false,\r\n  contentLoading: false,\r\n  picturesLoading: false,\r\n  isEmpty: false,\r\n  activePage: 1,\r\n  paginationData: {},\r\n  searchKeywords: \"\",\r\n  resultsPerPage: 6,\r\n  fetchedProducts: [],\r\n  showAuth: false,\r\n  departmentFilter: { name: \"all\" },\r\n  sortingFilter: \"\",\r\n};\r\n\r\nconst resultsReducer = (state, action) => {\r\n  switch (action.type) {\r\n    // case \"SHOW_RESULTS\":\r\n    //   return { ...state, showResultsBox: action.val };\r\n    case \"CONTENT_LOADING\":\r\n      return { ...state, contentLoading: action.val };\r\n    case \"PICTURES_LOADING\":\r\n      return { ...state, picturesLoading: action.val };\r\n    case \"IS_EMPTY\":\r\n      return { ...state, isEmpty: action.val };\r\n    case \"ACTIVE_PAGE\":\r\n      return { ...state, activePage: action.val };\r\n    case \"PAGINATION_DATA\":\r\n      return { ...state, paginationData: action.val };\r\n    case \"SEARCH_KEYWORDS\":\r\n      return { ...state, searchKeywords: action.val };\r\n    case \"RESULTS_PAGE\":\r\n      return { ...state, resultsPerPage: action.val };\r\n    case \"FETCHED_PRODUCTS\":\r\n      return { ...state, fetchedProducts: action.val };\r\n    case \"SHOW_AUTH\":\r\n      return { ...state, showAuth: !state };\r\n    case \"DEPARTMENT_FILTER\":\r\n      return { ...state, departmentFilter: action.val };\r\n    case \"SORTING_FILTER\":\r\n      return { ...state, sortingFilter: action.val };\r\n    default:\r\n      return defaultResultsState;\r\n  }\r\n};\r\n\r\nconst MainContent = () => {\r\n  // Reducer for handling form\r\n  const [resultsState, dispatchResults] = useReducer(\r\n    resultsReducer,\r\n    defaultResultsState\r\n  );\r\n\r\n  const { checkLogin } = useContext(AuthContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const { sendRequest: fetchProducts } = useHttp();\r\n\r\n  // Fetching the products by keywords\r\n  const getSearchbarInput = useCallback(\r\n    (input) => {\r\n      // Redirect to search to render searchbox\r\n      history.push(\"/search\");\r\n      // dispatchResults({ type: \"SHOW_RESULTS\", val: true });\r\n      dispatchResults({ type: \"CONTENT_LOADING\", val: true });\r\n      dispatchResults({ type: \"PICTURES_LOADING\", val: true });\r\n      dispatchResults({ type: \"IS_EMPTY\", val: false });\r\n      // THis is necessary, otherwise some products just stay stuck there\r\n      dispatchResults({ type: \"FETCHED_PRODUCTS\", val: [] });\r\n      dispatchResults({ type: \"SEARCH_KEYWORDS\", val: input });\r\n\r\n      console.log(\"Fetching products...\");\r\n\r\n      // Function with logic for when products are fetched\r\n      const handleFetchedProducts = (res) => {\r\n        if (res.results.length === 0) {\r\n          dispatchResults({ type: \"IS_EMPTY\", val: true });\r\n          dispatchResults({ type: \"PICTURES_LOADING\", val: false });\r\n          dispatchResults({ type: \"CONTENT_LOADING\", val: false });\r\n        } else {\r\n          dispatchResults({ type: \"FETCHED_PRODUCTS\", val: res.results });\r\n          dispatchResults({\r\n            type: \"PAGINATION_DATA\",\r\n            val: {\r\n              productsFound: res.productsFound,\r\n              pageNumber: res.pageNumber,\r\n              pageSize: res.pageSize,\r\n              totalProducts: res.totalProducts,\r\n              totalPages: res.totalPages,\r\n            },\r\n          });\r\n          dispatchResults({ type: \"PICTURES_LOADING\", val: false });\r\n          setTimeout(() => {\r\n            dispatchResults({ type: \"CONTENT_LOADING\", val: false });\r\n          }, 1000);\r\n          dispatchResults({ type: \"IS_EMPTY\", val: false });\r\n        }\r\n      };\r\n\r\n      // Function with logic for when an error occurs\r\n      const handleError = () => {\r\n        dispatchResults({ type: \"IS_EMPTY\", val: true });\r\n        dispatchResults({ type: \"PICTURES_LOADING\", val: false });\r\n        dispatchResults({ type: \"CONTENT_LOADING\", val: false });\r\n      };\r\n\r\n      fetchProducts(\r\n        {\r\n          url: `api/products/search/?pageNum=${resultsState.activePage.toString()}&pageSize=${resultsState.resultsPerPage.toString()}${\r\n            resultsState.departmentFilter.name !== \"all\"\r\n              ? `&department=${resultsState.departmentFilter._id || \"\"}`\r\n              : \"\"\r\n          }${\r\n            resultsState.sortingFilter\r\n              ? `&sortBy=${resultsState.sortingFilter}`\r\n              : \"\"\r\n          }`,\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: {\r\n            keywords: input,\r\n          },\r\n        },\r\n        handleFetchedProducts,\r\n        handleError\r\n      );\r\n    },\r\n    [\r\n      resultsState.activePage,\r\n      resultsState.resultsPerPage,\r\n      history,\r\n      fetchProducts,\r\n      resultsState.departmentFilter,\r\n      resultsState.sortingFilter,\r\n    ]\r\n  );\r\n\r\n  const handleActivePage = useCallback(\r\n    (data) => {\r\n      dispatchResults({ type: \"ACTIVE_PAGE\", val: data });\r\n    },\r\n    [dispatchResults]\r\n  );\r\n\r\n  const handlePageChange = useCallback(\r\n    (event) => {\r\n      handleActivePage(event.target.value);\r\n    },\r\n    [handleActivePage]\r\n  );\r\n\r\n  const handleResultsPerPage = useCallback(\r\n    (value) => {\r\n      if (resultsState.activePage !== 1) {\r\n        dispatchResults({ type: \"ACTIVE_PAGE\", val: 1 });\r\n      }\r\n      dispatchResults({ type: \"RESULTS_PAGE\", val: value });\r\n    },\r\n    [resultsState.activePage]\r\n  );\r\n\r\n  const handleDepartmentFilter = useCallback((value) => {\r\n    if (value.name) {\r\n      dispatchResults({ type: \"DEPARTMENT_FILTER\", val: value });\r\n    }\r\n  }, []);\r\n\r\n  const handleSortingFilter = useCallback((value) => {\r\n    console.log(\"VALUEEE\", value);\r\n    dispatchResults({ type: \"SORTING_FILTER\", val: value });\r\n    dispatchResults({ type: \"SEARCH_KEYWORDS\", val: \"\" });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (resultsState.searchKeywords !== \"\") {\r\n      getSearchbarInput(resultsState.searchKeywords);\r\n    }\r\n  }, [\r\n    resultsState.resultsPerPage,\r\n    resultsState.searchKeywords,\r\n    resultsState.activePage,\r\n    getSearchbarInput,\r\n  ]);\r\n\r\n  // Redirecting if there are no results on load (e.g. when manually realoding)\r\n  useEffect(() => {\r\n    console.log(\"No products fetched\");\r\n    if (resultsState.fetchedProducts.length === 0) {\r\n      history.push(\"/\");\r\n    }\r\n    // This only works without dependencies\r\n  }, []);\r\n\r\n  // Check if user is still logged in\r\n  useEffect(() => {\r\n    checkLogin();\r\n  }, [checkLogin]);\r\n\r\n  // Used for route protection\r\n  const redirectIfNotLoggedIn = () => {\r\n    if (!localStorage.getItem(\"token\")) {\r\n      history.push(\"/\");\r\n      history.go(0);\r\n    }\r\n  };\r\n\r\n  // Conditional rendering\r\n  // Squared brackets because I'm using map later\r\n  const location = useLocation();\r\n  let resultsContent;\r\n  switch (location.pathname) {\r\n    case \"/search\":\r\n      resultsContent = [\r\n        <ResultsBox\r\n          fetchedProducts={resultsState.fetchedProducts}\r\n          paginationData={resultsState.paginationData}\r\n          handlePageChange={handlePageChange}\r\n          handleResultsPerPage={handleResultsPerPage}\r\n          contentLoading={resultsState.contentLoading}\r\n          picturesLoading={resultsState.picturesLoading}\r\n          isEmpty={resultsState.isEmpty}\r\n          handleSortingFilter={handleSortingFilter}\r\n        />,\r\n      ];\r\n      break;\r\n    case \"/signin\":\r\n      resultsContent = [<AuthContent />];\r\n      break;\r\n    case \"/profile\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<ProfilePage />];\r\n      break;\r\n    case \"/password\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<PasswordChange />];\r\n      break;\r\n    case \"/cart\":\r\n      resultsContent = [<ShoppingCart />];\r\n      break;\r\n    case \"/checkout\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<CheckoutForm />];\r\n      break;\r\n    case \"/success\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<OrderSent />];\r\n      break;\r\n    case \"/orders\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<Orders />];\r\n      break;\r\n    case \"/\":\r\n      resultsContent = [<HeroMain />, <ProductsSectionCard />];\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StoreSearchbar\r\n        handleDepartmentFilter={handleDepartmentFilter}\r\n        departmentFilter={resultsState.departmentFilter}\r\n        onGetSearchbarInput={getSearchbarInput}\r\n        handleActivePage={handleActivePage}\r\n        activePage={resultsState.activePage}\r\n      />\r\n      {resultsContent.map((component) => {\r\n        return (\r\n          <Suspense fallback={<LoadingOverlay />}>\r\n            <BoxWrapper>{component}</BoxWrapper>\r\n          </Suspense>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainContent;\r\n","import React, { Suspense } from \"react\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport MainNav from \"./components/Header/MainNav\";\nimport HeaderBanner from \"./components/Header/HeaderBanner\";\nimport MainModal from \"./components/UI/MainModal\";\nimport Footer from \"./components/Footer/Footer\";\nimport MainContent from \"./components/MainContent/MainContent\";\n\n// Stripe related\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport LoadingOverlay from \"./components/UI/LoadingOverlay\";\n// This key is public, no need to hide it\nconst promise = loadStripe(\n  \"pk_test_51J3L3sID7BWQ1tRhAZSV4MKb1ZUS23HKoXXF3R1zdKj2kbjh03UQqvfFgSVDWakLvATspzNOBELpa7k41w6OYa2C00PDmPXqgR\"\n);\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Elements stripe={promise}>\n        <HeaderBanner />\n\n        <MainModal />\n        {/* <VideoBackground /> */}\n\n        <MainNav />\n        <Switch>\n          <Route exact path=\"/\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/search\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n          <Route exact path=\"/signin\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n          <Route exact path=\"/profile\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n          <Route exact path=\"/password\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n          <Route exact path=\"/cart\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/checkout\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/success\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/orders\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n\n        <Footer />\n      </Elements>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import { useState, useContext, useEffect, useCallback } from \"react\";\r\nimport AuthContext from \"./auth-context\";\r\nimport CartContext from \"./cart-context\";\r\nimport ModalContext from \"./modal-context\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst AuthProvider = (props) => {\r\n  const [token, setToken] = useState(\"\");\r\n  const [isLogged, setIsLogged] = useState(!!localStorage.getItem(\"token\"));\r\n  const [openLogin, setOpenLogin] = useState(true);\r\n  const [openSignup, setOpenSignup] = useState(false);\r\n  let userName = \"\";\r\n\r\n  const { handleModalText } = useContext(ModalContext);\r\n\r\n  const { deleteCartLocal, fetchCartFromDB } = useContext(CartContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const loginUser = (userData) => {\r\n    console.log(userData);\r\n    console.log(\"login\");\r\n    fetch(\"/api/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(userData),\r\n    })\r\n      .then((res) => {\r\n        let decodedToken;\r\n        let token;\r\n        // This is the token\r\n        for (const header of res.headers) {\r\n          if (header[0] === \"x-auth-token\") {\r\n            token = header[1];\r\n            decodedToken = jwt_decode(header[1]);\r\n            setToken(decodedToken);\r\n          }\r\n        }\r\n        if (token)\r\n          userName = `${\r\n            decodedToken.name.charAt(0).toUpperCase() +\r\n            decodedToken.name.substring(1)\r\n          } ${\r\n            decodedToken.surname.charAt(0).toUpperCase() +\r\n            decodedToken.surname.substring(1)\r\n          }`;\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.removeItem(\"cart\");\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (!res.success) throw new Error(res.msg);\r\n        console.log(\"success\");\r\n        fetchCartFromDB();\r\n        handleModalText(`Welcome, ${userName}!`);\r\n      })\r\n      .catch((error) => {\r\n        localStorage.removeItem(\"token\");\r\n        console.log(\"An error ocurred: \" + error.message);\r\n        if (error.message.includes(\"token <\")) {\r\n          handleModalText(`Something went wrong!`);\r\n        } else {\r\n          handleModalText(`${error.message}!`);\r\n        }\r\n\r\n        userName = \"\";\r\n      });\r\n  };\r\n\r\n  const checkPassword = (userData, token) => {\r\n    return new Promise((resolve, reject) => {\r\n      console.log(userData);\r\n      console.log(\"login\");\r\n      fetch(\"/api/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(userData),\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((res) => {\r\n          if (!res.success) throw new Error(res.msg);\r\n          console.log(\"success\");\r\n          resolve(\"Right password\");\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"fail\");\r\n          reject(Error(\"Wrong password\"));\r\n        });\r\n    });\r\n  };\r\n\r\n  const signupUser = (userData) => {\r\n    console.log(\"signin\");\r\n    fetch(\"/api/signin\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(userData),\r\n    })\r\n      .then((res) => {\r\n        // This is the token\r\n        for (const header of res.headers) {\r\n          if (header[0] === \"x-auth-token\") {\r\n            console.log(header[1]);\r\n          }\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (res.error) throw new Error(res.error);\r\n        loginUser({ email: userData.email, password: userData.password });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message);\r\n        if (error.message.includes(\"Joi\")) {\r\n          handleModalText(\r\n            \"Something went wrong\",\r\n            `${error.message\r\n              .split(\"(Joi):\")[1]\r\n              .replaceAll(\",\", \".\\n\")\r\n              .split(\".\\n\")}`\r\n          );\r\n        } else if (error.message.includes(\"not unique\")) {\r\n          handleModalText(\r\n            \"Something went wrong\",\r\n            `${error.message\r\n              .split(\"email:\")[1]\r\n              .replaceAll(\",\", \".\\n\")\r\n              .split(\".\\n\")}`\r\n          );\r\n        }\r\n\r\n        console.log(\"An error ocurred: \" + error.message);\r\n      });\r\n  };\r\n\r\n  const logoutUser = () => {\r\n    console.log(\"logout\");\r\n    fetch(\"/api/logout\", {\r\n      method: \"DELETE\",\r\n    })\r\n      .then((res) => {\r\n        // This is the token\r\n        for (const header of res.headers) {\r\n          if (header[0] === \"x-auth-token\") {\r\n            console.log(header[1]);\r\n          }\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (res.error) throw new Error(res.error);\r\n        console.log(\"Logout successful\");\r\n        localStorage.removeItem(\"token\");\r\n        userName = \"\";\r\n        // Empty local cart\r\n        deleteCartLocal();\r\n        history.push(\"/\");\r\n        history.go(0);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"An error ocurred: \" + error.message);\r\n      });\r\n  };\r\n\r\n  const checkLogin = useCallback(() => {\r\n    console.log(\"check\");\r\n    fetch(\"/api/check\")\r\n      .then((res) => {\r\n        // This is the token\r\n        for (const header of res.headers) {\r\n          if (header[0] === \"x-auth-token\") {\r\n            console.log(header[1]);\r\n          }\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (res.error) throw new Error(res.error);\r\n        if (!res.session) {\r\n          localStorage.removeItem(\"token\");\r\n          setToken(\"\");\r\n        }\r\n        console.log(res);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"An error ocurred: \" + error.message);\r\n      });\r\n  }, []);\r\n\r\n  const handleOpenLogin = () => {\r\n    setOpenLogin(true);\r\n    setOpenSignup(false);\r\n  };\r\n  const handleOpenSignup = () => {\r\n    setOpenLogin(false);\r\n    setOpenSignup(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setToken(localStorage.getItem(\"token\"));\r\n    setIsLogged(!!localStorage.getItem(\"token\"));\r\n  }, [token]);\r\n\r\n  const authContext = {\r\n    token,\r\n    userName,\r\n    isLogged,\r\n    openLogin,\r\n    openSignup,\r\n    loginUser,\r\n    signupUser,\r\n    logoutUser,\r\n    handleOpenLogin,\r\n    handleOpenSignup,\r\n    checkLogin,\r\n    checkPassword,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={authContext}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n","import { useState } from \"react\";\r\nimport ModalContext from \"./modal-context\";\r\n\r\nconst ModalProvider = (props) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [modalText, setModalText] = useState(\"\");\r\n  const [modalBody, setModalBody] = useState([]);\r\n\r\n  const handleModalText = (title, body) => {\r\n    setModalText(title.charAt(0).toUpperCase() + title.slice(1));\r\n    if (body) {\r\n      if (Array.isArray(body)) {\r\n        setModalBody(\r\n          body.map((error) => {\r\n            return error.charAt(0).toUpperCase() + error.slice(1);\r\n          })\r\n        );\r\n      } else {\r\n        setModalBody([body.charAt(0).toUpperCase() + body.slice(1)]);\r\n      }\r\n    } else {\r\n      setModalBody([]);\r\n    }\r\n    toggleModal();\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setIsOpen((prevState) => {\r\n      return !prevState;\r\n    });\r\n  };\r\n\r\n  const modalContext = {\r\n    isOpen,\r\n    modalText,\r\n    modalBody,\r\n    handleModalText,\r\n    toggleModal,\r\n  };\r\n\r\n  return (\r\n    <ModalContext.Provider value={modalContext}>\r\n      {props.children}\r\n    </ModalContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ModalProvider;\r\n","import { useEffect, useState } from \"react\";\r\nimport CartContext from \"./cart-context\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst CartProvider = (props) => {\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  // It starts empty and then fetched\r\n  const [items, setItems] = useState([]);\r\n  const [lastOrder, setLastOrder] = useState({});\r\n  const [userAddress, setUserAddress] = useState({});\r\n\r\n  const fetchCartFromDB = async () => {\r\n    // Fetching from DB if user is logged\r\n    console.log(\"fetchin items\");\r\n    if (localStorage.getItem(\"token\")) {\r\n      const userId = jwt_decode(localStorage.getItem(\"token\"))._id;\r\n      const fetchResponse = await fetch(`/api/cart/${userId}`);\r\n      const allCartItems = await fetchResponse.json();\r\n      if (allCartItems.results) {\r\n        console.log(\"items fetched\");\r\n        setItems(allCartItems.results);\r\n      } else {\r\n        console.log(\"items empty\");\r\n        setItems([]);\r\n      }\r\n      // Fetching from localStorage if user not logged\r\n    } else if (localStorage.getItem(\"cart\")) {\r\n      setItems(JSON.parse(localStorage.getItem(\"cart\")));\r\n    }\r\n  };\r\n\r\n  // Fetching cart from DB at the beginning\r\n  useEffect(() => {\r\n    // Only if user is logged\r\n    if (localStorage.getItem(\"token\")) fetchCartFromDB();\r\n  }, []);\r\n\r\n  const addItemToCart = async (item) => {\r\n    console.log(\"Adding item to cart\");\r\n    // Adding quantity propierty to item\r\n    item.quantity = 1;\r\n    // If user is logged\r\n    if (localStorage.getItem(\"token\")) {\r\n      try {\r\n        console.log(\"posting cart\");\r\n        console.log(\"merda\", item);\r\n        const fetchResponse = await fetch(\"/api/cart/\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            userId: jwt_decode(localStorage.getItem(\"token\"))._id,\r\n            cartItem: item,\r\n          }),\r\n        });\r\n        const data = await fetchResponse.json();\r\n        console.log(\"data\", data);\r\n        if (data.insertedCount === 1) {\r\n          // Good\r\n        } else {\r\n          throw new Error(\"Something went wrong\");\r\n        }\r\n\r\n        // Doing this locally too\r\n        setItems((prevState) => {\r\n          setItems([...prevState, item]);\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n      // If user not logged\r\n    } else {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        const allLocalItems = JSON.parse(localStorage.getItem(\"cart\"));\r\n        if (\r\n          allLocalItems.filter((object) => object._id == item._id).length === 0\r\n        ) {\r\n          allLocalItems.push(item);\r\n        }\r\n        localStorage.setItem(\"cart\", JSON.stringify(allLocalItems));\r\n      } else {\r\n        localStorage.setItem(\"cart\", JSON.stringify([item]));\r\n      }\r\n      setItems((prevState) => {\r\n        setItems([...prevState, item]);\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (items.length > 0) {\r\n      const totalPrice = items.reduce((accumulator, currentValue) => {\r\n        return (\r\n          accumulator + currentValue.pricingInfo.price * currentValue.quantity\r\n        );\r\n      }, 0);\r\n\r\n      // Get total price\r\n      setTotalPrice(totalPrice);\r\n    }\r\n  }, [items]);\r\n\r\n  const updateItemQuantity = (id, quantity) => {\r\n    console.log(id, quantity, \"ciao\");\r\n    setItems((prevState) => {\r\n      const newProducts = [...prevState];\r\n      const updatedItemIndex = newProducts.findIndex((item) => {\r\n        return item._id === id;\r\n      });\r\n      newProducts[updatedItemIndex].quantity = quantity;\r\n      setItems(newProducts);\r\n      //   Updating total price\r\n      setTotalPrice((prevState) => {\r\n        setTotalPrice(\r\n          prevState +\r\n            newProducts[updatedItemIndex].pricingInfo.price *\r\n              newProducts[updatedItemIndex].quantity\r\n        );\r\n      });\r\n    });\r\n  };\r\n\r\n  const removeItemFromCart = async (id) => {\r\n    // If user is logged in\r\n    if (localStorage.getItem(\"token\")) {\r\n      try {\r\n        const userId = jwt_decode(localStorage.getItem(\"token\"))._id;\r\n        console.log(\"deleting cart\");\r\n        const fetchResponse = await fetch(\"/api/cart/\", {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            userId,\r\n            cartItemId: id,\r\n          }),\r\n        });\r\n        const data = await fetchResponse.json();\r\n        console.log(data);\r\n        if (data.deletedCount === 1) {\r\n          console.log(\"item deleted\");\r\n          // Deleted\r\n          setItems((prevState) => {\r\n            if (prevState.length === 1) {\r\n              setItems([]);\r\n            } else {\r\n              setItems(\r\n                prevState.filter((item) => {\r\n                  return item._id !== id;\r\n                })\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          throw new Error(\"Item wasn't deleted\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else if (localStorage.getItem(\"cart\")) {\r\n      const allItems = JSON.parse(localStorage.getItem(\"cart\"));\r\n      const newItems = allItems.filter((object) => object._id !== id);\r\n      localStorage.setItem(\"cart\", JSON.stringify(newItems));\r\n      setItems((prevState) => {\r\n        if (prevState.length === 1) {\r\n          setItems([]);\r\n        } else {\r\n          setItems(\r\n            prevState.filter((item) => {\r\n              return item._id !== id;\r\n            })\r\n          );\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteCartLocal = () => {\r\n    console.log(\"Delete all\");\r\n    setItems([]);\r\n  };\r\n\r\n  const saveOrder = async (id, items) => {\r\n    try {\r\n      const fetchResponse = await fetch(`/api/order/${id}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ items, userAddress }),\r\n      });\r\n      const order = await fetchResponse.json();\r\n      deleteUserCart(id);\r\n      setLastOrder(order.result);\r\n      console.log(\"Order saved\");\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const deleteUserCart = async (id) => {\r\n    console.log(\"Deleting user cart\");\r\n    try {\r\n      const fetchResponse = await fetch(`/api/cart/whole/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      const deletedCart = await fetchResponse.json();\r\n      if (deletedCart.deletedCount) {\r\n        console.log(\"Cart deleted\");\r\n        deleteCartLocal();\r\n      } else {\r\n        throw new Error(\"It wasn't possible to delete the cart\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const cartContext = {\r\n    items,\r\n    totalPrice,\r\n    lastOrder,\r\n    userAddress,\r\n    setUserAddress,\r\n    addItemToCart,\r\n    removeItemFromCart,\r\n    updateItemQuantity,\r\n    deleteCartLocal,\r\n    fetchCartFromDB,\r\n    saveOrder,\r\n    deleteUserCart,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// Tailwind-generated css\nimport \"./assets/main.css\";\n\nimport App from \"./App\";\n\nimport AuthProvider from \"./store/AuthProvider\";\nimport ModalProvider from \"./store/ModalProvider\";\nimport CartProvider from \"./store/CartProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ModalProvider>\n      <CartProvider>\n        <AuthProvider>\n          <App />\n        </AuthProvider>\n      </CartProvider>\n    </ModalProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}