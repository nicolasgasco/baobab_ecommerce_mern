(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,n){"use strict";var a=n(15),c=n.n(a),r=n(26),s=n(3),o=n(0);t.a=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(null),l=Object(s.a)(i,2),d=l[0],u=l[1];return{isLoading:n,error:d,sendRequest:Object(o.useCallback)(function(){var e=Object(r.a)(c.a.mark((function e(t,n,r){var s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),u(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 5:return s=e.sent,e.next=8,s.json();case 8:o=e.sent,n(o),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0),r&&r(e.t0);case 16:a(!1);case 17:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n,a){return e.apply(this,arguments)}}(),[]),setIsLoading:a}}},25:function(e,t,n){"use strict";var a=n(0),c=n.n(a).a.createContext({items:[],totalPrice:0,lastOrder:{},userAddress:{},setUserAddress:function(e){},addItemToCart:function(e){},removeItemFromCart:function(e){},updateItemQuantity:function(e,t){},deleteCartLocal:function(){},fetchCartFromDB:function(){},saveOrder:function(e,t){},deleteUserCart:function(e){}});t.a=c},30:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(43),s=n.n(r),o=n(1),i=function(){return Object(o.jsx)("div",{className:"".concat(s.a.overlay," bg-green-200 bg-opacity-100 fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-50"),children:Object(o.jsxs)("div",{children:[Object(o.jsx)("h2",{className:"text-3xl mt-3 mb-1 md:m-8 md:mt-10 font-semibold text-center",children:"Loading..."}),Object(o.jsx)("div",{className:"".concat(s.a.loader," ").concat(s.a.loader1),children:Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:Object(o.jsx)("div",{children:Object(o.jsx)("div",{})})})})})})})]})})};t.a=c.a.memo(i)},31:function(e,t,n){"use strict";var a=n(0),c=n.n(a).a.createContext({token:"",userName:"",isLoggedIn:!!localStorage.getItem("token"),openLogin:!0,openSignup:!1,loginUser:function(e){},logoutUser:function(){},signupUser:function(e){},checkLogin:function(){},checkPassword:function(e){}});t.a=c},32:function(e,t,n){"use strict";var a=n(0),c=n.n(a).a.createContext({isOpen:!1,modalText:"",handleModalText:function(){},toggleModal:function(){}});t.a=c},40:function(e,t,n){"use strict";t.a=n.p+"static/media/baobab.74904978.svg"},42:function(e,t,n){e.exports={"centered-box":"Footer_centered-box__1yqCU",heart:"Footer_heart__1T8Et","animate-beat":"Footer_animate-beat__2DX8H",beat:"Footer_beat__3269M"}},43:function(e,t,n){e.exports={overlay:"LoadingOverlay_overlay__3rrf8",loader:"LoadingOverlay_loader__3JzvY",loader1:"LoadingOverlay_loader1__2KW-f",rotate:"LoadingOverlay_rotate__3LgeL",rotate2:"LoadingOverlay_rotate2__34mUX"}},48:function(e,t,n){e.exports={"active-item":"DottedDropdown_active-item__t2wCo"}},49:function(e,t,n){"use strict";var a=n(3),c=n(0),r=n(1);t.a=function(e){var t=e.classes,n=e.getRatingValue,s=e.notInteractive,o=e.ratingValue,i=Object(c.useState)(0),l=Object(a.a)(i,2),d=l[0],u=l[1],j=Object(c.useState)(0),m=Object(a.a)(j,2),b=m[0],h=m[1];Object(c.useEffect)((function(){u(0)}),[]);var x=function(){h(0)},g=[1,2,3,4,5].map((function(e){return Object(r.jsx)("div",{className:s?"pr-1":"pr-4 lg:pr-2",onMouseEnter:s?void 0:function(){h(e)},onMouseLeave:s?void 0:x,onClick:s?void 0:function(){return u(t=e),void n(t);var t},children:Object(r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s?13:18,height:s?12:17,viewBox:"0 0 14 13",fill:"none",children:Object(r.jsx)("path",{d:"M6.52447 0.463524C6.67415 0.00286841 7.32585 0.00286996 7.47553 0.463525L8.68386 4.18237C8.75079 4.38838 8.94277 4.52786 9.15938 4.52786H13.0696C13.554 4.52786 13.7554 5.14767 13.3635 5.43237L10.2001 7.73075C10.0248 7.85807 9.95149 8.08375 10.0184 8.28976L11.2268 12.0086C11.3764 12.4693 10.8492 12.8523 10.4573 12.5676L7.29389 10.2693C7.11865 10.1419 6.88135 10.1419 6.70611 10.2693L3.54267 12.5676C3.15081 12.8523 2.62357 12.4693 2.77325 12.0086L3.98157 8.28976C4.04851 8.08375 3.97518 7.85807 3.79994 7.73075L0.636495 5.43237C0.244639 5.14767 0.446028 4.52786 0.93039 4.52786H4.84062C5.05723 4.52786 5.24921 4.38838 5.31614 4.18237L6.52447 0.463524Z",fill:(t=e,s?o>=t?"#F59E0B":"#9CA3AF":b?b>=t?"#FCD34D":"#9CA3AF":d>=t?"#F59E0B":"#9CA3AF")})})},"element-".concat(e));var t}));return Object(r.jsx)("div",{className:"flex items-center ".concat(t),children:g})}},50:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r=n(1),s=function(){return Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{className:"text-3xl mt-3 mb-1 md:m-8 md:mt-10 font-semibold text-center",children:"Oops... There's nothing to show here!"}),Object(r.jsx)("img",{className:"mx-auto",src:"https://res.cloudinary.com/ngasco/image/upload/v1624283212/bonsai_background/empty_2_lvulpa.gif",alt:"Man staring at empty box"})]})};t.a=c.a.memo(s)},55:function(e,t,n){e.exports={"search-button":"StoreSearchbar_search-button__3m3Be"}},56:function(e,t,n){e.exports={"centered-div":"PictureOverlay_centered-div__D8fPs"}},62:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(20),s=n.n(r),o=(n(62),n(16)),i=n(5),l=n(3),d=n(77),u=n(75),j=n(78),m=n(11),b=n(40),h=n(31),x=n(25),g=n(24),f=n(1),p=function(){function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var t=Object(i.g)(),n=Object(a.useContext)(h.a).logoutUser,c=Object(a.useState)(""),r=Object(l.a)(c,2),s=r[0],p=r[1],O=[s],v=["Your profile","Your orders","Change password","Sign in"],y=Object(a.useState)({}),w=Object(l.a)(y,2),N=w[0],k=w[1];Object(a.useEffect)((function(){localStorage.getItem("token")&&k(Object(g.a)(localStorage.getItem("token")))}),[n]),Object(a.useEffect)((function(){N.name?p("Hi, ".concat(B(N.name),"!")):p("Hi, stranger!")}),[N]);var S=Object(a.useContext)(x.a).items,C=Object(a.useState)(S?S.length:0),I=Object(l.a)(C,2),P=I[0],E=I[1],_=Object(a.useState)(""),F=Object(l.a)(_,2),T=F[0],L=F[1];Object(a.useEffect)((function(){E(S?S.length:0),L("animate-bounce"),setTimeout((function(){L("")}),500)}),[S]);var A=function(){t.push("/signin")},D=function(){n(),t.go(0),p("")},R=function(){t.push("/")},B=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},z=v.map((function(t,n){return"Sign in"===t?Object(f.jsx)(d.a.Item,{children:function(a){var c=a.active;return Object(f.jsx)(o.b,{id:"profile-item-".concat(n+1),onClick:localStorage.getItem("token")?D:A,className:e(c?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer ".concat(localStorage.getItem("token")&&"bg-yellow-200"," rounded-md")),children:localStorage.getItem("token")?"Log out":t})}},"profile-item-".concat(n+1)):"Your profile"===t?localStorage.getItem("token")&&Object(f.jsx)(d.a.Item,{children:function(a){var c=a.active;return Object(f.jsx)(o.b,{to:"/profile",id:"profile-item-".concat(n+1),className:e(c?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"),children:t})}},"profile-item-".concat(n+1)):"Change password"===t?localStorage.getItem("token")&&Object(f.jsx)(d.a.Item,{children:function(a){var c=a.active;return Object(f.jsx)(o.b,{to:"/password",id:"profile-item-".concat(n+1),className:e(c?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"),children:t})}},"profile-item-".concat(n+1)):"Your orders"===t?localStorage.getItem("token")&&Object(f.jsx)(d.a.Item,{children:function(a){var c=a.active;return Object(f.jsx)(o.b,{to:"/orders",id:"profile-item-".concat(n+1),className:e(c?"bg-gray-100":"","block px-4 py-2 text-sm text-gray-700 cursor-pointer"),children:t})}},"profile-item-".concat(n+1)):null})),U=v.map((function(t,n){return"Sign in"===t?Object(f.jsx)(u.a.Button,{id:"profile-item-".concat(n+1),className:e("w-full text-left hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer bg-yellow-200 rounded-md"),children:Object(f.jsx)(o.b,{to:localStorage.getItem("token")?"/":"/signin",onClick:localStorage.getItem("token")?D:A,children:localStorage.getItem("token")?"Log out":t})},"profile-item-".concat(n+1)):"Your profile"===t?localStorage.getItem("token")&&Object(f.jsx)(u.a.Button,{id:"profile-item-".concat(n+1),className:e("hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer"),children:Object(f.jsx)(o.b,{to:"/profile",children:t})},"profile-item-".concat(n+1)):"Change password"===t?localStorage.getItem("token")&&Object(f.jsx)(u.a.Button,{id:"profile-item-".concat(n+1),className:e("hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer"),children:Object(f.jsx)(o.b,{to:"/password",children:t})},"profile-item-".concat(n+1)):"Your orders"===t?localStorage.getItem("token")&&Object(f.jsx)(u.a.Button,{to:"/orders",id:"profile-item-".concat(n+1),className:e("hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer"),children:Object(f.jsx)(o.b,{to:"/orders",children:t})},"profile-item-".concat(n+1)):null}));return Object(f.jsx)(u.a,{as:"nav",children:function(e){var n=e.open;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("header",{className:"max-w-7xl mx-auto mb-3 md:mb-0 px-4 sm:px-6 lg:px-8",children:Object(f.jsxs)("div",{className:"flex items-center justify-between h-16",children:[Object(f.jsxs)("div",{className:"flex items-center",children:[Object(f.jsx)("div",{className:"flex-shrink-0 out",children:Object(f.jsx)("img",{onClick:R,className:"h-12 w-12 cursor-pointer",src:b.a,alt:"BaobabLogo"})}),Object(f.jsx)("div",{className:"hidden md:block",children:Object(f.jsx)("div",{className:"ml-10 flex items-baseline space-x-4",children:localStorage.getItem("token")&&O.map((function(e,t){return 0===t?Object(f.jsx)(a.Fragment,{children:s&&Object(f.jsx)("p",{className:"bg-green-900 text-white px-3 py-2 rounded-md text-sm font-medium cursor-default",children:e})},e):Object(f.jsx)("p",{className:"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium",children:e},e)}))})})]}),Object(f.jsx)("div",{className:"hidden md:block",children:Object(f.jsxs)("div",{className:"ml-4 flex items-center md:ml-6",children:[Object(f.jsx)(d.a,{as:"div",className:"ml-3 relative",children:function(e){e.open;return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{children:Object(f.jsxs)(d.a.Button,{className:"bg-gray-600 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(f.jsx)("span",{className:"sr-only",children:"View profile"}),Object(f.jsx)(m.h,{onClick:function(){S.length>0&&t.push("/cart")},className:"h-6 w-6","aria-hidden":"true"}),Object(f.jsx)("div",{className:"absolute top-0 right-0 mt-7 -mr-3 px-2 ".concat(T," bg-yellow-500 rounded-full text-sm text-white font-bold"),children:P>0&&P})]})})})}}),Object(f.jsx)(d.a,{as:"div",className:"ml-3 relative",children:function(e){var t=e.open;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:Object(f.jsxs)(d.a.Button,{className:"bg-gray-600 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(f.jsx)("span",{className:"sr-only",children:"View profile"}),Object(f.jsx)(m.l,{className:"h-6 w-6","aria-hidden":"true"})]})}),Object(f.jsx)(j.a,{show:t,as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(f.jsx)(d.a.Items,{static:!0,className:"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 pb-0 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:z})})]})}})]})}),Object(f.jsx)("div",{className:"-mr-2 flex md:hidden",children:Object(f.jsxs)(u.a.Button,{className:"bg-gray-600 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(f.jsx)("span",{className:"sr-only",children:"Open main menu"}),n?Object(f.jsx)(m.m,{className:"block h-6 w-6","aria-hidden":"true"}):Object(f.jsx)(m.f,{className:"block h-6 w-6","aria-hidden":"true"})]})})]})}),Object(f.jsxs)(u.a.Panel,{className:"md:hidden bg-white mb-5",children:[Object(f.jsx)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:O.map((function(e,t){return 0===t?Object(f.jsx)(a.Fragment,{children:Object(f.jsx)("div",{className:"bg-green-800 text-white block px-3 py-2 rounded-md text-base font-medium",children:e})},e):Object(f.jsx)("p",{className:"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium",children:e},e)}))}),Object(f.jsxs)("div",{className:"pt-4 pb-3 border-t border-gray-700",children:[Object(f.jsxs)("div",{className:"flex items-center px-5",children:[N.name&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"flex-shrink-0 bg-gray-600 p-1 rounded-full text-white hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:Object(f.jsx)(m.l,{className:"h-6 w-6","aria-hidden":"true"})}),Object(f.jsxs)("div",{className:"ml-3",children:[Object(f.jsx)("div",{className:"text-base font-medium leading-none text-gray-800",children:"".concat(B(N.name)," ").concat(B(N.surname))}),Object(f.jsx)("div",{className:"text-sm font-medium leading-none text-gray-400",children:N&&N.email})]})]}),Object(f.jsxs)(u.a.Button,{className:"ml-auto bg-gray-600 flex-shrink-0 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white",children:[Object(f.jsx)("span",{className:"sr-only",children:"View shopping cart"}),Object(f.jsx)(m.h,{onClick:function(){S.length>0&&t.push("/cart")},className:"h-6 w-6","aria-hidden":"true"})]}),Object(f.jsx)("div",{className:"relative mt-8 -ml-2 -mr-2 px-2 ".concat(T," bg-yellow-500 rounded-full text-sm text-white font-bold"),children:P>0&&P})]}),Object(f.jsx)("div",{className:"mt-3 px-2 space-y-1",show:n,children:U})]})]})]})}})},O=function(){var e=Object(a.useState)(!0),t=Object(l.a)(e,2),n=t[0],c=t[1];return n?Object(f.jsx)("div",{className:"bg-yellow-500",children:Object(f.jsx)("div",{className:"max-w-11xl mx-auto py-1.5 px-3 sm:px-6 lg:px-8 z-10",children:Object(f.jsxs)("div",{className:"flex items-center justify-between flex-wrap",children:[Object(f.jsxs)("div",{className:"w-0 flex-1 flex items-center",children:[Object(f.jsx)("span",{className:"flex p-2 rounded-lg bg-yellow-700",children:Object(f.jsx)(m.i,{className:"h-4 w-4 text-white","aria-hidden":"true"})}),Object(f.jsxs)("p",{className:"ml-3 font-small text-white",children:[Object(f.jsxs)("span",{className:"md:hidden",children:["Click ",Object(f.jsx)("a",{href:"https://github.com/nicolasgasco",target:"blank",className:"cursor-pointer underline",children:"here"})," for my Github!"]}),Object(f.jsxs)("span",{className:"hidden md:inline",children:["Click ",Object(f.jsx)("a",{href:"https://github.com/nicolasgasco",target:"blank",className:"cursor-pointer underline",children:"here"})," to see my Github!"]})]})]}),Object(f.jsx)("div",{className:"order-2 flex-shrink-0 sm:order-3 sm:ml-3",children:Object(f.jsxs)("button",{type:"button",onClick:function(){c(!1)},className:"-mr-1 flex p-2 rounded-md hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2",children:[Object(f.jsx)("span",{className:"sr-only",children:"Dismiss"}),Object(f.jsx)(m.m,{className:"h-5 w-5 text-white","aria-hidden":"true"})]})})]})})}):Object(f.jsx)(f.Fragment,{})},v=function(){return Object(f.jsx)(f.Fragment,{children:s.a.createPortal(Object(f.jsx)(O,{}),document.getElementById("overlay-root"))})},y=n(76),w=n(32),N=function(){var e=Object(a.useContext)(w.a),t=e.isOpen,n=e.modalText,c=e.modalBody,r=e.toggleModal,s=Object(a.useState)(t),o=Object(l.a)(s,2),d=o[0],u=o[1],b=Object(a.useState)(n),h=Object(l.a)(b,2),x=h[0],g=h[1],p=Object(a.useState)(c),O=Object(l.a)(p,2),v=O[0],N=O[1],k=Object(a.useRef)(null),S=Object(i.g)(),C=Object(i.h)();Object(a.useEffect)((function(){u(t)}),[t]),Object(a.useEffect)((function(){g(n)}),[n]),Object(a.useEffect)((function(){N(c)}),[c]);var I=function(){r(),localStorage.getItem("token")&&"/profile"!==C.pathname&&S.push("/")};return Object(f.jsx)(j.a.Root,{show:d,as:a.Fragment,children:Object(f.jsx)(y.a,{as:"div",static:!0,className:"fixed z-10 inset-0 overflow-y-auto",initialFocus:k,open:d,onClose:I,children:Object(f.jsxs)("div",{className:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[Object(f.jsx)(j.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(f.jsx)(y.a.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),Object(f.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(f.jsx)(j.a.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(f.jsxs)("div",{className:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-8/12 sm:max-w-lg sm:w-full",children:[Object(f.jsx)("div",{className:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4",children:Object(f.jsxs)("div",{className:"sm:flex sm:items-start",children:[Object(f.jsx)("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10",children:Object(f.jsx)(m.b,{className:"h-6 w-6 text-yellow-600","aria-hidden":"true"})}),Object(f.jsxs)("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left",children:[Object(f.jsx)(y.a.Title,{as:"h3",className:"text-lg leading-6 font-medium text-gray-900",children:x}),c&&Object(f.jsx)("ul",{className:"mt-2",children:v.map((function(e){return Object(f.jsx)("li",{className:"ml-5 text-left list-disc text-sm text-gray-500",children:Object(f.jsx)("p",{children:e.replaceAll(".",",")})})}))})]})]})}),Object(f.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[Object(f.jsx)("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-yellow-600 text-base font-medium text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:I,children:"Ok"}),Object(f.jsx)("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm",onClick:I,ref:k,children:"Cancel"})]})]})})]})})})},k=function(){return Object(f.jsx)(f.Fragment,{children:s.a.createPortal(Object(f.jsx)(N,{}),document.getElementById("overlay-root"))})},S=n(42),C=n.n(S),I=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("div",{className:"bg-gray-200 bg-opacity-60 pb-6 p-0 mt-8 footer-background border-gray-200 border-t-8",children:Object(f.jsxs)("div",{className:"mx-auto container pt-20 lg:pt-30 flex flex-col items-center justify-center",children:[Object(f.jsx)("img",{src:b.a,alt:"Illustration of a baobab",className:"w-32 h-32"}),Object(f.jsxs)("div",{className:"text-black flex flex-col md:items-center f-f-l pt-3",children:[Object(f.jsx)("h1",{className:"text-2xl font-black text-center",children:"Baobab. Shopping. With conscience."}),Object(f.jsxs)("div",{className:"text-md text-color mb-5 mt-5 f-f-l flex justify-center content-baseline",children:[Object(f.jsx)("p",{className:"pr-2",children:"\xa9 Created with "}),Object(f.jsx)("div",{className:C.a["centered-box"],children:Object(f.jsx)("span",{className:"".concat(C.a.heart," ").concat(C.a["animate-beat"]),children:"\ud83d\udc9a"})})," ",Object(f.jsx)("p",{children:"by Nicolas Gasco"})]}),Object(f.jsx)("div",{className:"mt-3 mb-10 text-base text-color f-f-l",children:Object(f.jsxs)("ul",{className:"text-center md:flex items-center",children:[Object(f.jsx)("li",{className:" md:mr-6 cursor-pointer pt-4 lg:py-0",children:"About"}),Object(f.jsx)("li",{className:" md:mr-6 cursor-pointer pt-4 lg:py-0",children:"Features"}),Object(f.jsx)("li",{className:" md:mr-6 cursor-pointer pt-4 lg:py-0",children:"Careers"}),Object(f.jsx)("li",{className:" md:mr-6 cursor-pointer pt-4 lg:py-0",children:"Help"}),Object(f.jsx)("li",{className:"cursor-pointer pt-4 lg:py-0",children:"Privacy Policy"})]})}),Object(f.jsxs)("div",{className:"text-color mb-10 f-f-l text-center text-xs",children:[Object(f.jsx)("p",{children:Object(f.jsx)("a",{href:"https://storyset.com/work",target:"_blank",rel:"noreferrer",children:"Work illustrations by Storyset"})}),Object(f.jsxs)("p",{children:["Icons by"," ",Object(f.jsx)("a",{href:"https://www.freepik.com",title:"Freepik",target:"_blank",rel:"noreferrer",children:"Freepik"})," and "," ",Object(f.jsx)("a",{href:"https://www.flaticon.com/authors/smashicons",title:"Smashicons",target:"_blank",rel:"noreferrer",children:"Smashicons"})," ","from"," ",Object(f.jsx)("a",{href:"https://www.flaticon.com/",title:"Flaticon",target:"_blank",rel:"noreferrer",children:"www.flaticon.com"})]}),Object(f.jsx)("p",{children:Object(f.jsx)("a",{href:"https://www.freepik.com/vectors/background",target:"_blank",rel:"noreferrer",children:"Background vector created by visnezh from www.freepik.com"})}),Object(f.jsx)("a",{href:"https://www.vecteezy.com/free-vector/nature",target:"_blank",rel:"noreferrer",children:"Nature Vectors by Vecteezy"}),Object(f.jsx)("p",{children:Object(f.jsx)("a",{href:"https://codepen.io/clairecodes/pen/wyrJMe",target:"_blank",rel:"noreferrer",children:"Pulsing heart by Claire"})})]})]}),Object(f.jsx)("div",{className:"w-9/12  h-0.5 bg-gray-100 rounded-full"}),Object(f.jsxs)("div",{className:"flex justify-between items-center pt-12",children:[Object(f.jsx)("div",{className:"mr-4",children:Object(f.jsx)("a",{href:"https://github.com/nicolasgasco",target:"_blank",rel:"noreferrer",children:Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50",height:"50",viewBox:"0 0 24 24",children:Object(f.jsx)("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"})})})}),Object(f.jsx)("div",{children:Object(f.jsx)("a",{href:"https://www.linkedin.com/in/nicolasgasco/",target:"_blank",rel:"noreferrer",children:Object(f.jsx)("img",{src:"https://res.cloudinary.com/ngasco/image/upload/v1624048194/bonsai_background/linkedin_toeevg.svg",alt:"LinkedIn logo",className:"w-12"})})})]})]})})})},P=n(8),E=n(23),_=n(48),F=n.n(_),T=function(e){var t=e.items,n=e.handleDepartmentFilter,c=e.departmentFilter,r=Object(a.useState)(!1),s=Object(l.a)(r,2),o=s[0],i=s[1];Object(a.useEffect)((function(){n({name:"all"})}),[n]);var d=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},u=function(e){n(e),i(!1)},j=t.map((function(e){return Object(f.jsx)("li",{onClick:function(){return u(e)},className:"cursor-pointer text-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 text-sm leading-3 tracking-normal py-3 hover:bg-green-100 px-3 font-normal ".concat(c.name===e.name&&F.a["active-item"]),children:d(e.name)},"menu-item-".concat(e._id))}));return Object(f.jsx)("div",{className:"mx-auto",children:Object(f.jsx)("div",{className:"container flex justify-center mx-auto",children:Object(f.jsx)("div",{className:"",children:Object(f.jsxs)("div",{className:"relative z-10",children:[Object(f.jsx)("div",{className:"cursor-pointer text-gray-600 dark:text-gray-400",onClick:function(){return i(!o)},children:c?Object(f.jsx)("h4",{className:"text-sm px-2 font-bold",children:d(c.name||"all")}):Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-dots",width:30,height:30,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(f.jsx)("circle",{cx:5,cy:12,r:1}),Object(f.jsx)("circle",{cx:12,cy:12,r:1}),Object(f.jsx)("circle",{cx:19,cy:12,r:1})]})}),o&&Object(f.jsxs)("ul",{className:"mt-2 visible transition duration-300 opacity-100 bg-white dark:bg-gray-800 shadow rounded py-1 w-48 absolute",children:[Object(f.jsx)("li",{onClick:function(){return u({name:"all"})},className:"cursor-pointer rounded text-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 text-sm leading-3 tracking-normal py-3 font-bold hover:bg-gray-100 px-3  ".concat("all"===c.name&&F.a["active-item"]),children:"All"},"all"),j]})]})})})})},L=n(55),A=n.n(L),D=function(e){var t=e.onGetSearchbarInput,n=e.handleActivePage,c=e.handleDepartmentFilter,r=e.handleSortingFilter,s=e.departmentFilter,o=e.activePage,i=Object(a.useRef)(),d=Object(a.useState)([]),u=Object(l.a)(d,2),j=u[0],m=u[1],b=Object(E.a)().sendRequest;Object(a.useEffect)((function(){b({url:"api/departments"},(function(e){m(e.results)}))}),[b]);return Object(a.useEffect)((function(){t(i.current.value.trim())}),[o]),Object(f.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a=i.current.value.trim();r(""),t(a),n(1)},className:"bg-white bg-opacity-100 w-11/12 lg:w-1/2 mt-4 pl-2 max-w-full mx-auto flex items-center rounded-full shadow-xl",children:[Object(f.jsx)("div",{className:"p-2 bg-gray-300 text-white rounded-full hover:bg-green-400 focus:outline-none w-20 h-10",children:Object(f.jsx)(T,{items:j,departmentFilter:s,handleDepartmentFilter:c})}),Object(f.jsx)("input",{className:"rounded-l-full bg-transparent w-full py-4 px-6 text-gray-700 placeholder-gray-700 text-center leading-tight focus:outline-none tracking-wider text-lg",id:"search",type:"text",placeholder:"Search...",ref:i}),Object(f.jsx)("div",{className:"p-2",children:Object(f.jsx)("button",{className:"".concat(A.a["search-button"]," bg-green-500 text-white rounded-full p-2 hover:bg-green-400 focus:outline-none w-10 h-10 flex items-center justify-center")})})]})},R=c.a.memo(D),B=[{name:"Conscious products",description:"Our products out hand-picked among the best companies offering the best environmentally and socially products on the market.",icon:m.g},{name:"Carbon offset",description:"For every order we receive, we offset 50% of the carbon footprint. You can choose to add the remaining 50%.",icon:m.c},{name:"Fast and sustainable shipping",description:"We partner with sustainable shipping companies to provide a shipping service which is both good for the environment and as fast a lightning",icon:m.e},{name:"Ethical employer",description:"All our workers enjoy the best working conditions we can possibly offer them, both in the offices and warehouses.",icon:m.d}];function z(){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"lg:text-center",children:[Object(f.jsx)("h2",{className:"text-base text-green-600 font-bold tracking-wide uppercase",children:"Green, convenient, sustainable"}),Object(f.jsx)("h1",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Start shopping on Baobab"}),Object(f.jsx)("p",{className:"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto"})]}),Object(f.jsx)("div",{className:"mt-10",children:Object(f.jsx)("dl",{className:"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10",children:B.map((function(e){return Object(f.jsxs)("div",{className:"relative",children:[Object(f.jsxs)("dt",{children:[Object(f.jsx)("div",{className:"absolute flex items-center justify-center h-12 w-12 rounded-md bg-yellow-500 text-white",children:Object(f.jsx)(e.icon,{className:"h-6 w-6","aria-hidden":"true"})}),Object(f.jsx)("p",{className:"ml-16 text-lg leading-6 font-medium text-gray-900",children:e.name})]}),Object(f.jsx)("dd",{className:"mt-2 ml-16 text-base text-gray-500",children:e.description})]},e.name)}))})})]})}var U=function(e){return Object(f.jsx)("section",{className:"flex justify-center",children:Object(f.jsx)("div",{className:'w-full md:w-10/12 sm:max-w-2xl md:max-w-7xl xl:max-w-6xl py-6 md:py-12 px-3 lg:px-12 my-8 mx-2 md:mx-10 lg:mx-36  rounded-xl shadow-xl bg-white min-h-full" +\n    '.concat(e.className),children:e.children})})},M=n(36),G=(n(73),n.p+"static/media/Spinner-5.e9202c75.gif"),H=n(30),J=n(56),W=n.n(J),Y=function(e){var t=e.src,n=e.alt,a=e.handleClosePicture;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:"py-12 bg-gray-600 bg-opacity-70 transition duration-150 ease-in-out fixed top-0 right-0 bottom-0 left-0 z-20",id:"modal",onClick:a}),Object(f.jsx)("div",{role:"alert",className:"mx-auto",children:Object(f.jsxs)("div",{className:"".concat(W.a["centered-div"]," container z-40 absolute py-10 px-1 sm:px-5 md:px-10 bg-white shadow-md rounded border border-gray-400  w-11/12 md:w-8/12 lg:w-6/12 xl:w-5/12 2xl:w-4/12"),children:[Object(f.jsx)("div",{className:"cursor-pointer absolute top-0 right-0 mt-4 mr-5 text-gray-400 hover:text-gray-600 transition duration-150 ease-in-out",children:Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-label":"Close",className:"icon icon-tabler icon-tabler-x",width:20,height:20,viewBox:"0 0 24 24",strokeWidth:"2.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",onClick:a,children:[Object(f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(f.jsx)("line",{x1:18,y1:6,x2:6,y2:18}),Object(f.jsx)("line",{x1:6,y1:6,x2:18,y2:18})]})}),Object(f.jsx)("img",{src:t,alt:n,className:"mx-auto shadow-md rounded-lg"})]})})]})},V=function(e){return Object(f.jsx)(f.Fragment,{children:s.a.createPortal(Object(f.jsx)(Y,{alt:e.alt,src:e.src,handleClosePicture:e.handleClosePicture}),document.getElementById("overlay-root"))})},q=n(49),K=function(e){var t=e.product,n=e.picturesLoading,c=e.classes,r=Object(a.useContext)(x.a).addItemToCart,s=Object(a.useState)(0),o=Object(l.a)(s,2),i=o[0],d=o[1],u=Object(a.useState)({}),j=Object(l.a)(u,2),b=j[0],h=j[1],g=Object(a.useState)(!1),p=Object(l.a)(g,2),O=p[0],v=p[1];Object(a.useEffect)((function(){t.ratingInfo.starRating&&d(t.ratingInfo.starRating)}),[t.ratingInfo.starRating]);var y,w=Object(E.a)(),N=w.isLoading,k=w.setIsLoading;return t&&(y=t.pictures.map((function(e,t){return n?Object(f.jsx)("img",{src:G,alt:"Loading animation",className:"w-1/3 mx-auto p-5 object-cover object-center rounded-lg z-0"}):Object(f.jsx)(M.d,{className:"flex items-center justify-center",index:t+1,children:Object(f.jsx)("img",{onClick:function(e){return t=e.target,h({src:t.src,alt:t.alt}),void v(!0);var t},src:e.url,alt:e.alt,className:"mx-auto h-52 w-52 object-cover object-center z-0"})},t+1)}))),Object(f.jsxs)(f.Fragment,{children:[N&&Object(f.jsx)(H.a,{}),O&&Object(f.jsx)(V,{src:b.src,alt:b.alt,handleClosePicture:function(){v(!1)},showPictures:y}),Object(f.jsx)("div",{className:"pb-10 md:px-4 w-full md:w-1/2 xl:w-1/3 max-w-sm px-2 h-full ".concat(c),children:Object(f.jsxs)("div",{className:"shadow-lg rounded-3xl z-0 ",children:[Object(f.jsx)("div",{className:"rounded-t-3xl bg-white px-2\r py-4",children:Object(f.jsxs)(M.c,{naturalSlideWidth:50,naturalSlideHeight:125,totalSlides:t?t.pictures.length:0,isIntrinsicHeight:!0,infinite:!0,className:"flex items-center justify-between w-full",children:[Object(f.jsx)(M.a,{className:"".concat(t.pictures.length<=1&&"invisible"," focus:outline-none cursor-pointer"),children:Object(f.jsx)("div",{className:"bg-yellow-200 w-5 h-5 mr-2 rounded-full flex items-center cursor-pointer justify-center",id:"prev2",children:Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-left",width:20,height:20,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#1F2937",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(f.jsx)("polyline",{points:"15 6 9 12 15 18"})]})})}),Object(f.jsx)(M.e,{className:"shadow-md h-52 w-52 rounded-lg",children:y}),Object(f.jsx)(M.b,{className:"".concat(t.pictures.length<=1&&"invisible"," focus:outline-none cursor-pointer"),children:Object(f.jsx)("div",{className:"bg-yellow-200 w-5 h-5 ml-2 rounded-full flex items-center cursor-pointer justify-center",id:"next2",children:Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-right",width:20,height:20,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"#1F2937",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Object(f.jsx)("polyline",{points:"9 6 15 12 9 18"})]})})})]})}),Object(f.jsxs)("div",{className:"border-t p-6 bg-green-200 dark:bg-gray-800 rounded-b-3xl",children:[Object(f.jsx)("div",{className:"",children:Object(f.jsx)("span",{className:"bg-teal-200 text-teal-800 text-xs px-2 inline-block rounded-full  uppercase font-semibold tracking-wide",children:t.department.name})}),Object(f.jsx)("div",{className:"",children:Object(f.jsx)("h3",{className:"mt-2 text-xl font-semibold leading-tight mb-2",children:"".concat(t.completeName.brand," ").concat(t.completeName.productName,", ").concat(t.completeName.shortDesc,", ").concat(t.completeName.productDesc1,", ").concat(t.completeName.productDesc2,", ").concat(t.completeName.productDesc3,", ").concat(t.completeName.color)})}),Object(f.jsxs)("div",{className:"flex items-center pt-3",children:[Object(f.jsx)(q.a,{notInteractive:!0,ratingValue:t.ratingInfo.starRating}),Object(f.jsx)("p",{className:"ml-2 text-base font-medium leading-4 ".concat(i>0?"text-yellow-600":"text-gray-500"),children:i>0?"".concat(i," ").concat(1===i?"star":"stars"):"No ratings yet"})]}),Object(f.jsxs)("div",{className:"mt-2 text-3xl",children:[Number.parseInt(t.pricingInfo.price),".",Object(f.jsx)("span",{className:"text-xl",children:(100*(t.pricingInfo.price-Math.floor(t.pricingInfo.price))).toFixed(0).toString().padStart(2,"0")}),Object(f.jsx)("p",{className:"inline text-2xl",children:" \u20ac"})]}),Object(f.jsxs)("div",{className:"mt-4",children:[Object(f.jsx)("span",{className:"text-teal-600 text-md font-semibold",children:"FROM:"}),Object(f.jsx)("span",{className:"text-sm text-gray-600",children:" ".concat(t.ecoInfo.originCountryCode)})]}),Object(f.jsxs)("div",{className:"mt-1",children:[Object(f.jsx)("span",{className:"text-teal-600 text-md font-semibold uppercase",children:"Made in:"}),Object(f.jsx)("span",{className:"text-sm text-gray-600",children:" ".concat(t.ecoInfo.productionCountryCode)})]}),Object(f.jsxs)("div",{className:"mt-4 rounded-md",children:[Object(f.jsx)("span",{className:"text-teal-600 text-md font-semibold uppercase",children:"Social:"}),Object(f.jsx)("span",{className:"text-sm text-gray-600",children:" ".concat(t.ecoInfo.socialMission)})]}),Object(f.jsxs)("div",{className:"mt-4 rounded-md",children:[Object(f.jsx)("span",{className:"text-teal-600 text-md font-semibold uppercase",children:"Environment:"}),Object(f.jsx)("span",{className:"text-sm text-gray-600",children:" ".concat(t.ecoInfo.environmentMission)})]}),Object(f.jsx)("div",{onClick:function(){var e;e=t,k(!0),r(e),k(!1)},value:t._id,className:"flex justify-end",children:Object(f.jsxs)("button",{className:"text-green-700 bg-transparent ring-green-700 ring-2 dark:text-gray-100 dark:bg-indigo-700 border px-8 py-2 text-sm font-medium leading-3 rounded focus:outline-none mt-5 hover:opacity-50",children:[Object(f.jsx)("span",{className:"sr-only",children:"View shopping cart"}),Object(f.jsx)(m.h,{className:"h-6 w-6","aria-hidden":"true"})]})})]})]})},"product-".concat(t._id))]})},X=function(){var e=Object(a.useState)(["","",""]),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(l.a)(r,2),o=s[0],i=s[1],d=Object(E.a)().sendRequest;Object(a.useEffect)((function(){i(!0),d({url:"/api/products/?pageSize=3&pageNum=1&sortBy=creationDate&order=-1"},(function(e){if(3!==e.resultsFound)throw new Error("Found less than three results");c(e.results),i(!1)}),(function(e){i(!1)}))}),[d]);var u=n.map((function(e,t){return t<3?e&&Object(f.jsx)(K,{picturesLoading:o,product:e,classes:2===t?"hidden xl:flex":""},"product-".concat(t+1)):null}));return Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:"-mt-4 mb-8 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl text-center",children:"Our latest arrivals"}),Object(f.jsx)("div",{className:"h-full flex flex-wrap justify-center items-stretch",children:u})]})},Q=n(50),Z=n(33),$=function(e){var t=e.paginationData,n=e.className,c=e.handlePageChange,r=Object(a.useState)([]),s=Object(l.a)(r,2),o=s[0],i=s[1];return Object(a.useEffect)((function(){var e,n;i([]),t.pageNumber>3&&t.pageNumber<t.totalPages-1?(e=t.pageNumber-3,n=t.pageNumber+2):t.pageNumber<=3?(e=0,n=5):(e=t.totalPages-5,n=t.totalPages);for(var a=function(e){i((function(n){return[].concat(Object(Z.a)(n),[Object(f.jsx)("li",{children:Object(f.jsx)("button",{onClick:c,value:e+1,className:"focus:outline-none first:ml-0 text-xs fo\n              t-semibold flex w-8 h-8 mx-1 p-0 rounded-full items-center justify-center leading-tight relative border border-solid border-green-500 bg-white text-green-500 ".concat(t.pageNumber&&t.pageNumber===e+1?"bg-green-200":"bg-white"),children:e+1},"button-".concat(e+1))})])}))},r=e;r<n;r++)a(r)}),[t.totalPages,t.pageNumber,c]),Object(f.jsx)("div",{className:"py-2 ".concat(n),children:Object(f.jsx)("nav",{className:"block",children:Object(f.jsx)("ul",{className:"flex pl-0 rounded list-none",children:o})})})},ee=c.a.memo($),te=function(e){var t=e.heading,n=e.fields,c=e.handleResultsPerPage,r=e.className,s=Object(a.useState)(!1),o=Object(l.a)(s,2),i=o[0],d=o[1],u=n.map((function(e){return Object(f.jsx)("li",{onClick:function(e){d(!1),c(e.target.value)},value:e,className:"cursor-pointer text-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 text-sm leading-3 tracking-normal py-3 hover:bg-green-100 px-3 font-normal",children:e},"".concat(e,"-hits"))}));return Object(f.jsx)("div",{className:"".concat(r),children:Object(f.jsx)("div",{className:"container flex justify-center mx-auto py-2",children:Object(f.jsx)("div",{className:" mb-2",children:Object(f.jsxs)("div",{className:"relative",onSubmit:c,children:[Object(f.jsxs)("div",{className:"bg-white dark:bg-gray-800 flex items-center justify-between border rounded border-gray-300 dark:border-gray-700 w-40 cursor-pointer",onClick:function(){return d(!i)},children:[Object(f.jsx)("p",{className:"pl-3 py-3 text-gray-600 dark:text-gray-400 text-xs leading-3 tracking-normal font-normal",children:t}),Object(f.jsx)("div",{className:"cursor-pointer text-gray-600 dark:text-gray-400 mr-3",children:i?Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:" icon icon-tabler icon-tabler-chevron-up",width:20,height:20,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(f.jsx)("polyline",{points:"6 9 12 15 18 9"})]}):Object(f.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-chevron-up",width:20,height:20,viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[Object(f.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z"}),Object(f.jsx)("polyline",{points:"6 15 12 9 18 15"})]})})]}),i&&Object(f.jsx)("ul",{className:"visible transition duration-300 opacity-100 bg-white dark:bg-gray-800 shadow rounded mt-2 w-48 py-1 absolute",children:u})]})})})})},ne=c.a.memo(te),ae=n(51);function ce(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}var re=function(e){var t=e.handleSortingFilter,n=Object(a.useState)([[{title:"Price ascending",value:"pricingInfo.price"},{title:"Price descending",value:"-pricingInfo.price"}],[{title:"Newest first",value:"-creationDate"},{title:"Oldest first",value:"creationDate"}]]),c=Object(l.a)(n,2),r=c[0],s=(c[1],Object(a.useState)("")),o=Object(l.a)(s,2),i=(o[0],o[1]),u=r.map((function(e,n){var a=Object(l.a)(e,2),c=a[0],r=a[1];return Object(f.jsxs)("div",{className:"py-1",children:[Object(f.jsx)(d.a.Item,{children:function(e){var n=e.active;return Object(f.jsx)("button",{onClick:function(){t(this.value),i(c.title)},value:c.value,className:ce(n?"bg-green-100 text-gray-900":"text-gray-700","block w-full px-4 py-2 text-sm text-right"),children:c.title})}},"div-".concat(n+1,"-a")),Object(f.jsx)(d.a.Item,{children:function(e){var n=e.active;return Object(f.jsx)("button",{onClick:function(){t(this.value),i(r.title)},value:r.value,className:ce(n?"bg-green-100 text-gray-900":"text-gray-700","block w-full px-4 py-2 text-sm text-right"),children:r.title})}},"div-".concat(n+1,"-b"))]},"div-".concat(n+1))}));return Object(f.jsx)(d.a,{as:"div",className:"relative inline-block text-left z-10",children:function(e){var t=e.open;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{children:Object(f.jsxs)(d.a.Button,{className:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-green-500",children:["Sort by",Object(f.jsx)(ae.a,{className:"-mr-1 ml-2 h-5 w-5","aria-hidden":"true"})]})}),Object(f.jsx)(j.a,{show:t,as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(f.jsx)(d.a.Items,{static:!0,className:"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none",children:u})})]})}})},se=function(e){var t=e.fetchedProducts,n=e.picturesLoading,a=e.isEmpty,c=e.contentLoading,r=e.handleResultsPerPage,s=e.paginationData,o=e.handlePageChange,i=e.handleSortingFilter,l=t.map((function(e){return Object(f.jsx)(K,{product:e,picturesLoading:n},"product-".concat(e._id))}));return Object(f.jsx)(f.Fragment,{children:a?Object(f.jsx)(Q.a,{}):Object(f.jsxs)(f.Fragment,{children:[c&&Object(f.jsx)(H.a,{}),Object(f.jsxs)("div",{className:"flex justify-end align-center items-baseline mr-4 mb-4",children:[Object(f.jsx)("span",{className:"sr-only",children:"Sort by:"}),Object(f.jsx)(re,{handleSortingFilter:i})]}),Object(f.jsx)("div",{className:"flex flex-wrap justify-center",children:l}),Object(f.jsxs)("div",{className:"flex-column justify-center",children:[Object(f.jsx)(ee,{paginationData:s,className:"flex-row justify-center mx-auto w-min md:absolute md:m-auto md:left-0 md:right-0",handlePageChange:o}),Object(f.jsx)(ne,{heading:"Results per page",className:"md:w-min md:ml-auto",fields:["3","6","24","60"],handleResultsPerPage:r})]})]})})},oe=c.a.lazy((function(){return n.e(8).then(n.bind(null,87))})),ie=c.a.lazy((function(){return n.e(7).then(n.bind(null,81))})),le=c.a.lazy((function(){return n.e(9).then(n.bind(null,88))})),de=c.a.lazy((function(){return n.e(3).then(n.bind(null,82))})),ue=c.a.lazy((function(){return n.e(4).then(n.bind(null,83))})),je=c.a.lazy((function(){return n.e(5).then(n.bind(null,84))})),me=c.a.lazy((function(){return n.e(10).then(n.bind(null,85))})),be=c.a.lazy((function(){return n.e(6).then(n.bind(null,86))})),he={showResultsBox:!1,contentLoading:!1,picturesLoading:!1,isEmpty:!1,activePage:1,paginationData:{},searchKeywords:"",resultsPerPage:6,fetchedProducts:[],showAuth:!1,departmentFilter:{name:"all"},sortingFilter:""},xe=function(e,t){switch(t.type){case"CONTENT_LOADING":return Object(P.a)(Object(P.a)({},e),{},{contentLoading:t.val});case"PICTURES_LOADING":return Object(P.a)(Object(P.a)({},e),{},{picturesLoading:t.val});case"IS_EMPTY":return Object(P.a)(Object(P.a)({},e),{},{isEmpty:t.val});case"ACTIVE_PAGE":return Object(P.a)(Object(P.a)({},e),{},{activePage:t.val});case"PAGINATION_DATA":return Object(P.a)(Object(P.a)({},e),{},{paginationData:t.val});case"SEARCH_KEYWORDS":return Object(P.a)(Object(P.a)({},e),{},{searchKeywords:t.val});case"RESULTS_PAGE":return Object(P.a)(Object(P.a)({},e),{},{resultsPerPage:t.val});case"FETCHED_PRODUCTS":return Object(P.a)(Object(P.a)({},e),{},{fetchedProducts:t.val});case"SHOW_AUTH":return Object(P.a)(Object(P.a)({},e),{},{showAuth:!e});case"DEPARTMENT_FILTER":return Object(P.a)(Object(P.a)({},e),{},{departmentFilter:t.val});case"SORTING_FILTER":return Object(P.a)(Object(P.a)({},e),{},{sortingFilter:t.val});default:return he}},ge=function(){var e=Object(a.useReducer)(xe,he),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useContext)(h.a).checkLogin,s=Object(i.g)(),o=Object(E.a)().sendRequest,d=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s.push("/search"),c({type:"CONTENT_LOADING",val:!0}),c({type:"PICTURES_LOADING",val:!0}),c({type:"IS_EMPTY",val:!1}),c({type:"FETCHED_PRODUCTS",val:[]}),c({type:"SEARCH_KEYWORDS",val:e});var t=function(e){0===e.results.length?(c({type:"IS_EMPTY",val:!0}),c({type:"PICTURES_LOADING",val:!1}),c({type:"CONTENT_LOADING",val:!1})):(c({type:"FETCHED_PRODUCTS",val:e.results}),c({type:"PAGINATION_DATA",val:{productsFound:e.productsFound,pageNumber:e.pageNumber,pageSize:e.pageSize,totalProducts:e.totalProducts,totalPages:e.totalPages}}),c({type:"PICTURES_LOADING",val:!1}),setTimeout((function(){c({type:"CONTENT_LOADING",val:!1})}),1e3),c({type:"IS_EMPTY",val:!1}))},a=function(){c({type:"IS_EMPTY",val:!0}),c({type:"PICTURES_LOADING",val:!1}),c({type:"CONTENT_LOADING",val:!1})};o({url:"api/products/search/?pageNum=".concat(n.activePage.toString(),"&pageSize=").concat(n.resultsPerPage.toString()).concat("all"!==n.departmentFilter.name?"&department=".concat(n.departmentFilter._id||""):"").concat(n.sortingFilter?"&sortBy=".concat(n.sortingFilter):""),method:"POST",headers:{"Content-Type":"application/json"},body:{keywords:e}},t,a)}),[n.activePage,n.resultsPerPage,s,o,n.departmentFilter,n.sortingFilter]),u=Object(a.useCallback)((function(e){c({type:"ACTIVE_PAGE",val:+e})}),[c]),j=Object(a.useCallback)((function(e){u(e.target.value)}),[u]),m=Object(a.useCallback)((function(e){1!==n.activePage&&c({type:"ACTIVE_PAGE",val:1}),c({type:"RESULTS_PAGE",val:e})}),[n.activePage]),b=Object(a.useCallback)((function(e){e.name&&c({type:"DEPARTMENT_FILTER",val:e})}),[]),x=Object(a.useCallback)((function(e){c({type:"SORTING_FILTER",val:e})}),[]);Object(a.useEffect)((function(){d(n.searchKeywords)}),[n.resultsPerPage,n.searchKeywords,n.activePage,n.sortingFilter,d]),Object(a.useEffect)((function(){0===n.fetchedProducts.length&&s.push("/")}),[]),Object(a.useEffect)((function(){r()}),[r]);var g,p=function(){localStorage.getItem("token")||(s.push("/"),s.go(0))};switch(Object(i.h)().pathname){case"/":g=[Object(f.jsx)(z,{}),Object(f.jsx)(X,{})];break;case"/search":g=[Object(f.jsx)(se,{fetchedProducts:n.fetchedProducts,paginationData:n.paginationData,handlePageChange:j,handleResultsPerPage:m,contentLoading:n.contentLoading,picturesLoading:n.picturesLoading,isEmpty:n.isEmpty,handleSortingFilter:x})];break;case"/signin":g=[Object(f.jsx)(be,{})];break;case"/signup":g=[Object(f.jsx)(me,{})];break;case"/profile":p(),g=[Object(f.jsx)(oe,{})];break;case"/password":p(),g=[Object(f.jsx)(ie,{})];break;case"/cart":g=[Object(f.jsx)(le,{})];break;case"/checkout":p(),g=[Object(f.jsx)(de,{})];break;case"/success":p(),g=[Object(f.jsx)(ue,{})];break;case"/orders":p(),g=[Object(f.jsx)(je,{})];break;default:g=[Object(f.jsx)(z,{}),Object(f.jsx)(X,{})]}return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(R,{handleDepartmentFilter:b,handleSortingFilter:x,departmentFilter:n.departmentFilter,onGetSearchbarInput:d,handleActivePage:u,activePage:n.activePage}),Object(f.jsx)(a.Suspense,{fallback:Object(f.jsx)(H.a,{}),children:g.map((function(e,t){return Object(f.jsx)(U,{children:e},"component-".concat(t))}))})]})},fe=n(57),pe=n(53),Oe=Object(fe.a)("pk_test_51J3L3sID7BWQ1tRhAZSV4MKb1ZUS23HKoXXF3R1zdKj2kbjh03UQqvfFgSVDWakLvATspzNOBELpa7k41w6OYa2C00PDmPXqgR"),ve=function(){return Object(f.jsx)(o.a,{children:Object(f.jsxs)(pe.Elements,{stripe:Oe,children:[Object(f.jsx)(v,{}),Object(f.jsx)(k,{}),Object(f.jsx)(p,{}),Object(f.jsxs)(i.d,{children:[Object(f.jsx)(i.b,{exact:!0,path:"/",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/search",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/signin",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/signup",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/profile",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/password",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/cart",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/checkout",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/success",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{exact:!0,path:"/orders",children:Object(f.jsx)("div",{className:"min-h-screen",children:Object(f.jsx)(ge,{})})}),Object(f.jsx)(i.b,{path:"*",children:Object(f.jsx)(i.a,{to:"/"})})]}),Object(f.jsx)(I,{})]})})},ye=n(39),we=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!!localStorage.getItem("token")),o=Object(l.a)(s,2),d=o[0],u=o[1],j=Object(a.useState)(!0),m=Object(l.a)(j,2),b=m[0],p=(m[1],Object(a.useState)(!1)),O=Object(l.a)(p,2),v=O[0],y=(O[1],""),N=Object(a.useContext)(w.a).handleModalText,k=Object(a.useContext)(x.a),S=k.deleteCartLocal,C=k.fetchCartFromDB,I=Object(i.g)(),P=function(e){fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){var t,n,a,c=Object(ye.a)(e.headers);try{for(c.s();!(a=c.n()).done;){var s=a.value;"x-auth-token"===s[0]&&(n=s[1],t=Object(g.a)(s[1]),r(t))}}catch(o){c.e(o)}finally{c.f()}return n&&(y="".concat(t.name.charAt(0).toUpperCase()+t.name.substring(1)," ").concat(t.surname.charAt(0).toUpperCase()+t.surname.substring(1))),localStorage.setItem("token",n),localStorage.removeItem("cart"),e.json()})).then((function(e){if(!e.success)throw new Error(e.msg);C(),N("Welcome, ".concat(y,"!"))})).catch((function(e){localStorage.removeItem("token"),console.log("An error ocurred: "+e.message),e.message.includes("token <")?N("Something went wrong!"):N("".concat(e.message,"!")),y=""}))},E=Object(a.useCallback)((function(){fetch("/api/check").then((function(e){var t,n=Object(ye.a)(e.headers);try{for(n.s();!(t=n.n()).done;){var a=t.value;"x-auth-token"===a[0]&&console.log(a[1])}}catch(c){n.e(c)}finally{n.f()}return e.json()})).then((function(e){if(e.error)throw new Error(e.error);e.session||(localStorage.removeItem("token"),r(""))})).catch((function(e){console.log("An error ocurred: "+e.message)}))}),[]);Object(a.useEffect)((function(){r(localStorage.getItem("token")),u(!!localStorage.getItem("token"))}),[c]);var _={token:c,userName:y,isLogged:d,openLogin:b,openSignup:v,loginUser:P,signupUser:function(e){fetch("/api/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){var t,n=Object(ye.a)(e.headers);try{for(n.s();!(t=n.n()).done;){var a=t.value;"x-auth-token"===a[0]&&console.log(a[1])}}catch(c){n.e(c)}finally{n.f()}return e.json()})).then((function(t){if(t.error)throw new Error(t.error);P({email:e.email,password:e.password})})).catch((function(e){console.log(e.message,"PORCOOO"),e.message.includes("Joi")?N("Something went wrong",e.message.split("(Joi):")[1].replaceAll(",",".\n").split(".\n")):e.message.includes("not unique")?N("Something went wrong",e.message.split("email:")[1].replaceAll(",",".\n").split(".\n")):e.message.includes("duplicate")&&N("Something went wrong","User already exists!"),console.log("An error ocurred: "+e.message)}))},logoutUser:function(){fetch("/api/logout",{method:"DELETE"}).then((function(e){var t,n=Object(ye.a)(e.headers);try{for(n.s();!(t=n.n()).done;){var a=t.value;"x-auth-token"===a[0]&&console.log(a[1])}}catch(c){n.e(c)}finally{n.f()}return e.json()})).then((function(e){if(e.error)throw new Error(e.error);localStorage.removeItem("token"),y="",S(),I.push("/"),setTimeout((function(){window.location.reload()}),300)})).catch((function(e){console.log("An error ocurred: "+e.message)}))},checkLogin:E,checkPassword:function(e,t){return new Promise((function(t,n){fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){if(!e.success)throw new Error(e.msg);t("Right password")})).catch((function(e){n(Error("Wrong password"))}))}))}};return Object(f.jsx)(h.a.Provider,{value:_,children:e.children})},Ne=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(l.a)(s,2),i=o[0],d=o[1],u=Object(a.useState)([]),j=Object(l.a)(u,2),m=j[0],b=j[1],h=function(){r((function(e){return!e}))},x={isOpen:c,modalText:i,modalBody:m,handleModalText:function(e,t){d(e.charAt(0).toUpperCase()+e.slice(1)),t?Array.isArray(t)?b(t.map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)}))):b([t.charAt(0).toUpperCase()+t.slice(1)]):b([]),h()},toggleModal:h};return Object(f.jsx)(w.a.Provider,{value:x,children:e.children})},ke=n(15),Se=n.n(ke),Ce=n(26),Ie=function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)([]),o=Object(l.a)(s,2),i=o[0],d=o[1],u=Object(a.useState)({}),j=Object(l.a)(u,2),m=j[0],b=j[1],h=Object(a.useState)({}),p=Object(l.a)(h,2),O=p[0],v=p[1],y=function(){var e=Object(Ce.a)(Se.a.mark((function e(){var t,n,a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=11;break}return t=Object(g.a)(localStorage.getItem("token"))._id,e.next=4,fetch("/api/cart/".concat(t));case 4:return n=e.sent,e.next=7,n.json();case 7:(a=e.sent).results?d(a.results):d([]),e.next=12;break;case 11:localStorage.getItem("cart")&&d(JSON.parse(localStorage.getItem("cart")));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){localStorage.getItem("token")&&y()}),[]);var w=function(){var e=Object(Ce.a)(Se.a.mark((function e(t){var n,a;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.quantity=1,!localStorage.getItem("token")){e.next=21;break}return e.prev=2,e.next=5,fetch("/api/cart/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:Object(g.a)(localStorage.getItem("token"))._id,cartItem:t})});case 5:return n=e.sent,e.next=8,n.json();case 8:if(1!==e.sent.insertedCount){e.next=12;break}e.next=13;break;case 12:throw new Error("Something went wrong");case 13:d((function(e){d([].concat(Object(Z.a)(e),[t]))})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0.message);case 19:e.next=23;break;case 21:localStorage.getItem("cart")?(0===(a=JSON.parse(localStorage.getItem("cart"))).filter((function(e){return e._id==t._id})).length&&a.push(t),localStorage.setItem("cart",JSON.stringify(a))):localStorage.setItem("cart",JSON.stringify([t])),d((function(e){d([].concat(Object(Z.a)(e),[t]))}));case 23:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){if(i.length>0){var e=i.reduce((function(e,t){return e+t.pricingInfo.price*t.quantity}),0);r(e)}}),[i]);var N=function(){var e=Object(Ce.a)(Se.a.mark((function e(t){var n,a,c,r;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=21;break}return e.prev=1,n=Object(g.a)(localStorage.getItem("token"))._id,e.next=5,fetch("/api/cart/",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:n,cartItemId:t})});case 5:return a=e.sent,e.next=8,a.json();case 8:if(1!==e.sent.deletedCount){e.next=13;break}d((function(e){1===e.length?d([]):d(e.filter((function(e){return e._id!==t})))})),e.next=14;break;case 13:throw new Error("Item wasn't deleted");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0.message);case 19:e.next=22;break;case 21:localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart")),r=c.filter((function(e){return e._id!==t})),localStorage.setItem("cart",JSON.stringify(r)),d((function(e){1===e.length?d([]):d(e.filter((function(e){return e._id!==t})))})));case 22:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){d([])},S=function(){var e=Object(Ce.a)(Se.a.mark((function e(t,n){var a,c;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/order/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:n,userAddress:O})});case 3:return a=e.sent,e.next=6,a.json();case 6:c=e.sent,C(t),b(c.result),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(Ce.a)(Se.a.mark((function e(t){var n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/cart/whole/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:if(!e.sent.deletedCount){e.next=11;break}k(),e.next=12;break;case 11:throw new Error("It wasn't possible to delete the cart");case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),I={items:i,totalPrice:c,lastOrder:m,userAddress:O,setUserAddress:v,addItemToCart:w,removeItemFromCart:N,updateItemQuantity:function(e,t){d((function(n){var a=Object(Z.a)(n),c=a.findIndex((function(t){return t._id===e}));a[c].quantity=t,d(a),r((function(e){r(e+a[c].pricingInfo.price*a[c].quantity)}))}))},deleteCartLocal:k,fetchCartFromDB:y,saveOrder:S,deleteUserCart:C};return Object(f.jsx)(x.a.Provider,{value:I,children:e.children})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(Ne,{children:Object(f.jsx)(Ie,{children:Object(f.jsx)(we,{children:Object(f.jsx)(ve,{})})})})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.ad3f6426.chunk.js.map