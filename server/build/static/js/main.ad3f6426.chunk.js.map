{"version":3,"sources":["hooks/use-http.js","store/cart-context.js","components/UI/LoadingOverlay.js","store/auth-context.js","store/modal-context.js","assets/img/baobab.svg","components/Footer/Footer.module.scss","components/UI/LoadingOverlay.module.scss","components/UI/DottedDropdown.module.css","components/UI/RatingSystem.js","components/MainContent/Results/NothingFound.js","components/MainContent/StoreSearchbar.module.css","components/MainContent/Results/PictureOverlay.module.scss","components/Header/MainNav.js","components/Header/HeaderBanner.js","components/UI/MainModal.js","components/Footer/Footer.js","components/UI/DottedDropdown.js","components/MainContent/StoreSearchbar.js","components/MainContent/LandingPage/HeroMain.js","components/UI/BoxWrapper.js","assets/img/Spinner-5.gif","components/MainContent/Results/PictureOverlay.js","components/MainContent/Results/ProductCardSlideshow.js","components/MainContent/LandingPage/ProductsSectionCard.js","components/MainContent/Results/PageCounter.js","components/UI/SimpleDropdown.js","components/UI/SectionedDropdown.js","pages/ResultsBox.js","components/MainContent/MainContent.js","App.js","store/AuthProvider.js","store/ModalProvider.js","store/CartProvider.js","index.js"],"names":["useHttp","useState","isLoading","setIsLoading","error","setError","sendRequest","useCallback","requestConfig","applyData","handleError","a","fetch","url","method","headers","body","JSON","stringify","response","json","data","console","log","CartContext","React","createContext","items","totalPrice","lastOrder","userAddress","setUserAddress","addItemToCart","item","removeItemFromCart","id","updateItemQuantity","quantity","deleteCartLocal","fetchCartFromDB","saveOrder","deleteUserCart","LoadingOverlay","className","classes","overlay","loader","loader1","memo","AuthContext","token","userName","isLoggedIn","localStorage","getItem","openLogin","openSignup","loginUser","userData","logoutUser","signupUser","checkLogin","checkPassword","ModalContext","isOpen","modalText","handleModalText","toggleModal","module","exports","RatingSystem","getRatingValue","notInteractive","ratingValue","starRating","setStarRating","hoverStarRating","setHoverStarRating","useEffect","handleMouseLeave","showStars","map","number","onMouseEnter","undefined","onMouseLeave","onClick","value","xmlns","width","height","viewBox","fill","d","NothingFound","src","alt","MainNav","classNames","filter","Boolean","join","history","useHistory","useContext","userGreeting","setUserGreeting","navigation","profile","userDataFromToken","setUserDataFromToken","jwt_decode","name","capitalizeWord","length","itemsNum","setItemsNum","bounceAnimation","setBounceAnimation","setTimeout","handleSignin","push","handleLogout","go","handleLogo","word","charAt","toUpperCase","slice","showProfileItems","index","Item","active","to","showProfileItemsMobile","Button","as","open","BaobabLogo","itemIdx","aria-hidden","show","Fragment","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Items","static","Panel","surname","email","BannerContent","setShow","href","target","type","HeaderBanner","ReactDOM","createPortal","document","getElementById","ModalContent","modalBody","setOpen","text","setText","setBody","cancelButtonRef","useRef","location","useLocation","handleModalClose","pathname","Root","initialFocus","onClose","Child","Overlay","Title","message","replaceAll","ref","MainModal","IndexPage","rel","title","DottedDropdown","handleDepartmentFilter","departmentFilter","handleMenuItem","showItems","_id","strokeWidth","stroke","strokeLinecap","strokeLinejoin","cx","cy","r","StoreSearchbar","onGetSearchbarInput","handleActivePage","handleSortingFilter","activePage","searchbarInputRef","menuItems","setMenuItems","fetchDepartments","res","results","current","trim","onSubmit","event","preventDefault","currentSearchbarInput","placeholder","features","description","icon","ScaleIcon","GlobeIcon","LightningBoltIcon","HeartIcon","Example","feature","BoxWrapper","props","children","OverlayContent","handleClosePicture","role","aria-label","x1","y1","x2","y2","PictureOverlay","ProductCardSlideshow","product","picturesLoading","overlayData","setOverlayData","overlayOpen","setOverlayOpen","ratingInfo","showPictures","pictures","picture","Spinner","e","imgData","naturalSlideWidth","naturalSlideHeight","totalSlides","isIntrinsicHeight","infinite","points","department","completeName","brand","productName","shortDesc","productDesc1","productDesc2","productDesc3","color","Number","parseInt","pricingInfo","price","Math","floor","toFixed","toString","padStart","ecoInfo","originCountryCode","productionCountryCode","socialMission","environmentMission","ProductsSectionCard","products","setProducts","setPicturesLoading","fetchLatestProducts","result","resultsFound","Error","err","showCards","PageCounter","paginationData","handlePageChange","paginationButtons","setPaginationButtons","start","end","pageNumber","totalPages","i","prevState","SimpleDropdown","heading","fields","handleResultsPerPage","showFields","field","SectionedDropdown","dropdownItems","setCurrentItem","item1","item2","this","ResultsBox","fetchedProducts","isEmpty","contentLoading","showProducts","ProfilePage","lazy","PasswordChange","ShoppingCart","CheckoutForm","OrderSent","Orders","SignupForm","Loginform","defaultResultsState","showResultsBox","searchKeywords","resultsPerPage","showAuth","sortingFilter","resultsReducer","state","action","val","MainContent","useReducer","resultsState","dispatchResults","fetchProducts","getSearchbarInput","input","handleFetchedProducts","productsFound","pageSize","totalProducts","keywords","resultsContent","redirectIfNotLoggedIn","fallback","component","promise","loadStripe","App","stripe","exact","path","Footer","AuthProvider","setToken","isLogged","setIsLogged","then","decodedToken","header","substring","setItem","removeItem","success","msg","catch","includes","session","authContext","password","split","window","reload","Promise","resolve","reject","Provider","ModalProvider","setIsOpen","setModalText","setModalBody","modalContext","Array","isArray","CartProvider","setTotalPrice","setItems","setLastOrder","userId","fetchResponse","allCartItems","parse","cartItem","insertedCount","allLocalItems","object","reduce","accumulator","currentValue","cartItemId","deletedCount","allItems","newItems","order","cartContext","newProducts","updatedItemIndex","findIndex","render","StrictMode"],"mappings":"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","file":"static/js/main.ad3f6426.chunk.js","sourcesContent":["import { useCallback, useState } from \"react\";\r\n\r\nconst useHttp = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const sendRequest = useCallback(\r\n    async (requestConfig, applyData, handleError) => {\r\n      setIsLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        const response = await fetch(requestConfig.url, {\r\n          method: requestConfig.method ? requestConfig.method : \"GET\",\r\n          headers: requestConfig.headers ? requestConfig.headers : {},\r\n          body: requestConfig.body ? JSON.stringify(requestConfig.body) : null,\r\n        });\r\n\r\n        // if (!response.ok) {\r\n        //   throw new Error(\"Request failed!\");\r\n        // }\r\n\r\n        const data = await response.json();\r\n        applyData(data);\r\n      } catch (err) {\r\n        console.log(err);\r\n        if (handleError) handleError(err);\r\n      }\r\n      setIsLoading(false);\r\n    },\r\n    []\r\n  );\r\n\r\n  return {\r\n    isLoading,\r\n    error,\r\n    sendRequest,\r\n    setIsLoading,\r\n  };\r\n};\r\n\r\nexport default useHttp;\r\n","import React from \"react\";\r\n\r\nconst CartContext = React.createContext({\r\n  items: [],\r\n  totalPrice: 0,\r\n  lastOrder: {},\r\n  userAddress: {},\r\n  setUserAddress: (data) => {},\r\n  addItemToCart: (item) => {},\r\n  removeItemFromCart: (id) => {},\r\n  updateItemQuantity: (id, quantity) => {},\r\n  deleteCartLocal: () => {},\r\n  fetchCartFromDB: () => {},\r\n  saveOrder: (id, items) => {},\r\n  deleteUserCart: (id) => {},\r\n});\r\n\r\nexport default CartContext;\r\n","import React from \"react\";\r\nimport classes from \"./LoadingOverlay.module.scss\";\r\n\r\nconst LoadingOverlay = () => {\r\n  return (\r\n    <div\r\n      className={`${classes.overlay} bg-green-200 bg-opacity-100 fixed top-0 left-0 w-screen h-screen flex justify-center items-center z-50`}\r\n    >\r\n      <div>\r\n        <h2 className=\"text-3xl mt-3 mb-1 md:m-8 md:mt-10 font-semibold text-center\">\r\n          Loading...\r\n        </h2>\r\n        <div className={`${classes.loader} ${classes.loader1}`}>\r\n          <div>\r\n            <div>\r\n              <div>\r\n                <div>\r\n                  <div>\r\n                    <div></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(LoadingOverlay);\r\n","import React from \"react\";\r\n\r\nconst AuthContext = React.createContext({\r\n  token: \"\",\r\n  userName: \"\",\r\n  isLoggedIn: !!localStorage.getItem(\"token\"),\r\n  openLogin: true,\r\n  openSignup: false,\r\n  loginUser: (userData) => {},\r\n  logoutUser: () => {},\r\n  signupUser: (userData) => {},\r\n  checkLogin: () => {},\r\n  checkPassword: (userData) => {},\r\n});\r\n\r\nexport default AuthContext;\r\n","import React from \"react\";\r\n\r\nconst ModalContext = React.createContext({\r\n  isOpen: false,\r\n  modalText: \"\",\r\n  handleModalText: () => {},\r\n  toggleModal: () => {},\r\n});\r\n\r\nexport default ModalContext;\r\n","export default __webpack_public_path__ + \"static/media/baobab.74904978.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"centered-box\":\"Footer_centered-box__1yqCU\",\"heart\":\"Footer_heart__1T8Et\",\"animate-beat\":\"Footer_animate-beat__2DX8H\",\"beat\":\"Footer_beat__3269M\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"LoadingOverlay_overlay__3rrf8\",\"loader\":\"LoadingOverlay_loader__3JzvY\",\"loader1\":\"LoadingOverlay_loader1__2KW-f\",\"rotate\":\"LoadingOverlay_rotate__3LgeL\",\"rotate2\":\"LoadingOverlay_rotate2__34mUX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"active-item\":\"DottedDropdown_active-item__t2wCo\"};","import { useEffect, useState } from \"react\";\r\n\r\nconst RatingSystem = ({\r\n  classes,\r\n  getRatingValue,\r\n  notInteractive,\r\n  ratingValue,\r\n}) => {\r\n  const [starRating, setStarRating] = useState(0);\r\n  const [hoverStarRating, setHoverStarRating] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setStarRating(0);\r\n  }, []);\r\n\r\n  const handleMouseEnter = (value) => {\r\n    setHoverStarRating(value);\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    setHoverStarRating(0);\r\n  };\r\n\r\n  const determineFillColor = (value) => {\r\n    // Not interactive version\r\n    if (notInteractive) {\r\n      return ratingValue >= value ? \"#F59E0B\" : \"#9CA3AF\";\r\n    } else {\r\n      if (hoverStarRating) {\r\n        return hoverStarRating >= value ? \"#FCD34D\" : \"#9CA3AF\";\r\n      } else {\r\n        return starRating >= value ? \"#F59E0B\" : \"#9CA3AF\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleOnClick = (value) => {\r\n    setStarRating(value);\r\n    getRatingValue(value);\r\n  };\r\n\r\n  const showStars = [1, 2, 3, 4, 5].map((number) => {\r\n    return (\r\n      <div\r\n        key={`element-${number}`}\r\n        className={notInteractive ? \"pr-1\" : \"pr-4 lg:pr-2\"}\r\n        onMouseEnter={\r\n          notInteractive ? undefined : () => handleMouseEnter(number)\r\n        }\r\n        onMouseLeave={notInteractive ? undefined : handleMouseLeave}\r\n        onClick={notInteractive ? undefined : () => handleOnClick(number)}\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width={notInteractive ? 13 : 18}\r\n          height={notInteractive ? 12 : 17}\r\n          viewBox=\"0 0 14 13\"\r\n          fill=\"none\"\r\n        >\r\n          <path\r\n            d=\"M6.52447 0.463524C6.67415 0.00286841 7.32585 0.00286996 7.47553 0.463525L8.68386 4.18237C8.75079 4.38838 8.94277 4.52786 9.15938 4.52786H13.0696C13.554 4.52786 13.7554 5.14767 13.3635 5.43237L10.2001 7.73075C10.0248 7.85807 9.95149 8.08375 10.0184 8.28976L11.2268 12.0086C11.3764 12.4693 10.8492 12.8523 10.4573 12.5676L7.29389 10.2693C7.11865 10.1419 6.88135 10.1419 6.70611 10.2693L3.54267 12.5676C3.15081 12.8523 2.62357 12.4693 2.77325 12.0086L3.98157 8.28976C4.04851 8.08375 3.97518 7.85807 3.79994 7.73075L0.636495 5.43237C0.244639 5.14767 0.446028 4.52786 0.93039 4.52786H4.84062C5.05723 4.52786 5.24921 4.38838 5.31614 4.18237L6.52447 0.463524Z\"\r\n            fill={determineFillColor(number)}\r\n          />\r\n        </svg>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return <div className={`flex items-center ${classes}`}>{showStars}</div>;\r\n};\r\n\r\nexport default RatingSystem;\r\n","import React from \"react\";\r\n\r\nconst NothingFound = () => {\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-3xl mt-3 mb-1 md:m-8 md:mt-10 font-semibold text-center\">\r\n        Oops... There's nothing to show here!\r\n      </h2>\r\n      <img\r\n        className=\"mx-auto\"\r\n        src={\r\n          \"https://res.cloudinary.com/ngasco/image/upload/v1624283212/bonsai_background/empty_2_lvulpa.gif\"\r\n        }\r\n        alt=\"Man staring at empty box\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(NothingFound);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-button\":\"StoreSearchbar_search-button__3m3Be\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"centered-div\":\"PictureOverlay_centered-div__D8fPs\"};","import React, { Fragment, useContext, useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nimport { Disclosure, Menu, Transition } from \"@headlessui/react\";\r\nimport {\r\n  ShoppingCartIcon,\r\n  MenuIcon,\r\n  XIcon,\r\n  UserIcon,\r\n} from \"@heroicons/react/outline\";\r\nimport BaobabLogo from \"../../assets/img/baobab.svg\";\r\n\r\nimport AuthContext from \"../../store/auth-context\";\r\nimport CartContext from \"../../store/cart-context\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst MainNav = () => {\r\n  // This came with the component\r\n  function classNames(...classes) {\r\n    return classes.filter(Boolean).join(\" \");\r\n  }\r\n\r\n  const history = useHistory();\r\n\r\n  // User related states\r\n  const { logoutUser } = useContext(AuthContext);\r\n  // Used for greeting user on main nav\r\n  const [userGreeting, setUserGreeting] = useState(\"\");\r\n  const navigation = [userGreeting];\r\n  // Profile menu items\r\n  const profile = [\"Your profile\", \"Your orders\", \"Change password\", \"Sign in\"];\r\n  // User for user data in mobile view\r\n  const [userDataFromToken, setUserDataFromToken] = useState({});\r\n\r\n  // Fetching user data from token\r\n  useEffect(() => {\r\n    if (localStorage.getItem(\"token\")) {\r\n      setUserDataFromToken(jwt_decode(localStorage.getItem(\"token\")));\r\n    }\r\n  }, [logoutUser]);\r\n\r\n  // Setting user greeting\r\n  useEffect(() => {\r\n    if (userDataFromToken.name) {\r\n      setUserGreeting(`Hi, ${capitalizeWord(userDataFromToken.name)}!`);\r\n    } else {\r\n      setUserGreeting(\"Hi, stranger!\");\r\n    }\r\n  }, [userDataFromToken]);\r\n\r\n  // Cart related\r\n  const { items } = useContext(CartContext);\r\n  const [itemsNum, setItemsNum] = useState(items ? items.length : 0);\r\n  // Bouncing animation for when adding new items\r\n  const [bounceAnimation, setBounceAnimation] = useState(\"\");\r\n\r\n  // Setting the bounce animation and taking it away after half a second\r\n  useEffect(() => {\r\n    setItemsNum(items ? items.length : 0);\r\n    setBounceAnimation(\"animate-bounce\");\r\n    setTimeout(() => {\r\n      setBounceAnimation(\"\");\r\n    }, 500);\r\n  }, [items]);\r\n\r\n  const handleSignin = () => {\r\n    history.push(\"/signin\");\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    logoutUser();\r\n    history.go(0);\r\n    setUserGreeting(\"\");\r\n  };\r\n\r\n  // When clicking on nav main log\r\n  const handleLogo = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  // Utility function for when showing name\r\n  const capitalizeWord = (word) => word.charAt(0).toUpperCase() + word.slice(1);\r\n\r\n  // All menu items for desktop view\r\n  const showProfileItems = profile.map((item, index) => {\r\n    // Sign in\r\n    if (item === \"Sign in\") {\r\n      return (\r\n        <Menu.Item key={`profile-item-${index + 1}`}>\r\n          {({ active }) => (\r\n            <Link\r\n              id={`profile-item-${index + 1}`}\r\n              onClick={\r\n                localStorage.getItem(\"token\") ? handleLogout : handleSignin\r\n              }\r\n              className={classNames(\r\n                active ? \"bg-gray-100\" : \"\",\r\n                `block px-4 py-2 text-sm text-gray-700 cursor-pointer ${\r\n                  localStorage.getItem(\"token\") && \"bg-yellow-200\"\r\n                } rounded-md`\r\n              )}\r\n            >\r\n              {localStorage.getItem(\"token\") ? \"Log out\" : item}\r\n            </Link>\r\n          )}\r\n        </Menu.Item>\r\n      );\r\n      // Your profile\r\n    } else if (item === \"Your profile\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Menu.Item key={`profile-item-${index + 1}`}>\r\n            {({ active }) => (\r\n              <Link\r\n                to=\"/profile\"\r\n                id={`profile-item-${index + 1}`}\r\n                className={classNames(\r\n                  active ? \"bg-gray-100\" : \"\",\r\n                  \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n                )}\r\n              >\r\n                {item}\r\n              </Link>\r\n            )}\r\n          </Menu.Item>\r\n        )\r\n      );\r\n    } else if (item === \"Change password\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Menu.Item key={`profile-item-${index + 1}`}>\r\n            {({ active }) => (\r\n              <Link\r\n                to=\"/password\"\r\n                id={`profile-item-${index + 1}`}\r\n                className={classNames(\r\n                  active ? \"bg-gray-100\" : \"\",\r\n                  \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n                )}\r\n              >\r\n                {item}\r\n              </Link>\r\n            )}\r\n          </Menu.Item>\r\n        )\r\n      );\r\n    } else if (item === \"Your orders\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Menu.Item key={`profile-item-${index + 1}`}>\r\n            {({ active }) => (\r\n              <Link\r\n                to=\"/orders\"\r\n                id={`profile-item-${index + 1}`}\r\n                className={classNames(\r\n                  active ? \"bg-gray-100\" : \"\",\r\n                  \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n                )}\r\n              >\r\n                {item}\r\n              </Link>\r\n            )}\r\n          </Menu.Item>\r\n        )\r\n      );\r\n    }\r\n    // This is to silence warning\r\n    return null;\r\n  });\r\n\r\n  // All menu items for mobile view\r\n  const showProfileItemsMobile = profile.map((item, index) => {\r\n    // Sign in\r\n    if (item === \"Sign in\") {\r\n      return (\r\n        <Disclosure.Button\r\n          key={`profile-item-${index + 1}`}\r\n          id={`profile-item-${index + 1}`}\r\n          className={classNames(\r\n            `w-full text-left hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer bg-yellow-200 rounded-md`\r\n          )}\r\n        >\r\n          <Link\r\n            to={localStorage.getItem(\"token\") ? \"/\" : \"/signin\"}\r\n            onClick={\r\n              localStorage.getItem(\"token\") ? handleLogout : handleSignin\r\n            }\r\n          >\r\n            {localStorage.getItem(\"token\") ? \"Log out\" : item}\r\n          </Link>\r\n        </Disclosure.Button>\r\n      );\r\n      // Your profile\r\n    } else if (item === \"Your profile\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Disclosure.Button\r\n            key={`profile-item-${index + 1}`}\r\n            id={`profile-item-${index + 1}`}\r\n            className={classNames(\r\n              \"hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n            )}\r\n          >\r\n            <Link to=\"/profile\">{item}</Link>\r\n          </Disclosure.Button>\r\n        )\r\n      );\r\n    } else if (item === \"Change password\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Disclosure.Button\r\n            key={`profile-item-${index + 1}`}\r\n            id={`profile-item-${index + 1}`}\r\n            className={classNames(\r\n              \"hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n            )}\r\n          >\r\n            <Link to=\"/password\">{item}</Link>\r\n          </Disclosure.Button>\r\n        )\r\n      );\r\n    } else if (item === \"Your orders\") {\r\n      return (\r\n        localStorage.getItem(\"token\") && (\r\n          <Disclosure.Button\r\n            to=\"/orders\"\r\n            key={`profile-item-${index + 1}`}\r\n            id={`profile-item-${index + 1}`}\r\n            className={classNames(\r\n              \"hover:bg-gray-100 block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n            )}\r\n          >\r\n            <Link to=\"/orders\">{item}</Link>\r\n          </Disclosure.Button>\r\n        )\r\n      );\r\n    }\r\n    // This is to silence warning\r\n    return null;\r\n  });\r\n\r\n  // This is not used at the moment\r\n\r\n  // const showCartItems = cart.map((item, index) => {\r\n  //   return (\r\n  //     <Menu.Item key={item}>\r\n  //       {({ active }) => (\r\n  //         <Link\r\n  //           to={item === \"See cart\" && \"/cart\"}\r\n  //           id={`cart-item-${index + 1}`}\r\n  //           className={classNames(\r\n  //             active ? \"bg-gray-100\" : \"\",\r\n  //             \"block px-4 py-2 text-sm text-gray-700 cursor-pointer\"\r\n  //           )}\r\n  //         >\r\n  //           {item}\r\n  //         </Link>\r\n  //       )}\r\n  //     </Menu.Item>\r\n  //   );\r\n  // });\r\n\r\n  return (\r\n    <Disclosure as=\"nav\">\r\n      {({ open }) => (\r\n        <>\r\n          <header className=\"max-w-7xl mx-auto mb-3 md:mb-0 px-4 sm:px-6 lg:px-8\">\r\n            <div className=\"flex items-center justify-between h-16\">\r\n              <div className=\"flex items-center\">\r\n                <div className=\"flex-shrink-0 out\">\r\n                  <img\r\n                    onClick={handleLogo}\r\n                    className=\"h-12 w-12 cursor-pointer\"\r\n                    src={BaobabLogo}\r\n                    alt=\"BaobabLogo\"\r\n                  />\r\n                </div>\r\n                <div className=\"hidden md:block\">\r\n                  <div className=\"ml-10 flex items-baseline space-x-4\">\r\n                    {localStorage.getItem(\"token\") &&\r\n                      navigation.map((item, itemIdx) =>\r\n                        itemIdx === 0 ? (\r\n                          <Fragment key={item}>\r\n                            {userGreeting && (\r\n                              <p className=\"bg-green-900 text-white px-3 py-2 rounded-md text-sm font-medium cursor-default\">\r\n                                {item}\r\n                              </p>\r\n                            )}\r\n                          </Fragment>\r\n                        ) : (\r\n                          <p\r\n                            key={item}\r\n                            className=\"text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium\"\r\n                          >\r\n                            {item}\r\n                          </p>\r\n                        )\r\n                      )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"hidden md:block\">\r\n                <div className=\"ml-4 flex items-center md:ml-6\">\r\n                  <Menu as=\"div\" className=\"ml-3 relative\">\r\n                    {({ open }) => (\r\n                      <>\r\n                        <div>\r\n                          <Menu.Button className=\"bg-gray-600 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                            <span className=\"sr-only\">View profile</span>\r\n                            <ShoppingCartIcon\r\n                              onClick={() => {\r\n                                if (items.length > 0) {\r\n                                  history.push(\"/cart\");\r\n                                }\r\n                              }}\r\n                              className=\"h-6 w-6\"\r\n                              aria-hidden=\"true\"\r\n                            />\r\n                            <div\r\n                              className={`absolute top-0 right-0 mt-7 -mr-3 px-2 ${bounceAnimation} bg-yellow-500 rounded-full text-sm text-white font-bold`}\r\n                            >\r\n                              {itemsNum > 0 && itemsNum}\r\n                            </div>\r\n                          </Menu.Button>\r\n                        </div>\r\n                        {/* <Transition\r\n                          show={open}\r\n                          as={Fragment}\r\n                          enter=\"transition ease-out duration-100\"\r\n                          enterFrom=\"transform opacity-0 scale-95\"\r\n                          enterTo=\"transform opacity-100 scale-100\"\r\n                          leave=\"transition ease-in duration-75\"\r\n                          leaveFrom=\"transform opacity-100 scale-100\"\r\n                          leaveTo=\"transform opacity-0 scale-95\"\r\n                        >\r\n                          <Menu.Items\r\n                            static\r\n                            className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\"\r\n                          >\r\n                            {showCartItems}\r\n                          </Menu.Items>\r\n                        </Transition> */}\r\n                      </>\r\n                    )}\r\n                  </Menu>\r\n\r\n                  {/* Profile dropdown */}\r\n                  <Menu as=\"div\" className=\"ml-3 relative\">\r\n                    {({ open }) => (\r\n                      <>\r\n                        <div>\r\n                          {/* <Menu.Button className=\"max-w-xs bg-gray-600 rounded-full flex items-center text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                            <span className=\"sr-only\">Open user menu</span>\r\n                            <img\r\n                              className=\"h-8 w-8 rounded-full\"\r\n                              src={UserCircleIcon}\r\n                              alt=\"Generic avatar logo\"\r\n                            />\r\n                          </Menu.Button> */}\r\n                          <Menu.Button className=\"bg-gray-600 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                            <span className=\"sr-only\">View profile</span>\r\n                            <UserIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n                          </Menu.Button>\r\n                        </div>\r\n                        <Transition\r\n                          show={open}\r\n                          as={Fragment}\r\n                          enter=\"transition ease-out duration-100\"\r\n                          enterFrom=\"transform opacity-0 scale-95\"\r\n                          enterTo=\"transform opacity-100 scale-100\"\r\n                          leave=\"transition ease-in duration-75\"\r\n                          leaveFrom=\"transform opacity-100 scale-100\"\r\n                          leaveTo=\"transform opacity-0 scale-95\"\r\n                        >\r\n                          <Menu.Items\r\n                            static\r\n                            className=\"origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 pb-0 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none\"\r\n                          >\r\n                            {showProfileItems}\r\n                          </Menu.Items>\r\n                        </Transition>\r\n                      </>\r\n                    )}\r\n                  </Menu>\r\n                </div>\r\n              </div>\r\n              <div className=\"-mr-2 flex md:hidden\">\r\n                {/* Mobile menu button */}\r\n                <Disclosure.Button className=\"bg-gray-600 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                  <span className=\"sr-only\">Open main menu</span>\r\n                  {open ? (\r\n                    <XIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\r\n                  ) : (\r\n                    <MenuIcon className=\"block h-6 w-6\" aria-hidden=\"true\" />\r\n                  )}\r\n                </Disclosure.Button>\r\n              </div>\r\n            </div>\r\n          </header>\r\n\r\n          {/* Mobile version */}\r\n          <Disclosure.Panel className=\"md:hidden bg-white mb-5\">\r\n            <div className=\"px-2 pt-2 pb-3 space-y-1 sm:px-3\">\r\n              {/* Navigation only has one element at the moment */}\r\n              {navigation.map((item, itemIdx) =>\r\n                itemIdx === 0 ? (\r\n                  <Fragment key={item}>\r\n                    <div className=\"bg-green-800 text-white block px-3 py-2 rounded-md text-base font-medium\">\r\n                      {item}\r\n                    </div>\r\n                  </Fragment>\r\n                ) : (\r\n                  // This is not used at the moment\r\n                  <p\r\n                    key={item}\r\n                    className=\"text-gray-300 hover:bg-gray-700 hover:text-white block px-3 py-2 rounded-md text-base font-medium\"\r\n                  >\r\n                    {item}\r\n                  </p>\r\n                )\r\n              )}\r\n            </div>\r\n            <div className=\"pt-4 pb-3 border-t border-gray-700\">\r\n              <div className=\"flex items-center px-5\">\r\n                {userDataFromToken.name && (\r\n                  <>\r\n                    <div className=\"flex-shrink-0 bg-gray-600 p-1 rounded-full text-white hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                      <UserIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n                    </div>\r\n                    {/* Box with name and e-mail */}\r\n                    <div className=\"ml-3\">\r\n                      <div className=\"text-base font-medium leading-none text-gray-800\">\r\n                        {`${capitalizeWord(\r\n                          userDataFromToken.name\r\n                        )} ${capitalizeWord(userDataFromToken.surname)}`}\r\n                      </div>\r\n                      <div className=\"text-sm font-medium leading-none text-gray-400\">\r\n                        {userDataFromToken && userDataFromToken.email}\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n                <Disclosure.Button className=\"ml-auto bg-gray-600 flex-shrink-0 p-1 rounded-full text-gray-400 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white\">\r\n                  <span className=\"sr-only\">View shopping cart</span>\r\n                  <ShoppingCartIcon\r\n                    onClick={() => {\r\n                      if (items.length > 0) {\r\n                        history.push(\"/cart\");\r\n                      }\r\n                    }}\r\n                    className=\"h-6 w-6\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                </Disclosure.Button>\r\n                <div\r\n                  className={`relative mt-8 -ml-2 -mr-2 px-2 ${bounceAnimation} bg-yellow-500 rounded-full text-sm text-white font-bold`}\r\n                >\r\n                  {itemsNum > 0 && itemsNum}\r\n                </div>\r\n              </div>\r\n              <div className=\"mt-3 px-2 space-y-1\" show={open}>\r\n                {showProfileItemsMobile}\r\n              </div>\r\n            </div>\r\n          </Disclosure.Panel>\r\n        </>\r\n      )}\r\n    </Disclosure>\r\n  );\r\n};\r\n\r\nexport default MainNav;\r\n","import { SpeakerphoneIcon, XIcon } from \"@heroicons/react/outline\";\r\nimport { useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst BannerContent = () => {\r\n  const [show, setShow] = useState(true);\r\n\r\n  if (show) {\r\n    return (\r\n      <div className=\"bg-yellow-500\">\r\n        <div className=\"max-w-11xl mx-auto py-1.5 px-3 sm:px-6 lg:px-8 z-10\">\r\n          <div className=\"flex items-center justify-between flex-wrap\">\r\n            <div className=\"w-0 flex-1 flex items-center\">\r\n              <span className=\"flex p-2 rounded-lg bg-yellow-700\">\r\n                <SpeakerphoneIcon\r\n                  className=\"h-4 w-4 text-white\"\r\n                  aria-hidden=\"true\"\r\n                />\r\n              </span>\r\n              <p className=\"ml-3 font-small text-white\">\r\n                <span className=\"md:hidden\">\r\n                  {\"Click \"}\r\n                  <a\r\n                    href=\"https://github.com/nicolasgasco\"\r\n                    target=\"blank\"\r\n                    className=\"cursor-pointer underline\"\r\n                  >\r\n                    here\r\n                  </a>\r\n                  {\" for my Github!\"}\r\n                </span>\r\n                <span className=\"hidden md:inline\">\r\n                  {\"Click \"}\r\n                  <a\r\n                    href=\"https://github.com/nicolasgasco\"\r\n                    target=\"blank\"\r\n                    className=\"cursor-pointer underline\"\r\n                  >\r\n                    here\r\n                  </a>\r\n                  {\" to see my Github!\"}\r\n                </span>\r\n              </p>\r\n            </div>\r\n            <div className=\"order-2 flex-shrink-0 sm:order-3 sm:ml-3\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  setShow(false);\r\n                }}\r\n                className=\"-mr-1 flex p-2 rounded-md hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-white sm:-mr-2\"\r\n              >\r\n                <span className=\"sr-only\">Dismiss</span>\r\n                <XIcon className=\"h-5 w-5 text-white\" aria-hidden=\"true\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    return <></>;\r\n  }\r\n};\r\n\r\nconst HeaderBanner = () => {\r\n  return (\r\n    <>\r\n      {ReactDOM.createPortal(\r\n        <BannerContent />,\r\n        document.getElementById(\"overlay-root\")\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HeaderBanner;\r\n","import { Fragment, useContext, useEffect, useRef, useState } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Dialog, Transition } from \"@headlessui/react\";\r\nimport { ExclamationIcon } from \"@heroicons/react/outline\";\r\nimport ModalContext from \"../../store/modal-context\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\nconst ModalContent = () => {\r\n  const { isOpen, modalText, modalBody, toggleModal } =\r\n    useContext(ModalContext);\r\n\r\n  const [open, setOpen] = useState(isOpen);\r\n  const [text, setText] = useState(modalText);\r\n  const [body, setBody] = useState(modalBody);\r\n\r\n  const cancelButtonRef = useRef(null);\r\n\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n\r\n  useEffect(() => {\r\n    setOpen(isOpen);\r\n  }, [isOpen]);\r\n\r\n  useEffect(() => {\r\n    setText(modalText);\r\n  }, [modalText]);\r\n\r\n  useEffect(() => {\r\n    setBody(modalBody);\r\n  }, [modalBody]);\r\n\r\n  const handleModalClose = () => {\r\n    toggleModal();\r\n    // This is necessary to not redirect when changing profile data\r\n    if (localStorage.getItem(\"token\") && location.pathname !== \"/profile\") {\r\n      history.push(\"/\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Transition.Root show={open} as={Fragment}>\r\n      <Dialog\r\n        as=\"div\"\r\n        static\r\n        className=\"fixed z-10 inset-0 overflow-y-auto\"\r\n        initialFocus={cancelButtonRef}\r\n        open={open}\r\n        onClose={handleModalClose}\r\n      >\r\n        <div className=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n          <Transition.Child\r\n            as={Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <Dialog.Overlay className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" />\r\n          </Transition.Child>\r\n\r\n          {/* This element is to trick the browser into centering the modal contents. */}\r\n          <span\r\n            className=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\r\n            aria-hidden=\"true\"\r\n          >\r\n            &#8203;\r\n          </span>\r\n          <Transition.Child\r\n            as={Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\r\n            enterTo=\"opacity-100 translate-y-0 sm:scale-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100 translate-y-0 sm:scale-100\"\r\n            leaveTo=\"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95\"\r\n          >\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-8/12 sm:max-w-lg sm:w-full\">\r\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n                <div className=\"sm:flex sm:items-start\">\r\n                  <div className=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-yellow-100 sm:mx-0 sm:h-10 sm:w-10\">\r\n                    <ExclamationIcon\r\n                      className=\"h-6 w-6 text-yellow-600\"\r\n                      aria-hidden=\"true\"\r\n                    />\r\n                  </div>\r\n                  <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                    <Dialog.Title\r\n                      as=\"h3\"\r\n                      className=\"text-lg leading-6 font-medium text-gray-900\"\r\n                    >\r\n                      {text}\r\n                    </Dialog.Title>\r\n                    {modalBody && (\r\n                      <ul className=\"mt-2\">\r\n                        {body.map((message) => {\r\n                          return (\r\n                            <li className=\"ml-5 text-left list-disc text-sm text-gray-500\">\r\n                              {/* This is to make the message more beautiful */}\r\n                              <p>{message.replaceAll(\".\", \",\")}</p>\r\n                            </li>\r\n                          );\r\n                        })}\r\n                      </ul>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-yellow-600 text-base font-medium text-white hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 sm:ml-3 sm:w-auto sm:text-sm\"\r\n                  onClick={handleModalClose}\r\n                >\r\n                  Ok\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\r\n                  onClick={handleModalClose}\r\n                  ref={cancelButtonRef}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </Transition.Child>\r\n        </div>\r\n      </Dialog>\r\n    </Transition.Root>\r\n  );\r\n};\r\n\r\nconst MainModal = () => {\r\n  return (\r\n    <>\r\n      {ReactDOM.createPortal(\r\n        <ModalContent />,\r\n        document.getElementById(\"overlay-root\")\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainModal;\r\n","import BaobabLogo from \"../../assets/img/baobab.svg\";\r\nimport classes from \"./Footer.module.scss\";\r\n\r\nconst IndexPage = () => {\r\n  return (\r\n    <>\r\n      <div className=\"bg-gray-200 bg-opacity-60 pb-6 p-0 mt-8 footer-background border-gray-200 border-t-8\">\r\n        <div className=\"mx-auto container pt-20 lg:pt-30 flex flex-col items-center justify-center\">\r\n          <img\r\n            src={BaobabLogo}\r\n            alt=\"Illustration of a baobab\"\r\n            className=\"w-32 h-32\"\r\n          />\r\n          <div className=\"text-black flex flex-col md:items-center f-f-l pt-3\">\r\n            <h1 className=\"text-2xl font-black text-center\">\r\n              Baobab. Shopping. With conscience.\r\n            </h1>\r\n            <div className=\"text-md text-color mb-5 mt-5 f-f-l flex justify-center content-baseline\">\r\n              <p className=\"pr-2\">© Created with </p>\r\n              <div className={classes[\"centered-box\"]}>\r\n                <span\r\n                  className={`${classes[\"heart\"]} ${classes[\"animate-beat\"]}`}\r\n                >\r\n                  💚\r\n                </span>\r\n              </div>{\" \"}\r\n              <p>by Nicolas Gasco</p>\r\n            </div>\r\n            <div className=\"mt-3 mb-10 text-base text-color f-f-l\">\r\n              <ul className=\"text-center md:flex items-center\">\r\n                <li className=\" md:mr-6 cursor-pointer pt-4 lg:py-0\">About</li>\r\n                <li className=\" md:mr-6 cursor-pointer pt-4 lg:py-0\">\r\n                  Features\r\n                </li>\r\n                <li className=\" md:mr-6 cursor-pointer pt-4 lg:py-0\">\r\n                  Careers\r\n                </li>\r\n                <li className=\" md:mr-6 cursor-pointer pt-4 lg:py-0\">Help</li>\r\n                <li className=\"cursor-pointer pt-4 lg:py-0\">Privacy Policy</li>\r\n              </ul>\r\n            </div>\r\n            <div className=\"text-color mb-10 f-f-l text-center text-xs\">\r\n              <p>\r\n                <a\r\n                  href=\"https://storyset.com/work\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Work illustrations by Storyset\r\n                </a>\r\n              </p>\r\n              <p>\r\n                Icons by{\" \"}\r\n                <a\r\n                  href=\"https://www.freepik.com\"\r\n                  title=\"Freepik\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Freepik\r\n                </a>\r\n                {\" and \"}{\" \"}\r\n                <a\r\n                  href=\"https://www.flaticon.com/authors/smashicons\"\r\n                  title=\"Smashicons\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Smashicons\r\n                </a>{\" \"}\r\n                from{\" \"}\r\n                <a\r\n                  href=\"https://www.flaticon.com/\"\r\n                  title=\"Flaticon\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  www.flaticon.com\r\n                </a>\r\n              </p>\r\n              <p>\r\n                <a\r\n                  href=\"https://www.freepik.com/vectors/background\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Background vector created by visnezh from www.freepik.com\r\n                </a>\r\n              </p>\r\n              <a\r\n                href=\"https://www.vecteezy.com/free-vector/nature\"\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                Nature Vectors by Vecteezy\r\n              </a>\r\n              <p>\r\n                <a\r\n                  href=\"https://codepen.io/clairecodes/pen/wyrJMe\"\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                >\r\n                  Pulsing heart by Claire\r\n                </a>\r\n              </p>\r\n            </div>\r\n          </div>\r\n          <div className=\"w-9/12  h-0.5 bg-gray-100 rounded-full\" />\r\n          <div className=\"flex justify-between items-center pt-12\">\r\n            <div className=\"mr-4\">\r\n              <a\r\n                href={\"https://github.com/nicolasgasco\"}\r\n                target={\"_blank\"}\r\n                rel=\"noreferrer\"\r\n              >\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"50\"\r\n                  height=\"50\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" />\r\n                </svg>\r\n              </a>\r\n            </div>\r\n            <div>\r\n              <a\r\n                href={\"https://www.linkedin.com/in/nicolasgasco/\"}\r\n                target={\"_blank\"}\r\n                rel=\"noreferrer\"\r\n              >\r\n                <img\r\n                  src={\r\n                    \"https://res.cloudinary.com/ngasco/image/upload/v1624048194/bonsai_background/linkedin_toeevg.svg\"\r\n                  }\r\n                  alt={\"LinkedIn logo\"}\r\n                  className=\"w-12\"\r\n                />\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IndexPage;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport classes from \"./DottedDropdown.module.css\";\r\nconst DottedDropdown = ({\r\n  items,\r\n  handleDepartmentFilter,\r\n  departmentFilter,\r\n}) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    handleDepartmentFilter({ name: \"all\" });\r\n  }, [handleDepartmentFilter]);\r\n\r\n  const capitalizeWord = (word) => {\r\n    return word.charAt(0).toUpperCase() + word.slice(1);\r\n  };\r\n\r\n  const handleMenuItem = (item) => {\r\n    // Send filter to main content\r\n    handleDepartmentFilter(item);\r\n    setShow(false);\r\n  };\r\n\r\n  const showItems = items.map((item) => {\r\n    return (\r\n      <li\r\n        key={`menu-item-${item._id}`}\r\n        onClick={() => handleMenuItem(item)}\r\n        className={`cursor-pointer text-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 text-sm leading-3 tracking-normal py-3 hover:bg-green-100 px-3 font-normal ${\r\n          departmentFilter.name === item.name && classes[\"active-item\"]\r\n        }`}\r\n      >\r\n        {capitalizeWord(item.name)}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"mx-auto\">\r\n      <div className=\"container flex justify-center mx-auto\">\r\n        <div className=\"\">\r\n          {/* Code block starts */}\r\n          <div className=\"relative z-10\">\r\n            <div\r\n              className=\"cursor-pointer text-gray-600 dark:text-gray-400\"\r\n              onClick={() => setShow(!show)}\r\n            >\r\n              {departmentFilter ? (\r\n                <h4 className=\"text-sm px-2 font-bold\">\r\n                  {capitalizeWord(departmentFilter.name || \"all\")}\r\n                </h4>\r\n              ) : (\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  className=\"icon icon-tabler icon-tabler-dots\"\r\n                  width={30}\r\n                  height={30}\r\n                  viewBox=\"0 0 24 24\"\r\n                  strokeWidth=\"1.5\"\r\n                  stroke=\"currentColor\"\r\n                  fill=\"none\"\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                >\r\n                  <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\r\n                  <circle cx={5} cy={12} r={1} />\r\n                  <circle cx={12} cy={12} r={1} />\r\n                  <circle cx={19} cy={12} r={1} />\r\n                </svg>\r\n              )}\r\n            </div>\r\n            {show && (\r\n              <ul className=\"mt-2 visible transition duration-300 opacity-100 bg-white dark:bg-gray-800 shadow rounded py-1 w-48 absolute\">\r\n                <li\r\n                  key={`all`}\r\n                  onClick={() => handleMenuItem({ name: \"all\" })}\r\n                  className={`cursor-pointer rounded text-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 text-sm leading-3 tracking-normal py-3 font-bold hover:bg-gray-100 px-3  ${\r\n                    departmentFilter.name === \"all\" && classes[\"active-item\"]\r\n                  }`}\r\n                >\r\n                  All\r\n                </li>\r\n                {showItems}\r\n              </ul>\r\n            )}\r\n          </div>\r\n          {/* Code block ends */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default DottedDropdown;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport useHttp from \"../../hooks/use-http\";\r\nimport DottedDropdown from \"../UI/DottedDropdown\";\r\nimport classes from \"./StoreSearchbar.module.css\";\r\n\r\nconst StoreSearchbar = ({\r\n  onGetSearchbarInput,\r\n  handleActivePage,\r\n  handleDepartmentFilter,\r\n  handleSortingFilter,\r\n  departmentFilter,\r\n  activePage,\r\n}) => {\r\n  const searchbarInputRef = useRef();\r\n\r\n  const [menuItems, setMenuItems] = useState([]);\r\n\r\n  // Custom hook per HTTP requests\r\n  const { sendRequest: fetchDepartments } = useHttp();\r\n\r\n  // Fetch departments when rendering product card\r\n  useEffect(() => {\r\n    const modifyFetchedDepartments = (res) => {\r\n      setMenuItems(res.results);\r\n    };\r\n    fetchDepartments({ url: \"api/departments\" }, modifyFetchedDepartments);\r\n    // Works better without dependencies\r\n  }, [fetchDepartments]);\r\n\r\n  const handleSubmitSearchbar = (event) => {\r\n    event.preventDefault();\r\n    const currentSearchbarInput = searchbarInputRef.current.value.trim();\r\n    handleSortingFilter(\"\");\r\n\r\n    onGetSearchbarInput(currentSearchbarInput);\r\n    handleActivePage(1);\r\n  };\r\n\r\n  useEffect(() => {\r\n    onGetSearchbarInput(searchbarInputRef.current.value.trim());\r\n    // this works better without function as argument\r\n  }, [activePage]);\r\n\r\n  return (\r\n    <form\r\n      onSubmit={handleSubmitSearchbar}\r\n      className=\"bg-white bg-opacity-100 w-11/12 lg:w-1/2 mt-4 pl-2 max-w-full mx-auto flex items-center rounded-full shadow-xl\"\r\n    >\r\n      <div className=\"p-2 bg-gray-300 text-white rounded-full hover:bg-green-400 focus:outline-none w-20 h-10\">\r\n        <DottedDropdown\r\n          items={menuItems}\r\n          departmentFilter={departmentFilter}\r\n          handleDepartmentFilter={handleDepartmentFilter}\r\n        />\r\n      </div>\r\n      <input\r\n        className=\"rounded-l-full bg-transparent w-full py-4 px-6 text-gray-700 placeholder-gray-700 text-center leading-tight focus:outline-none tracking-wider text-lg\"\r\n        id=\"search\"\r\n        type=\"text\"\r\n        placeholder=\"Search...\"\r\n        ref={searchbarInputRef}\r\n      />\r\n\r\n      <div className=\"p-2\">\r\n        <button\r\n          className={`${classes[\"search-button\"]} bg-green-500 text-white rounded-full p-2 hover:bg-green-400 focus:outline-none w-10 h-10 flex items-center justify-center`}\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default React.memo(StoreSearchbar);\r\n","import {\r\n  HeartIcon,\r\n  GlobeIcon,\r\n  LightningBoltIcon,\r\n  ScaleIcon,\r\n} from \"@heroicons/react/outline\";\r\n\r\nconst features = [\r\n  {\r\n    name: \"Conscious products\",\r\n    description:\r\n      \"Our products out hand-picked among the best companies offering the best environmentally and socially products on the market.\",\r\n    icon: ScaleIcon,\r\n  },\r\n  {\r\n    name: \"Carbon offset\",\r\n    description:\r\n      \"For every order we receive, we offset 50% of the carbon footprint. You can choose to add the remaining 50%.\",\r\n    icon: GlobeIcon,\r\n  },\r\n  {\r\n    name: \"Fast and sustainable shipping\",\r\n    description:\r\n      \"We partner with sustainable shipping companies to provide a shipping service which is both good for the environment and as fast a lightning\",\r\n    icon: LightningBoltIcon,\r\n  },\r\n  {\r\n    name: \"Ethical employer\",\r\n    description:\r\n      \"All our workers enjoy the best working conditions we can possibly offer them, both in the offices and warehouses.\",\r\n    icon: HeartIcon,\r\n  },\r\n];\r\n\r\nexport default function Example() {\r\n  return (\r\n    <>\r\n      <div className=\"lg:text-center\">\r\n        <h2 className=\"text-base text-green-600 font-bold tracking-wide uppercase\">\r\n          Green, convenient, sustainable\r\n        </h2>\r\n        <h1 className=\"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl\">\r\n          Start shopping on Baobab\r\n        </h1>\r\n        <p className=\"mt-4 max-w-2xl text-xl text-gray-500 lg:mx-auto\"></p>\r\n      </div>\r\n      <div className=\"mt-10\">\r\n        <dl className=\"space-y-10 md:space-y-0 md:grid md:grid-cols-2 md:gap-x-8 md:gap-y-10\">\r\n          {features.map((feature) => (\r\n            <div key={feature.name} className=\"relative\">\r\n              <dt>\r\n                <div className=\"absolute flex items-center justify-center h-12 w-12 rounded-md bg-yellow-500 text-white\">\r\n                  <feature.icon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n                </div>\r\n                <p className=\"ml-16 text-lg leading-6 font-medium text-gray-900\">\r\n                  {feature.name}\r\n                </p>\r\n              </dt>\r\n              <dd className=\"mt-2 ml-16 text-base text-gray-500\">\r\n                {feature.description}\r\n              </dd>\r\n            </div>\r\n          ))}\r\n        </dl>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","const BoxWrapper = (props) => {\r\n  return (\r\n    <section className=\"flex justify-center\">\r\n      <div\r\n        className={`w-full md:w-10/12 sm:max-w-2xl md:max-w-7xl xl:max-w-6xl py-6 md:py-12 px-3 lg:px-12 my-8 mx-2 md:mx-10 lg:mx-36  rounded-xl shadow-xl bg-white min-h-full\" +\r\n    ${props.className}`}\r\n      >\r\n        {props.children}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\nexport default BoxWrapper;\r\n","export default __webpack_public_path__ + \"static/media/Spinner-5.e9202c75.gif\";","import ReactDOM from \"react-dom\";\r\nimport classes from \"./PictureOverlay.module.scss\";\r\n\r\nconst OverlayContent = ({ src, alt, handleClosePicture }) => {\r\n  return (\r\n    <div>\r\n      <div\r\n        className=\"py-12 bg-gray-600 bg-opacity-70 transition duration-150 ease-in-out fixed top-0 right-0 bottom-0 left-0 z-20\"\r\n        id=\"modal\"\r\n        onClick={handleClosePicture}\r\n      ></div>\r\n      <div role=\"alert\" className=\"mx-auto\">\r\n        <div\r\n          className={`${classes[\"centered-div\"]} container z-40 absolute py-10 px-1 sm:px-5 md:px-10 bg-white shadow-md rounded border border-gray-400  w-11/12 md:w-8/12 lg:w-6/12 xl:w-5/12 2xl:w-4/12`}\r\n        >\r\n          {/* X symbol */}\r\n          <div className=\"cursor-pointer absolute top-0 right-0 mt-4 mr-5 text-gray-400 hover:text-gray-600 transition duration-150 ease-in-out\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              aria-label=\"Close\"\r\n              className=\"icon icon-tabler icon-tabler-x\"\r\n              width={20}\r\n              height={20}\r\n              viewBox=\"0 0 24 24\"\r\n              strokeWidth=\"2.5\"\r\n              stroke=\"currentColor\"\r\n              fill=\"none\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              onClick={handleClosePicture}\r\n            >\r\n              <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\r\n              <line x1={18} y1={6} x2={6} y2={18} />\r\n              <line x1={6} y1={6} x2={18} y2={18} />\r\n            </svg>\r\n          </div>\r\n          <img\r\n            src={src}\r\n            alt={alt}\r\n            className=\"mx-auto shadow-md rounded-lg\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst PictureOverlay = (props) => {\r\n  return (\r\n    <>\r\n      {ReactDOM.createPortal(\r\n        <OverlayContent\r\n          alt={props.alt}\r\n          src={props.src}\r\n          handleClosePicture={props.handleClosePicture}\r\n        />,\r\n        document.getElementById(\"overlay-root\")\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PictureOverlay;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  CarouselProvider,\r\n  Slider,\r\n  Slide,\r\n  ButtonBack,\r\n  ButtonNext,\r\n} from \"pure-react-carousel\";\r\nimport \"pure-react-carousel/dist/react-carousel.es.css\";\r\nimport { ShoppingCartIcon } from \"@heroicons/react/outline\";\r\n\r\nimport Spinner from \"../../../assets/img/Spinner-5.gif\";\r\nimport LoadingOverlay from \"../../UI/LoadingOverlay\";\r\nimport PictureOverlay from \"./PictureOverlay\";\r\n\r\nimport CartContext from \"../../../store/cart-context\";\r\nimport useHttp from \"../../../hooks/use-http\";\r\nimport RatingSystem from \"../../UI/RatingSystem\";\r\n\r\nconst ProductCardSlideshow = ({ product, picturesLoading, classes }) => {\r\n  const { addItemToCart } = useContext(CartContext);\r\n  const [starRating, setStarRating] = useState(0);\r\n  const [overlayData, setOverlayData] = useState({});\r\n  const [overlayOpen, setOverlayOpen] = useState(false);\r\n\r\n  // Get product rating\r\n  useEffect(() => {\r\n    if (product.ratingInfo.starRating) {\r\n      setStarRating(product.ratingInfo.starRating);\r\n    }\r\n  }, [product.ratingInfo.starRating]);\r\n\r\n  // Custom hook per HTTP requests\r\n  const { isLoading, setIsLoading } = useHttp();\r\n\r\n  const handleAddToCart = (id) => {\r\n    setIsLoading(true);\r\n    addItemToCart(id);\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const handleOpenPicture = (imgData) => {\r\n    setOverlayData({ src: imgData.src, alt: imgData.alt });\r\n    setOverlayOpen(true);\r\n  };\r\n\r\n  const handleClosePicture = () => {\r\n    setOverlayOpen(false);\r\n  };\r\n\r\n  let showPictures;\r\n  if (product) {\r\n    showPictures = product.pictures.map((picture, index) => {\r\n      if (picturesLoading) {\r\n        return (\r\n          <img\r\n            src={Spinner}\r\n            alt=\"Loading animation\"\r\n            className=\"w-1/3 mx-auto p-5 object-cover object-center rounded-lg z-0\"\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <Slide\r\n            key={index + 1}\r\n            className=\"flex items-center justify-center\"\r\n            index={index + 1}\r\n          >\r\n            <img\r\n              onClick={(e) => handleOpenPicture(e.target)}\r\n              src={picture.url}\r\n              alt={picture.alt}\r\n              className=\"mx-auto h-52 w-52 object-cover object-center z-0\"\r\n            />\r\n          </Slide>\r\n        );\r\n      }\r\n    });\r\n  }\r\n  return (\r\n    <>\r\n      {isLoading && <LoadingOverlay />}\r\n      {overlayOpen && (\r\n        <PictureOverlay\r\n          src={overlayData.src}\r\n          alt={overlayData.alt}\r\n          handleClosePicture={handleClosePicture}\r\n          showPictures={showPictures}\r\n        />\r\n      )}\r\n      <div\r\n        key={`product-${product._id}`}\r\n        className={`pb-10 md:px-4 w-full md:w-1/2 xl:w-1/3 max-w-sm px-2 h-full ${classes}`}\r\n      >\r\n        <div className=\"shadow-lg rounded-3xl z-0 \">\r\n          <div\r\n            className=\"rounded-t-3xl bg-white px-2\r\n           py-4\"\r\n          >\r\n            <CarouselProvider\r\n              naturalSlideWidth={50}\r\n              naturalSlideHeight={125}\r\n              totalSlides={product ? product.pictures.length : 0}\r\n              isIntrinsicHeight={true}\r\n              infinite={true}\r\n              className=\"flex items-center justify-between w-full\"\r\n            >\r\n              <ButtonBack\r\n                className={`${\r\n                  product.pictures.length <= 1 && \"invisible\"\r\n                } focus:outline-none cursor-pointer`}\r\n              >\r\n                <div\r\n                  className=\"bg-yellow-200 w-5 h-5 mr-2 rounded-full flex items-center cursor-pointer justify-center\"\r\n                  id=\"prev2\"\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"icon icon-tabler icon-tabler-chevron-left\"\r\n                    width={20}\r\n                    height={20}\r\n                    viewBox=\"0 0 24 24\"\r\n                    strokeWidth=\"1.5\"\r\n                    stroke=\"#1F2937\"\r\n                    fill=\"none\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                    <polyline points=\"15 6 9 12 15 18\" />\r\n                  </svg>\r\n                </div>\r\n              </ButtonBack>\r\n              <Slider className=\"shadow-md h-52 w-52 rounded-lg\">\r\n                {showPictures}\r\n              </Slider>\r\n              <ButtonNext\r\n                className={`${\r\n                  product.pictures.length <= 1 && \"invisible\"\r\n                } focus:outline-none cursor-pointer`}\r\n              >\r\n                <div\r\n                  className=\"bg-yellow-200 w-5 h-5 ml-2 rounded-full flex items-center cursor-pointer justify-center\"\r\n                  id=\"next2\"\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"icon icon-tabler icon-tabler-chevron-right\"\r\n                    width={20}\r\n                    height={20}\r\n                    viewBox=\"0 0 24 24\"\r\n                    strokeWidth=\"1.5\"\r\n                    stroke=\"#1F2937\"\r\n                    fill=\"none\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n                    <polyline points=\"9 6 15 12 9 18\" />\r\n                  </svg>\r\n                </div>\r\n              </ButtonNext>\r\n            </CarouselProvider>\r\n          </div>\r\n          <div className=\"border-t p-6 bg-green-200 dark:bg-gray-800 rounded-b-3xl\">\r\n            <div className=\"\">\r\n              <span className=\"bg-teal-200 text-teal-800 text-xs px-2 inline-block rounded-full  uppercase font-semibold tracking-wide\">\r\n                {product.department.name}\r\n              </span>\r\n            </div>\r\n            <div className=\"\">\r\n              <h3 className=\"mt-2 text-xl font-semibold leading-tight mb-2\">\r\n                {`${product.completeName.brand} ${product.completeName.productName}, ${product.completeName.shortDesc}, ${product.completeName.productDesc1}, ${product.completeName.productDesc2}, ${product.completeName.productDesc3}, ${product.completeName.color}`}\r\n              </h3>\r\n            </div>\r\n            <div className=\"flex items-center pt-3\">\r\n              <RatingSystem\r\n                notInteractive={true}\r\n                ratingValue={product.ratingInfo.starRating}\r\n              />\r\n              <p\r\n                className={`ml-2 text-base font-medium leading-4 ${\r\n                  starRating > 0 ? \"text-yellow-600\" : \"text-gray-500\"\r\n                }`}\r\n              >\r\n                {starRating > 0\r\n                  ? `${starRating} ${starRating === 1 ? \"star\" : \"stars\"}`\r\n                  : \"No ratings yet\"}\r\n              </p>\r\n            </div>\r\n            <div className=\"mt-2 text-3xl\">\r\n              {Number.parseInt(product.pricingInfo.price)}\r\n              {\".\"}\r\n              {\r\n                <span className=\"text-xl\">\r\n                  {(\r\n                    (product.pricingInfo.price -\r\n                      Math.floor(product.pricingInfo.price)) *\r\n                    100\r\n                  )\r\n                    .toFixed(0)\r\n                    .toString()\r\n                    .padStart(2, \"0\")}\r\n                </span>\r\n              }\r\n              <p className=\"inline text-2xl\"> €</p>\r\n            </div>\r\n            <div className=\"mt-4\">\r\n              <span className=\"text-teal-600 text-md font-semibold\">FROM:</span>\r\n              <span className=\"text-sm text-gray-600\">\r\n                {` ${product.ecoInfo.originCountryCode}`}\r\n              </span>\r\n            </div>\r\n            <div className=\"mt-1\">\r\n              <span className=\"text-teal-600 text-md font-semibold uppercase\">\r\n                Made in:\r\n              </span>\r\n              <span className=\"text-sm text-gray-600\">\r\n                {` ${product.ecoInfo.productionCountryCode}`}\r\n              </span>\r\n            </div>\r\n            <div className=\"mt-4 rounded-md\">\r\n              <span className=\"text-teal-600 text-md font-semibold uppercase\">\r\n                Social:\r\n              </span>\r\n              <span className=\"text-sm text-gray-600\">\r\n                {` ${product.ecoInfo.socialMission}`}\r\n              </span>\r\n            </div>\r\n            <div className=\"mt-4 rounded-md\">\r\n              <span className=\"text-teal-600 text-md font-semibold uppercase\">\r\n                Environment:\r\n              </span>\r\n              <span className=\"text-sm text-gray-600\">\r\n                {` ${product.ecoInfo.environmentMission}`}\r\n              </span>\r\n            </div>\r\n            <div\r\n              onClick={() => {\r\n                handleAddToCart(product);\r\n              }}\r\n              value={product._id}\r\n              className={`flex justify-end`}\r\n            >\r\n              <button className=\"text-green-700 bg-transparent ring-green-700 ring-2 dark:text-gray-100 dark:bg-indigo-700 border px-8 py-2 text-sm font-medium leading-3 rounded focus:outline-none mt-5 hover:opacity-50\">\r\n                <span className=\"sr-only\">View shopping cart</span>\r\n                <ShoppingCartIcon className=\"h-6 w-6\" aria-hidden=\"true\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductCardSlideshow;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ProductCardSlideshow from \"../Results/ProductCardSlideshow\";\r\n\r\nimport useHttp from \"../../../hooks/use-http\";\r\n\r\nconst ProductsSectionCard = () => {\r\n  const [products, setProducts] = useState([\"\", \"\", \"\"]);\r\n  const [picturesLoading, setPicturesLoading] = useState(false);\r\n\r\n  const { sendRequest: fetchLatestProducts } = useHttp();\r\n\r\n  useEffect(() => {\r\n    const handleError = (err) => {\r\n      setPicturesLoading(false);\r\n    };\r\n    // Fetching latest three results\r\n    const handleFetchedProducts = (result) => {\r\n      if (result.resultsFound !== 3) {\r\n        throw new Error(\"Found less than three results\");\r\n      }\r\n      setProducts(result.results);\r\n      setPicturesLoading(false);\r\n    };\r\n    setPicturesLoading(true);\r\n    fetchLatestProducts(\r\n      {\r\n        url: \"/api/products/?pageSize=3&pageNum=1&sortBy=creationDate&order=-1\",\r\n      },\r\n      handleFetchedProducts,\r\n      handleError\r\n    );\r\n  }, [fetchLatestProducts]);\r\n\r\n  const showCards = products.map((product, index) => {\r\n    if (index < 3) {\r\n      return (\r\n        product && (\r\n          <ProductCardSlideshow\r\n            picturesLoading={picturesLoading}\r\n            key={`product-${index + 1}`}\r\n            product={product}\r\n            // Showing only 2 elements if three don't fit\r\n            classes={index === 2 ? `hidden xl:flex` : \"\"}\r\n          />\r\n        )\r\n      );\r\n    }\r\n    return null;\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"-mt-4 mb-8 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl text-center\">\r\n        Our latest arrivals\r\n      </h2>\r\n      <div className=\"h-full flex flex-wrap justify-center items-stretch\">\r\n        {showCards}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ProductsSectionCard;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst PageCounter = ({ paginationData, className, handlePageChange }) => {\r\n  const [paginationButtons, setPaginationButtons] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setPaginationButtons([]);\r\n    let start;\r\n    let end;\r\n\r\n    // Middle normal case\r\n    if (\r\n      paginationData.pageNumber > 3 &&\r\n      paginationData.pageNumber < paginationData.totalPages - 1\r\n    ) {\r\n      start = paginationData.pageNumber - 3;\r\n      end = paginationData.pageNumber + 2;\r\n    } else if (paginationData.pageNumber <= 3) {\r\n      start = 0;\r\n      end = 5;\r\n    } else {\r\n      start = paginationData.totalPages - 5;\r\n      end = paginationData.totalPages;\r\n    }\r\n\r\n    for (let i = start; i < end; i++) {\r\n      setPaginationButtons((prevState) => {\r\n        return [\r\n          ...prevState,\r\n          <li>\r\n            <button\r\n              onClick={handlePageChange}\r\n              key={`button-${i + 1}`}\r\n              value={i + 1}\r\n              className={`focus:outline-none first:ml-0 text-xs fo\r\n              t-semibold flex w-8 h-8 mx-1 p-0 rounded-full items-center justify-center leading-tight relative border border-solid border-green-500 bg-white text-green-500 ${\r\n                paginationData.pageNumber && paginationData.pageNumber === i + 1\r\n                  ? \"bg-green-200\"\r\n                  : \"bg-white\"\r\n              }`}\r\n            >\r\n              {i + 1}\r\n            </button>\r\n          </li>,\r\n        ];\r\n      });\r\n    }\r\n  }, [paginationData.totalPages, paginationData.pageNumber, handlePageChange]);\r\n\r\n  return (\r\n    <div className={`py-2 ${className}`}>\r\n      <nav className=\"block\">\r\n        <ul className=\"flex pl-0 rounded list-none\">{paginationButtons}</ul>\r\n      </nav>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(PageCounter);\r\n","import React, { useState } from \"react\";\r\n\r\nconst SimpleDropdown = ({\r\n  heading,\r\n  fields,\r\n  handleResultsPerPage,\r\n  className,\r\n}) => {\r\n  const [show, setShow] = useState(false);\r\n\r\n  const showFields = fields.map((field) => {\r\n    return (\r\n      <li\r\n        onClick={(event) => {\r\n          setShow(false);\r\n          handleResultsPerPage(event.target.value);\r\n        }}\r\n        key={`${field}-hits`}\r\n        value={field}\r\n        className=\"cursor-pointer text-gray-600 dark:text-gray-400 dark:hover:bg-gray-700 text-sm leading-3 tracking-normal py-3 hover:bg-green-100 px-3 font-normal\"\r\n      >\r\n        {field}\r\n      </li>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className={`${className}`}>\r\n      <div className=\"container flex justify-center mx-auto py-2\">\r\n        <div className=\" mb-2\">\r\n          {/* Code block starts */}\r\n          <div className=\"relative\" onSubmit={handleResultsPerPage}>\r\n            <div\r\n              className=\"bg-white dark:bg-gray-800 flex items-center justify-between border rounded border-gray-300 dark:border-gray-700 w-40 cursor-pointer\"\r\n              onClick={() => setShow(!show)}\r\n            >\r\n              <p className=\"pl-3 py-3 text-gray-600 dark:text-gray-400 text-xs leading-3 tracking-normal font-normal\">\r\n                {heading}\r\n              </p>\r\n              <div className=\"cursor-pointer text-gray-600 dark:text-gray-400 mr-3\">\r\n                {show ? (\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\" icon icon-tabler icon-tabler-chevron-up\"\r\n                    width={20}\r\n                    height={20}\r\n                    viewBox=\"0 0 24 24\"\r\n                    strokeWidth=\"1.5\"\r\n                    stroke=\"currentColor\"\r\n                    fill=\"none\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\r\n                    <polyline points=\"6 9 12 15 18 9\" />\r\n                  </svg>\r\n                ) : (\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    className=\"icon icon-tabler icon-tabler-chevron-up\"\r\n                    width={20}\r\n                    height={20}\r\n                    viewBox=\"0 0 24 24\"\r\n                    strokeWidth=\"1.5\"\r\n                    stroke=\"currentColor\"\r\n                    fill=\"none\"\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                  >\r\n                    <path stroke=\"none\" d=\"M0 0h24v24H0z\" />\r\n                    <polyline points=\"6 15 12 9 18 15\" />\r\n                  </svg>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {show && (\r\n              <ul className=\"visible transition duration-300 opacity-100 bg-white dark:bg-gray-800 shadow rounded mt-2 w-48 py-1 absolute\">\r\n                {showFields}\r\n              </ul>\r\n            )}\r\n          </div>\r\n          {/* Code block ends */}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default React.memo(SimpleDropdown);\r\n","import { Fragment, useState } from \"react\";\r\nimport { Menu, Transition } from \"@headlessui/react\";\r\nimport { ChevronDownIcon } from \"@heroicons/react/solid\";\r\n\r\nfunction classNames(...classes) {\r\n  return classes.filter(Boolean).join(\" \");\r\n}\r\nconst SectionedDropdown = ({ handleSortingFilter }) => {\r\n  const [dropdownItems, setDropdownItems] = useState([\r\n    [\r\n      { title: \"Price ascending\", value: \"pricingInfo.price\" },\r\n      { title: \"Price descending\", value: \"-pricingInfo.price\" },\r\n    ],\r\n    [\r\n      { title: \"Newest first\", value: \"-creationDate\" },\r\n      { title: \"Oldest first\", value: \"creationDate\" },\r\n    ],\r\n  ]);\r\n  const [currentItem, setCurrentItem] = useState(\"\");\r\n\r\n  const showItems = dropdownItems.map(([item1, item2], index) => {\r\n    return (\r\n      <div className=\"py-1\" key={`div-${index + 1}`}>\r\n        <Menu.Item key={`div-${index + 1}-a`}>\r\n          {({ active }) => (\r\n            <button\r\n              onClick={function () {\r\n                handleSortingFilter(this.value);\r\n                setCurrentItem(item1.title);\r\n              }}\r\n              value={item1.value}\r\n              className={classNames(\r\n                active ? \"bg-green-100 text-gray-900\" : \"text-gray-700\",\r\n                \"block w-full px-4 py-2 text-sm text-right\"\r\n              )}\r\n            >\r\n              {item1.title}\r\n            </button>\r\n          )}\r\n        </Menu.Item>\r\n        <Menu.Item key={`div-${index + 1}-b`}>\r\n          {({ active }) => (\r\n            <button\r\n              onClick={function () {\r\n                handleSortingFilter(this.value);\r\n                setCurrentItem(item2.title);\r\n              }}\r\n              value={item2.value}\r\n              className={classNames(\r\n                active ? \"bg-green-100 text-gray-900\" : \"text-gray-700\",\r\n                \"block w-full px-4 py-2 text-sm text-right\"\r\n              )}\r\n            >\r\n              {item2.title}\r\n            </button>\r\n          )}\r\n        </Menu.Item>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <Menu as=\"div\" className=\"relative inline-block text-left z-10\">\r\n      {({ open }) => (\r\n        <>\r\n          <div>\r\n            <Menu.Button className=\"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-green-500\">\r\n              {\"Sort by\"}\r\n              <ChevronDownIcon\r\n                className=\"-mr-1 ml-2 h-5 w-5\"\r\n                aria-hidden=\"true\"\r\n              />\r\n            </Menu.Button>\r\n          </div>\r\n\r\n          <Transition\r\n            show={open}\r\n            as={Fragment}\r\n            enter=\"transition ease-out duration-100\"\r\n            enterFrom=\"transform opacity-0 scale-95\"\r\n            enterTo=\"transform opacity-100 scale-100\"\r\n            leave=\"transition ease-in duration-75\"\r\n            leaveFrom=\"transform opacity-100 scale-100\"\r\n            leaveTo=\"transform opacity-0 scale-95\"\r\n          >\r\n            <Menu.Items\r\n              static\r\n              className=\"origin-top-right absolute right-0 mt-2 w-40 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none\"\r\n            >\r\n              {showItems}\r\n            </Menu.Items>\r\n          </Transition>\r\n        </>\r\n      )}\r\n    </Menu>\r\n  );\r\n};\r\n\r\nexport default SectionedDropdown;\r\n","import React from \"react\";\r\nimport NothingFound from \"../components/MainContent/Results/NothingFound\";\r\nimport PageCounter from \"../components/MainContent/Results/PageCounter\";\r\nimport SimpleDropdown from \"../components/UI/SimpleDropdown\";\r\nimport LoadingOverlay from \"../components/UI/LoadingOverlay\";\r\nimport ProductCardSlideshow from \"../components/MainContent/Results/ProductCardSlideshow\";\r\nimport SectionedDropdown from \"../components/UI/SectionedDropdown\";\r\n\r\nconst ResultsBox = ({\r\n  fetchedProducts,\r\n  picturesLoading,\r\n  isEmpty,\r\n  contentLoading,\r\n  handleResultsPerPage,\r\n  paginationData,\r\n  handlePageChange,\r\n  handleSortingFilter,\r\n}) => {\r\n  const showProducts = fetchedProducts.map((product) => {\r\n    return (\r\n      <ProductCardSlideshow\r\n        key={`product-${product._id}`}\r\n        product={product}\r\n        picturesLoading={picturesLoading}\r\n      />\r\n    );\r\n  });\r\n\r\n  const resultsPerPageDropdown = [\"3\", \"6\", \"24\", \"60\"];\r\n  return (\r\n    <>\r\n      {isEmpty ? (\r\n        <NothingFound />\r\n      ) : (\r\n        <>\r\n          {contentLoading && <LoadingOverlay />}\r\n          <div className=\"flex justify-end align-center items-baseline mr-4 mb-4\">\r\n            <span className=\"sr-only\">Sort by:</span>\r\n            <SectionedDropdown handleSortingFilter={handleSortingFilter} />\r\n          </div>\r\n          <div className=\"flex flex-wrap justify-center\">{showProducts}</div>\r\n          <div className=\"flex-column justify-center\">\r\n            <PageCounter\r\n              paginationData={paginationData}\r\n              className=\"flex-row justify-center mx-auto w-min md:absolute md:m-auto md:left-0 md:right-0\"\r\n              handlePageChange={handlePageChange}\r\n            />\r\n            <SimpleDropdown\r\n              heading=\"Results per page\"\r\n              className=\"md:w-min md:ml-auto\"\r\n              fields={resultsPerPageDropdown}\r\n              handleResultsPerPage={handleResultsPerPage}\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ResultsBox;\r\n","import React, {\r\n  useEffect,\r\n  useReducer,\r\n  useCallback,\r\n  useContext,\r\n  Suspense,\r\n} from \"react\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\n\r\n// Components\r\nimport StoreSearchbar from \"./StoreSearchbar\";\r\nimport HeroMain from \"./LandingPage/HeroMain\";\r\nimport BoxWrapper from \"../UI/BoxWrapper\";\r\nimport ProductsSectionCard from \"./LandingPage/ProductsSectionCard\";\r\nimport LoadingOverlay from \"../UI/LoadingOverlay\";\r\nimport ResultsBox from \"../../pages/ResultsBox\";\r\n\r\n// Auth context for authentication\r\nimport AuthContext from \"../../store/auth-context\";\r\n\r\n// Custom hook for querying APIK\r\nimport useHttp from \"../../hooks/use-http\";\r\n\r\nconst ProfilePage = React.lazy(() => import(\"../../pages/ProfilePage\"));\r\nconst PasswordChange = React.lazy(() => import(\"../../pages/PasswordChange\"));\r\nconst ShoppingCart = React.lazy(() => import(\"../../pages/ShoppingCart\"));\r\nconst CheckoutForm = React.lazy(() => import(\"../../pages/CheckoutForm\"));\r\nconst OrderSent = React.lazy(() => import(\"../../pages/OrderSent\"));\r\nconst Orders = React.lazy(() => import(\"../../pages/Orders\"));\r\nconst SignupForm = React.lazy(() => import(\"../../pages/SignupForm\"));\r\nconst Loginform = React.lazy(() => import(\"../../pages/LoginForm\"));\r\n\r\nconst defaultResultsState = {\r\n  showResultsBox: false,\r\n  contentLoading: false,\r\n  picturesLoading: false,\r\n  isEmpty: false,\r\n  activePage: 1,\r\n  paginationData: {},\r\n  searchKeywords: \"\",\r\n  resultsPerPage: 6,\r\n  fetchedProducts: [],\r\n  showAuth: false,\r\n  departmentFilter: { name: \"all\" },\r\n  sortingFilter: \"\",\r\n};\r\n\r\nconst resultsReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"CONTENT_LOADING\":\r\n      return { ...state, contentLoading: action.val };\r\n    case \"PICTURES_LOADING\":\r\n      return { ...state, picturesLoading: action.val };\r\n    case \"IS_EMPTY\":\r\n      return { ...state, isEmpty: action.val };\r\n    case \"ACTIVE_PAGE\":\r\n      return { ...state, activePage: action.val };\r\n    case \"PAGINATION_DATA\":\r\n      return { ...state, paginationData: action.val };\r\n    case \"SEARCH_KEYWORDS\":\r\n      return { ...state, searchKeywords: action.val };\r\n    case \"RESULTS_PAGE\":\r\n      return { ...state, resultsPerPage: action.val };\r\n    case \"FETCHED_PRODUCTS\":\r\n      return { ...state, fetchedProducts: action.val };\r\n    case \"SHOW_AUTH\":\r\n      return { ...state, showAuth: !state };\r\n    case \"DEPARTMENT_FILTER\":\r\n      return { ...state, departmentFilter: action.val };\r\n    case \"SORTING_FILTER\":\r\n      return { ...state, sortingFilter: action.val };\r\n    default:\r\n      return defaultResultsState;\r\n  }\r\n};\r\n\r\nconst MainContent = () => {\r\n  // Reducer for handling form\r\n  const [resultsState, dispatchResults] = useReducer(\r\n    resultsReducer,\r\n    defaultResultsState\r\n  );\r\n\r\n  const { checkLogin } = useContext(AuthContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const { sendRequest: fetchProducts } = useHttp();\r\n\r\n  // Fetching the products by keywords\r\n  const getSearchbarInput = useCallback(\r\n    (input = null) => {\r\n      // Redirect to search to render searchbox\r\n      history.push(\"/search\");\r\n      // dispatchResults({ type: \"SHOW_RESULTS\", val: true });\r\n      dispatchResults({ type: \"CONTENT_LOADING\", val: true });\r\n      dispatchResults({ type: \"PICTURES_LOADING\", val: true });\r\n      dispatchResults({ type: \"IS_EMPTY\", val: false });\r\n      // THis is necessary, otherwise some products just stay stuck there\r\n      dispatchResults({ type: \"FETCHED_PRODUCTS\", val: [] });\r\n      dispatchResults({ type: \"SEARCH_KEYWORDS\", val: input });\r\n\r\n      // Function with logic for when products are fetched\r\n      const handleFetchedProducts = (res) => {\r\n        if (res.results.length === 0) {\r\n          dispatchResults({ type: \"IS_EMPTY\", val: true });\r\n          dispatchResults({ type: \"PICTURES_LOADING\", val: false });\r\n          dispatchResults({ type: \"CONTENT_LOADING\", val: false });\r\n        } else {\r\n          dispatchResults({ type: \"FETCHED_PRODUCTS\", val: res.results });\r\n          dispatchResults({\r\n            type: \"PAGINATION_DATA\",\r\n            val: {\r\n              productsFound: res.productsFound,\r\n              pageNumber: res.pageNumber,\r\n              pageSize: res.pageSize,\r\n              totalProducts: res.totalProducts,\r\n              totalPages: res.totalPages,\r\n            },\r\n          });\r\n          dispatchResults({ type: \"PICTURES_LOADING\", val: false });\r\n          setTimeout(() => {\r\n            dispatchResults({ type: \"CONTENT_LOADING\", val: false });\r\n          }, 1000);\r\n          dispatchResults({ type: \"IS_EMPTY\", val: false });\r\n        }\r\n      };\r\n\r\n      // Function with logic for when an error occurs\r\n      const handleError = () => {\r\n        dispatchResults({ type: \"IS_EMPTY\", val: true });\r\n        dispatchResults({ type: \"PICTURES_LOADING\", val: false });\r\n        dispatchResults({ type: \"CONTENT_LOADING\", val: false });\r\n      };\r\n\r\n      fetchProducts(\r\n        {\r\n          url: `api/products/search/?pageNum=${resultsState.activePage.toString()}&pageSize=${resultsState.resultsPerPage.toString()}${\r\n            resultsState.departmentFilter.name !== \"all\"\r\n              ? `&department=${resultsState.departmentFilter._id || \"\"}`\r\n              : \"\"\r\n          }${\r\n            resultsState.sortingFilter\r\n              ? `&sortBy=${resultsState.sortingFilter}`\r\n              : \"\"\r\n          }`,\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: {\r\n            keywords: input,\r\n          },\r\n        },\r\n        handleFetchedProducts,\r\n        handleError\r\n      );\r\n    },\r\n    [\r\n      resultsState.activePage,\r\n      resultsState.resultsPerPage,\r\n      history,\r\n      fetchProducts,\r\n      resultsState.departmentFilter,\r\n      resultsState.sortingFilter,\r\n    ]\r\n  );\r\n\r\n  const handleActivePage = useCallback(\r\n    (data) => {\r\n      dispatchResults({ type: \"ACTIVE_PAGE\", val: +data });\r\n    },\r\n    [dispatchResults]\r\n  );\r\n\r\n  const handlePageChange = useCallback(\r\n    (event) => {\r\n      handleActivePage(event.target.value);\r\n    },\r\n    [handleActivePage]\r\n  );\r\n\r\n  const handleResultsPerPage = useCallback(\r\n    (value) => {\r\n      if (resultsState.activePage !== 1) {\r\n        dispatchResults({ type: \"ACTIVE_PAGE\", val: 1 });\r\n      }\r\n      dispatchResults({ type: \"RESULTS_PAGE\", val: value });\r\n    },\r\n    [resultsState.activePage]\r\n  );\r\n\r\n  const handleDepartmentFilter = useCallback((value) => {\r\n    if (value.name) {\r\n      dispatchResults({ type: \"DEPARTMENT_FILTER\", val: value });\r\n    }\r\n  }, []);\r\n\r\n  const handleSortingFilter = useCallback((value) => {\r\n    dispatchResults({ type: \"SORTING_FILTER\", val: value });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // if (resultsState.searchKeywords !== \"\") {\r\n    getSearchbarInput(resultsState.searchKeywords);\r\n    // }\r\n  }, [\r\n    resultsState.resultsPerPage,\r\n    resultsState.searchKeywords,\r\n    resultsState.activePage,\r\n    resultsState.sortingFilter,\r\n    getSearchbarInput,\r\n  ]);\r\n\r\n  // Redirecting if there are no results on load (e.g. when manually realoding)\r\n  useEffect(() => {\r\n    if (resultsState.fetchedProducts.length === 0) {\r\n      history.push(\"/\");\r\n    }\r\n    // This only works without dependencies\r\n  }, []);\r\n\r\n  // Check if user is still logged in\r\n  useEffect(() => {\r\n    checkLogin();\r\n  }, [checkLogin]);\r\n\r\n  // Used for route protection\r\n  const redirectIfNotLoggedIn = () => {\r\n    if (!localStorage.getItem(\"token\")) {\r\n      history.push(\"/\");\r\n      history.go(0);\r\n    }\r\n  };\r\n\r\n  // Conditional rendering\r\n  // Squared brackets because I'm using map later\r\n  const location = useLocation();\r\n  let resultsContent;\r\n\r\n  switch (location.pathname) {\r\n    case \"/\":\r\n      resultsContent = [<HeroMain />, <ProductsSectionCard />];\r\n      break;\r\n    case \"/search\":\r\n      resultsContent = [\r\n        <ResultsBox\r\n          fetchedProducts={resultsState.fetchedProducts}\r\n          paginationData={resultsState.paginationData}\r\n          handlePageChange={handlePageChange}\r\n          handleResultsPerPage={handleResultsPerPage}\r\n          contentLoading={resultsState.contentLoading}\r\n          picturesLoading={resultsState.picturesLoading}\r\n          isEmpty={resultsState.isEmpty}\r\n          handleSortingFilter={handleSortingFilter}\r\n        />,\r\n      ];\r\n      break;\r\n    case \"/signin\":\r\n      resultsContent = [<Loginform />];\r\n      break;\r\n    case \"/signup\":\r\n      resultsContent = [<SignupForm />];\r\n      break;\r\n    case \"/profile\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<ProfilePage />];\r\n      break;\r\n    case \"/password\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<PasswordChange />];\r\n      break;\r\n    case \"/cart\":\r\n      resultsContent = [<ShoppingCart />];\r\n      break;\r\n    case \"/checkout\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<CheckoutForm />];\r\n      break;\r\n    case \"/success\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<OrderSent />];\r\n      break;\r\n    case \"/orders\":\r\n      redirectIfNotLoggedIn();\r\n      resultsContent = [<Orders />];\r\n      break;\r\n    default:\r\n      resultsContent = [<HeroMain />, <ProductsSectionCard />];\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <StoreSearchbar\r\n        handleDepartmentFilter={handleDepartmentFilter}\r\n        handleSortingFilter={handleSortingFilter}\r\n        departmentFilter={resultsState.departmentFilter}\r\n        onGetSearchbarInput={getSearchbarInput}\r\n        handleActivePage={handleActivePage}\r\n        activePage={resultsState.activePage}\r\n      />\r\n      <Suspense fallback={<LoadingOverlay />}>\r\n        {resultsContent.map((component, index) => {\r\n          return (\r\n            <BoxWrapper key={`component-${index}`}>{component}</BoxWrapper>\r\n          );\r\n        })}\r\n      </Suspense>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MainContent;\r\n","import React from \"react\";\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\nimport MainNav from \"./components/Header/MainNav\";\nimport HeaderBanner from \"./components/Header/HeaderBanner\";\nimport MainModal from \"./components/UI/MainModal\";\nimport Footer from \"./components/Footer/Footer\";\nimport MainContent from \"./components/MainContent/MainContent\";\n\n// Stripe related\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\n\n// This key is public, no need to hide it\nconst promise = loadStripe(\n  \"pk_test_51J3L3sID7BWQ1tRhAZSV4MKb1ZUS23HKoXXF3R1zdKj2kbjh03UQqvfFgSVDWakLvATspzNOBELpa7k41w6OYa2C00PDmPXqgR\"\n);\nconst App = () => {\n  return (\n    <BrowserRouter>\n      <Elements stripe={promise}>\n        <HeaderBanner />\n        <MainModal />\n        <MainNav />\n\n        <Switch>\n          <Route exact path=\"/\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/search\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/signin\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n          <Route exact path=\"/signup\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n          <Route exact path=\"/profile\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n          <Route exact path=\"/password\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n          <Route exact path=\"/cart\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/checkout\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/success\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route exact path=\"/orders\">\n            <div className=\"min-h-screen\">\n              <MainContent />\n            </div>\n          </Route>\n\n          <Route path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n        </Switch>\n\n        <Footer />\n      </Elements>\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","import { useState, useContext, useEffect, useCallback } from \"react\";\r\nimport AuthContext from \"./auth-context\";\r\nimport CartContext from \"./cart-context\";\r\nimport ModalContext from \"./modal-context\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nconst AuthProvider = (props) => {\r\n  const [token, setToken] = useState(\"\");\r\n  const [isLogged, setIsLogged] = useState(!!localStorage.getItem(\"token\"));\r\n  const [openLogin, setOpenLogin] = useState(true);\r\n  const [openSignup, setOpenSignup] = useState(false);\r\n  let userName = \"\";\r\n\r\n  const { handleModalText } = useContext(ModalContext);\r\n\r\n  const { deleteCartLocal, fetchCartFromDB } = useContext(CartContext);\r\n\r\n  const history = useHistory();\r\n\r\n  const loginUser = (userData) => {\r\n    fetch(\"/api/login\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(userData),\r\n    })\r\n      .then((res) => {\r\n        let decodedToken;\r\n        let token;\r\n        // This is the token\r\n        for (const header of res.headers) {\r\n          if (header[0] === \"x-auth-token\") {\r\n            token = header[1];\r\n            decodedToken = jwt_decode(header[1]);\r\n            setToken(decodedToken);\r\n          }\r\n        }\r\n        if (token)\r\n          userName = `${\r\n            decodedToken.name.charAt(0).toUpperCase() +\r\n            decodedToken.name.substring(1)\r\n          } ${\r\n            decodedToken.surname.charAt(0).toUpperCase() +\r\n            decodedToken.surname.substring(1)\r\n          }`;\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.removeItem(\"cart\");\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (!res.success) throw new Error(res.msg);\r\n        fetchCartFromDB();\r\n        handleModalText(`Welcome, ${userName}!`);\r\n      })\r\n      .catch((error) => {\r\n        localStorage.removeItem(\"token\");\r\n        console.log(\"An error ocurred: \" + error.message);\r\n        if (error.message.includes(\"token <\")) {\r\n          handleModalText(`Something went wrong!`);\r\n        } else {\r\n          handleModalText(`${error.message}!`);\r\n        }\r\n\r\n        userName = \"\";\r\n      });\r\n  };\r\n\r\n  const checkPassword = (userData, token) => {\r\n    return new Promise((resolve, reject) => {\r\n      fetch(\"/api/login\", {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify(userData),\r\n      })\r\n        .then((res) => {\r\n          return res.json();\r\n        })\r\n        .then((res) => {\r\n          if (!res.success) throw new Error(res.msg);\r\n          resolve(\"Right password\");\r\n        })\r\n        .catch((error) => {\r\n          reject(Error(\"Wrong password\"));\r\n        });\r\n    });\r\n  };\r\n\r\n  const signupUser = (userData) => {\r\n    fetch(\"/api/signin\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(userData),\r\n    })\r\n      .then((res) => {\r\n        // This is the token\r\n        for (const header of res.headers) {\r\n          if (header[0] === \"x-auth-token\") {\r\n            console.log(header[1]);\r\n          }\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (res.error) throw new Error(res.error);\r\n        loginUser({ email: userData.email, password: userData.password });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.message, \"PORCOOO\");\r\n        if (error.message.includes(\"Joi\")) {\r\n          handleModalText(\r\n            \"Something went wrong\",\r\n            error.message.split(\"(Joi):\")[1].replaceAll(\",\", \".\\n\").split(\".\\n\")\r\n          );\r\n        } else if (error.message.includes(\"not unique\")) {\r\n          handleModalText(\r\n            \"Something went wrong\",\r\n            error.message.split(\"email:\")[1].replaceAll(\",\", \".\\n\").split(\".\\n\")\r\n          );\r\n        } else if (error.message.includes(\"duplicate\")) {\r\n          handleModalText(\"Something went wrong\", `User already exists!`);\r\n        }\r\n\r\n        console.log(\"An error ocurred: \" + error.message);\r\n      });\r\n  };\r\n\r\n  const logoutUser = () => {\r\n    fetch(\"/api/logout\", {\r\n      method: \"DELETE\",\r\n    })\r\n      .then((res) => {\r\n        // This is the token\r\n        for (const header of res.headers) {\r\n          if (header[0] === \"x-auth-token\") {\r\n            console.log(header[1]);\r\n          }\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (res.error) throw new Error(res.error);\r\n        localStorage.removeItem(\"token\");\r\n        userName = \"\";\r\n        // Empty local cart\r\n        deleteCartLocal();\r\n        history.push(\"/\");\r\n        setTimeout(() => {\r\n          window.location.reload();\r\n        }, 300);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"An error ocurred: \" + error.message);\r\n      });\r\n  };\r\n\r\n  const checkLogin = useCallback(() => {\r\n    fetch(\"/api/check\")\r\n      .then((res) => {\r\n        // This is the token\r\n        for (const header of res.headers) {\r\n          if (header[0] === \"x-auth-token\") {\r\n            console.log(header[1]);\r\n          }\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((res) => {\r\n        if (res.error) throw new Error(res.error);\r\n        if (!res.session) {\r\n          localStorage.removeItem(\"token\");\r\n          setToken(\"\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"An error ocurred: \" + error.message);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setToken(localStorage.getItem(\"token\"));\r\n    setIsLogged(!!localStorage.getItem(\"token\"));\r\n  }, [token]);\r\n\r\n  const authContext = {\r\n    token,\r\n    userName,\r\n    isLogged,\r\n    openLogin,\r\n    openSignup,\r\n    loginUser,\r\n    signupUser,\r\n    logoutUser,\r\n    checkLogin,\r\n    checkPassword,\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={authContext}>\r\n      {props.children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default AuthProvider;\r\n","import { useState } from \"react\";\r\nimport ModalContext from \"./modal-context\";\r\n\r\nconst ModalProvider = (props) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [modalText, setModalText] = useState(\"\");\r\n  const [modalBody, setModalBody] = useState([]);\r\n\r\n  const handleModalText = (title, body) => {\r\n    setModalText(title.charAt(0).toUpperCase() + title.slice(1));\r\n    if (body) {\r\n      if (Array.isArray(body)) {\r\n        setModalBody(\r\n          body.map((error) => {\r\n            return error.charAt(0).toUpperCase() + error.slice(1);\r\n          })\r\n        );\r\n      } else {\r\n        setModalBody([body.charAt(0).toUpperCase() + body.slice(1)]);\r\n      }\r\n    } else {\r\n      setModalBody([]);\r\n    }\r\n    toggleModal();\r\n  };\r\n\r\n  const toggleModal = () => {\r\n    setIsOpen((prevState) => {\r\n      return !prevState;\r\n    });\r\n  };\r\n\r\n  const modalContext = {\r\n    isOpen,\r\n    modalText,\r\n    modalBody,\r\n    handleModalText,\r\n    toggleModal,\r\n  };\r\n\r\n  return (\r\n    <ModalContext.Provider value={modalContext}>\r\n      {props.children}\r\n    </ModalContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ModalProvider;\r\n","import { useEffect, useState } from \"react\";\r\nimport CartContext from \"./cart-context\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst CartProvider = (props) => {\r\n  const [totalPrice, setTotalPrice] = useState(0);\r\n  // It starts empty and then fetched\r\n  const [items, setItems] = useState([]);\r\n  const [lastOrder, setLastOrder] = useState({});\r\n  const [userAddress, setUserAddress] = useState({});\r\n\r\n  const fetchCartFromDB = async () => {\r\n    // Fetching from DB if user is logged\r\n    if (localStorage.getItem(\"token\")) {\r\n      const userId = jwt_decode(localStorage.getItem(\"token\"))._id;\r\n      const fetchResponse = await fetch(`/api/cart/${userId}`);\r\n      const allCartItems = await fetchResponse.json();\r\n      if (allCartItems.results) {\r\n        setItems(allCartItems.results);\r\n      } else {\r\n        setItems([]);\r\n      }\r\n      // Fetching from localStorage if user not logged\r\n    } else if (localStorage.getItem(\"cart\")) {\r\n      setItems(JSON.parse(localStorage.getItem(\"cart\")));\r\n    }\r\n  };\r\n\r\n  // Fetching cart from DB at the beginning\r\n  useEffect(() => {\r\n    // Only if user is logged\r\n    if (localStorage.getItem(\"token\")) fetchCartFromDB();\r\n  }, []);\r\n\r\n  const addItemToCart = async (item) => {\r\n    // Adding quantity propierty to item\r\n    item.quantity = 1;\r\n    // If user is logged\r\n    if (localStorage.getItem(\"token\")) {\r\n      try {\r\n        const fetchResponse = await fetch(\"/api/cart/\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            userId: jwt_decode(localStorage.getItem(\"token\"))._id,\r\n            cartItem: item,\r\n          }),\r\n        });\r\n        const data = await fetchResponse.json();\r\n        if (data.insertedCount === 1) {\r\n          // Good\r\n        } else {\r\n          throw new Error(\"Something went wrong\");\r\n        }\r\n\r\n        // Doing this locally too\r\n        setItems((prevState) => {\r\n          setItems([...prevState, item]);\r\n        });\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n      // If user not logged\r\n    } else {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        const allLocalItems = JSON.parse(localStorage.getItem(\"cart\"));\r\n        if (\r\n          allLocalItems.filter((object) => object._id == item._id).length === 0\r\n        ) {\r\n          allLocalItems.push(item);\r\n        }\r\n        localStorage.setItem(\"cart\", JSON.stringify(allLocalItems));\r\n      } else {\r\n        localStorage.setItem(\"cart\", JSON.stringify([item]));\r\n      }\r\n      setItems((prevState) => {\r\n        setItems([...prevState, item]);\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (items.length > 0) {\r\n      const totalPrice = items.reduce((accumulator, currentValue) => {\r\n        return (\r\n          accumulator + currentValue.pricingInfo.price * currentValue.quantity\r\n        );\r\n      }, 0);\r\n\r\n      // Get total price\r\n      setTotalPrice(totalPrice);\r\n    }\r\n  }, [items]);\r\n\r\n  const updateItemQuantity = (id, quantity) => {\r\n    setItems((prevState) => {\r\n      const newProducts = [...prevState];\r\n      const updatedItemIndex = newProducts.findIndex((item) => {\r\n        return item._id === id;\r\n      });\r\n      newProducts[updatedItemIndex].quantity = quantity;\r\n      setItems(newProducts);\r\n      //   Updating total price\r\n      setTotalPrice((prevState) => {\r\n        setTotalPrice(\r\n          prevState +\r\n            newProducts[updatedItemIndex].pricingInfo.price *\r\n              newProducts[updatedItemIndex].quantity\r\n        );\r\n      });\r\n    });\r\n  };\r\n\r\n  const removeItemFromCart = async (id) => {\r\n    // If user is logged in\r\n    if (localStorage.getItem(\"token\")) {\r\n      try {\r\n        const userId = jwt_decode(localStorage.getItem(\"token\"))._id;\r\n        const fetchResponse = await fetch(\"/api/cart/\", {\r\n          method: \"DELETE\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n          },\r\n          body: JSON.stringify({\r\n            userId,\r\n            cartItemId: id,\r\n          }),\r\n        });\r\n        const data = await fetchResponse.json();\r\n        if (data.deletedCount === 1) {\r\n          // Deleted\r\n          setItems((prevState) => {\r\n            if (prevState.length === 1) {\r\n              setItems([]);\r\n            } else {\r\n              setItems(\r\n                prevState.filter((item) => {\r\n                  return item._id !== id;\r\n                })\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          throw new Error(\"Item wasn't deleted\");\r\n        }\r\n      } catch (err) {\r\n        console.log(err.message);\r\n      }\r\n    } else if (localStorage.getItem(\"cart\")) {\r\n      const allItems = JSON.parse(localStorage.getItem(\"cart\"));\r\n      const newItems = allItems.filter((object) => object._id !== id);\r\n      localStorage.setItem(\"cart\", JSON.stringify(newItems));\r\n      setItems((prevState) => {\r\n        if (prevState.length === 1) {\r\n          setItems([]);\r\n        } else {\r\n          setItems(\r\n            prevState.filter((item) => {\r\n              return item._id !== id;\r\n            })\r\n          );\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  const deleteCartLocal = () => {\r\n    setItems([]);\r\n  };\r\n\r\n  const saveOrder = async (id, items) => {\r\n    try {\r\n      const fetchResponse = await fetch(`/api/order/${id}`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ items, userAddress }),\r\n      });\r\n      const order = await fetchResponse.json();\r\n      deleteUserCart(id);\r\n      setLastOrder(order.result);\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const deleteUserCart = async (id) => {\r\n    try {\r\n      const fetchResponse = await fetch(`/api/cart/whole/${id}`, {\r\n        method: \"DELETE\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      });\r\n      const deletedCart = await fetchResponse.json();\r\n      if (deletedCart.deletedCount) {\r\n        deleteCartLocal();\r\n      } else {\r\n        throw new Error(\"It wasn't possible to delete the cart\");\r\n      }\r\n    } catch (err) {\r\n      console.log(err.message);\r\n    }\r\n  };\r\n\r\n  const cartContext = {\r\n    items,\r\n    totalPrice,\r\n    lastOrder,\r\n    userAddress,\r\n    setUserAddress,\r\n    addItemToCart,\r\n    removeItemFromCart,\r\n    updateItemQuantity,\r\n    deleteCartLocal,\r\n    fetchCartFromDB,\r\n    saveOrder,\r\n    deleteUserCart,\r\n  };\r\n\r\n  return (\r\n    <CartContext.Provider value={cartContext}>\r\n      {props.children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartProvider;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// Tailwind-generated css\nimport \"./styles/output.css\";\n\nimport App from \"./App\";\n\nimport AuthProvider from \"./store/AuthProvider\";\nimport ModalProvider from \"./store/ModalProvider\";\nimport CartProvider from \"./store/CartProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <ModalProvider>\n      <CartProvider>\n        <AuthProvider>\n          <App />\n        </AuthProvider>\n      </CartProvider>\n    </ModalProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}