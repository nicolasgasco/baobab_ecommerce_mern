(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{56:function(e,t,c){"use strict";var r=c(2),a=c(0),n=c(1);t.a=function(e){var t=e.classes,c=e.getRatingValue,s=e.notInteractive,o=e.ratingValue,l=Object(a.useState)(0),i=Object(r.a)(l,2),d=i[0],j=i[1],x=Object(a.useState)(0),u=Object(r.a)(x,2),b=u[0],m=u[1];Object(a.useEffect)((function(){j(0)}),[]);var g=function(){m(0)},h=[1,2,3,4,5].map((function(e){return Object(n.jsx)("div",{className:s?"pr-1":"pr-4 lg:pr-2",onMouseEnter:s?void 0:function(){m(e)},onMouseLeave:s?void 0:g,onClick:s?void 0:function(){return j(t=e),void c(t);var t},children:Object(n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:s?13:18,height:s?12:17,viewBox:"0 0 14 13",fill:"none",children:Object(n.jsx)("path",{d:"M6.52447 0.463524C6.67415 0.00286841 7.32585 0.00286996 7.47553 0.463525L8.68386 4.18237C8.75079 4.38838 8.94277 4.52786 9.15938 4.52786H13.0696C13.554 4.52786 13.7554 5.14767 13.3635 5.43237L10.2001 7.73075C10.0248 7.85807 9.95149 8.08375 10.0184 8.28976L11.2268 12.0086C11.3764 12.4693 10.8492 12.8523 10.4573 12.5676L7.29389 10.2693C7.11865 10.1419 6.88135 10.1419 6.70611 10.2693L3.54267 12.5676C3.15081 12.8523 2.62357 12.4693 2.77325 12.0086L3.98157 8.28976C4.04851 8.08375 3.97518 7.85807 3.79994 7.73075L0.636495 5.43237C0.244639 5.14767 0.446028 4.52786 0.93039 4.52786H4.84062C5.05723 4.52786 5.24921 4.38838 5.31614 4.18237L6.52447 0.463524Z",fill:(t=e,s?o>=t?"#F59E0B":"#9CA3AF":b?b>=t?"#FCD34D":"#9CA3AF":d>=t?"#F59E0B":"#9CA3AF")})})});var t}));return Object(n.jsx)("div",{className:"flex items-center ".concat(t),children:h})}},58:function(e,t,c){"use strict";var r=c(27),a=c(2),n=c(0),s=c(7),o=c(56),l=c(13),i=c(1);t.a=function(e){var t=e.items,c=e.classes,d=Object(n.useState)(!1),j=Object(a.a)(d,2),x=j[0],u=j[1],b=Object(n.useState)(""),m=Object(a.a)(b,2),g=m[0],h=m[1],f=Object(n.useState)(0),O=Object(a.a)(f,2),p=O[0],y=O[1],w=Object(n.useState)([]),N=Object(a.a)(w,2),v=N[0],k=N[1],C=Object(n.useState)([]),F=Object(a.a)(C,2)[1],S=Object(n.useState)([]),A=Object(a.a)(S,2)[1],D=Object(l.a)().sendRequest;Object(n.useEffect)((function(){y(0)}),[]);var L=function(e){console.log(e,"value is"),y(e)},R=function(e){return console.log("IDIDDD",v.indexOf(e)),-1!==v.indexOf(e)?Object(i.jsx)("p",{className:"font-bold",children:"Your rating was saved!"}):-1!==v.indexOf(e)?Object(i.jsx)("p",{className:"font-bold",children:"An error ocurred!"}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(o.a,{getRatingValue:L}),Object(i.jsx)("button",{onClick:function(){return function(e){console.log(p,"value"),p&&D({url:"api/products/rating/".concat(e),method:"POST",headers:{"Content-Type":"application/json"},body:{rating:p}},(function(t){k((function(t){return[].concat(Object(r.a)(t),[e])})),A((function(t){return[].concat(Object(r.a)(t),[e])}))}),(function(){console.log("ERROR!!!"),F((function(t){return[].concat(Object(r.a)(t),[e])}))}))}(e)},type:"button",className:"inline-flex justify-center py-2 px-4 my-2  ml-3 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:"Rate"})]})},E=t.map((function(e,t){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{className:"h-24 border-gray-300 dark:border-gray-200 border-b ",children:[Object(i.jsx)("td",{className:"hidden md:table-cell text-sm whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("img",{src:e.pictures[0].url,className:"w-16 h-16 mx-auto object-contain rounded-full ring-2 ring-green-500",alt:e.pictures[0].alt})}),Object(i.jsx)("td",{className:"text-sm whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("p",{className:"mb-2 md:ml-4",children:"".concat(e.completeName.brand," ").concat(e.completeName.productName,", ").concat(e.completeName.color,", ").concat(e.completeName.productGender)})}),Object(i.jsx)("td",{className:"text-center text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("div",{className:"relative flex flex-row justify-center w-12 h-8",children:Object(i.jsx)("p",{children:e.quantity})})}),Object(i.jsx)("td",{className:"pr-4 whitespace-no-wrap  hidden md:table-cell",children:Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("span",{className:"text-xs lg:text-base font-medium",children:"".concat(e.pricingInfo.price).concat(String.fromCharCode(160),"\u20ac")})})}),Object(i.jsx)("td",{className:"text-center text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"".concat((e.pricingInfo.price*e.quantity).toFixed(2)).concat(String.fromCharCode(160),"\u20ac")})}),Object(i.jsxs)("td",{className:"text-center text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:[Object(i.jsx)("span",{className:"sr-only",children:"Rate product"}),Object(i.jsx)(s.j,{onClick:function(){return t=e._id,g!==t&&""!==g||u((function(e){return e&&h(""),!e})),F((function(e){return Object(r.a)(e).filter((function(e){return e!==t}))})),h(t),void y(0);var t},fill:"".concat(x&&g===e._id?"#FDE68A":"#FFFF"),className:"h-6 cursor-pointer"})]})]},"item-".concat(e._id)),x&&g===e._id&&Object(i.jsx)("tr",{className:"h-16 border-gray-300 dark:border-gray-200 border-b ",children:Object(i.jsx)("td",{colSpan:6,className:"text-sm whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("div",{className:"flex justify-center",children:R(e._id)})})},"rating-".concat(e._id))]})}));return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"w-full ".concat(c),children:Object(i.jsxs)("table",{className:"min-w-full overflow-x-auto",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"w-full h-16 border-gray-300 dark:border-gray-200 border-b py-8",children:[Object(i.jsx)("th",{className:"w-2/12 hidden md:table-cell text-gray-600 dark:text-gray-400 font-normal pr-6 text-left text-sm tracking-normal leading-4"}),Object(i.jsx)("th",{className:"w-5/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Product"}),Object(i.jsx)("th",{className:"w-1/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Quantity"}),Object(i.jsx)("th",{className:"w-1/12  text-center hidden md:table-cell text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Unit"}),Object(i.jsx)("th",{className:"w-2/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-8 text-sm tracking-normal leading-4",children:"Total"}),Object(i.jsx)("th",{className:"w-2/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-8 text-sm tracking-normal leading-4",children:"Rate"})]})}),Object(i.jsx)("tbody",{children:E})]})})})}},66:function(e,t,c){"use strict";c.r(t);var r=c(2),a=c(0),n=c(58),s=c(13),o=c(15),l=c(14),i=c(1);t.default=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],d=t[1],j=Object(s.a)().sendRequest;Object(a.useContext)(l.a).userAddress;Object(a.useEffect)((function(){var e=Object(o.a)(localStorage.getItem("token"));console.log("fetching orders");j({url:"/api/order/".concat(e._id)},(function(e){if(console.log(e),!e.ordersFound)throw new Error("No results found");d(e.result)}))}),[j]);var x=function(e){e=Date.parse(e);var t=(e=new Date(e)).getDate(),c=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear(),a=e.getHours(),n=e.getMinutes(),s=e.getSeconds();return"".concat(t,"/").concat(c,"/").concat(r," (").concat(a,":").concat(n,":").concat(s,")")},u=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},b=c.map((function(e){return console.log(e.userAddress),Object(i.jsxs)("div",{children:[Object(i.jsxs)("h3",{className:"font-bold text-xl mt-6",children:["Order number # ",e.orderId]}),Object(i.jsxs)("h3",{className:"font-bold text-xl",children:["Order sent:"," ",Object(i.jsx)("span",{className:"font-normal text-sm",children:x(e.creationDate)})]}),Object(i.jsxs)("h3",{className:"font-bold text-xl",children:["Sent to:"," ",Object(i.jsx)("span",{className:"font-normal text-sm",children:"".concat(u(e.userAddress.street),", ").concat(e.userAddress.zip," ").concat((t=e.userAddress.city,t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()),",  ").concat(u(e.userAddress.province))})]}),Object(i.jsx)(n.a,{classes:"mb-12",items:e.items,id:e.orderId})]},e.orderId);var t}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h2",{className:"mt-2 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Your orders"}),Object(i.jsx)("div",{children:b})]})}}}]);
//# sourceMappingURL=6.97aa08ce.chunk.js.map