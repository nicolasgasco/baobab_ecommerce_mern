(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{79:function(e,t,a){"use strict";var c=a(33),r=a(3),n=a(0),s=a(11),l=a(49),o=a(23),i=a(1);t.a=function(e){var t=e.items,a=e.classes,d=Object(n.useState)(!1),j=Object(r.a)(d,2),x=j[0],b=j[1],m=Object(n.useState)(""),u=Object(r.a)(m,2),g=u[0],h=u[1],O=Object(n.useState)(0),p=Object(r.a)(O,2),f=p[0],y=p[1],N=Object(n.useState)([]),w=Object(r.a)(N,2),k=w[0],v=w[1],S=Object(n.useState)([]),F=Object(r.a)(S,2)[1],C=Object(n.useState)([]),A=Object(r.a)(C,2)[1],_=Object(o.a)().sendRequest;Object(n.useEffect)((function(){y(0)}),[]);var I=function(e){y(e)},R=function(e){return-1!==k.indexOf(e)?Object(i.jsx)("p",{className:"font-bold",children:"Your rating was saved!"}):-1!==k.indexOf(e)?Object(i.jsx)("p",{className:"font-bold",children:"An error ocurred!"}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(l.a,{getRatingValue:I}),Object(i.jsx)("button",{onClick:function(){return function(e){f&&_({url:"api/products/rating/".concat(e),method:"POST",headers:{"Content-Type":"application/json"},body:{rating:f}},(function(t){v((function(t){return[].concat(Object(c.a)(t),[e])})),A((function(t){return[].concat(Object(c.a)(t),[e])}))}),(function(){F((function(t){return[].concat(Object(c.a)(t),[e])}))}))}(e)},type:"button",className:"inline-flex justify-center py-2 px-4 my-2  ml-3 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500",children:"Rate"})]})},D=t.map((function(e,t){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("tr",{className:"h-24 border-gray-300 dark:border-gray-200 border-b ",children:[Object(i.jsx)("td",{className:"hidden md:table-cell text-sm whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("img",{src:e.pictures[0].url,className:"w-16 h-16 mx-auto object-contain rounded-full ring-2 ring-green-500",alt:e.pictures[0].alt})}),Object(i.jsx)("td",{className:"text-sm whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("p",{className:"mb-2 md:ml-4",children:"".concat(e.completeName.brand," ").concat(e.completeName.productName,", ").concat(e.completeName.color,", ").concat(e.completeName.productGender)})}),Object(i.jsx)("td",{className:"text-center text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("div",{className:"relative flex flex-row justify-center w-12 h-8",children:Object(i.jsx)("p",{children:e.quantity})})}),Object(i.jsx)("td",{className:"pr-4 whitespace-no-wrap  hidden md:table-cell",children:Object(i.jsx)("div",{className:"text-center",children:Object(i.jsx)("span",{className:"text-xs lg:text-base font-medium",children:"".concat(e.pricingInfo.price).concat(String.fromCharCode(160),"\u20ac")})})}),Object(i.jsx)("td",{className:"text-center text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"".concat((e.pricingInfo.price*e.quantity).toFixed(2)).concat(String.fromCharCode(160),"\u20ac")})}),Object(i.jsxs)("td",{className:"text-center text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:[Object(i.jsx)("span",{className:"sr-only",children:"Rate product"}),Object(i.jsx)(s.j,{onClick:function(){return t=e._id,g!==t&&""!==g||b((function(e){return e&&h(""),!e})),F((function(e){return Object(c.a)(e).filter((function(e){return e!==t}))})),h(t),void y(0);var t},fill:"".concat(x&&g===e._id?"#FDE68A":"#FFFF"),className:"h-6 cursor-pointer"})]})]},"item-".concat(e._id)),x&&g===e._id&&Object(i.jsx)("tr",{className:"h-16 border-gray-300 dark:border-gray-200 border-b ",children:Object(i.jsx)("td",{colSpan:6,className:"text-sm whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(i.jsx)("div",{className:"flex justify-center",children:R(e._id)})})},"rating-".concat(e._id))]})}));return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"w-full ".concat(a),children:Object(i.jsxs)("table",{className:"min-w-full overflow-x-auto",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{className:"w-full h-16 border-gray-300 dark:border-gray-200 border-b py-8",children:[Object(i.jsx)("th",{className:"w-2/12 hidden md:table-cell text-gray-600 dark:text-gray-400 font-normal pr-6 text-left text-sm tracking-normal leading-4"}),Object(i.jsx)("th",{className:"w-5/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Product"}),Object(i.jsx)("th",{className:"w-1/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Quantity"}),Object(i.jsx)("th",{className:"w-1/12  text-center hidden md:table-cell text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Unit"}),Object(i.jsx)("th",{className:"w-2/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-8 text-sm tracking-normal leading-4",children:"Total"}),Object(i.jsx)("th",{className:"w-2/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-8 text-sm tracking-normal leading-4",children:"Rate"})]})}),Object(i.jsx)("tbody",{children:D})]})})})}},84:function(e,t,a){"use strict";a.r(t);var c=a(3),r=a(0),n=a(79),s=a(50),l=a(23),o=a(24),i=a(30),d=a(1);t.default=function(){var e=Object(r.useState)(!0),t=Object(c.a)(e,2),a=t[0],j=t[1],x=Object(r.useState)([]),b=Object(c.a)(x,2),m=b[0],u=b[1],g=Object(l.a)().sendRequest;Object(r.useEffect)((function(){var e=Object(o.a)(localStorage.getItem("token"));g({url:"/api/order/".concat(e._id)},(function(e){j(!1),e.ordersFound?u(e.result):u([])}))}),[g]);var h=function(e){e=Date.parse(e);var t=(e=new Date(e)).getDate(),a=String(e.getMonth()+1).padStart(2,"0"),c=e.getFullYear(),r=e.getHours(),n=e.getMinutes(),s=e.getSeconds();return"".concat(t,"/").concat(a,"/").concat(c," (").concat(r,":").concat(n,":").concat(s,")")},O=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},p=m.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h3",{className:"font-bold text-xl mt-6",children:["Order number # ",e.orderId]}),Object(d.jsxs)("h3",{className:"font-bold text-xl",children:["Order sent:"," ",Object(d.jsx)("span",{className:"font-normal text-sm",children:h(e.creationDate)})]}),Object(d.jsxs)("h3",{className:"font-bold text-xl",children:["Sent to:"," ",Object(d.jsx)("span",{className:"font-normal text-sm",children:"".concat(O(e.userAddress.street),", ").concat(e.userAddress.zip," ").concat((t=e.userAddress.city,t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()),",  ").concat(O(e.userAddress.province))})]}),Object(d.jsx)(n.a,{classes:"mb-12",items:e.items,id:e.orderId})]},e.orderId);var t}));return Object(d.jsxs)(d.Fragment,{children:[a&&Object(d.jsx)(i.a,{}),Object(d.jsx)("h2",{className:"-mt-4 mb-8 text-3xl leading-8 font-extrabold tracking-tight text-gray-900 sm:text-4xl",children:"Your orders"}),Object(d.jsx)("div",{children:m.length>0?p:Object(d.jsx)(s.a,{})})]})}}}]);
//# sourceMappingURL=5.849e7029.chunk.js.map