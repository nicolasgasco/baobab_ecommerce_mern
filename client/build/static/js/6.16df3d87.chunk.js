(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{68:function(e,t,c){"use strict";c.r(t);var a=c(8),r=c.n(a),n=c(17),s=c(2),l=c(0),d=c(15),o=c(38),i=c(16),m=c(9),x=c(6),j=c(18),b=c(1),u=function(){var e=Object(l.useContext)(d.a),t=e.items,c=e.removeItemFromCart,a=e.updateItemQuantity,r=Object(l.useState)([]),n=Object(s.a)(r,2),o=n[0],i=n[1],m=Object(l.useState)(!1),u=Object(s.a)(m,2),h=u[0],g=u[1];Object(l.useEffect)((function(){h&&g(!1)}),[t]),Object(l.useEffect)((function(){0!==t.length&&i(t)}),[t]);var p=function(e){a(e.target.id,e.target.value)},f=o.map((function(e){return Object(b.jsxs)("tr",{className:"h-24 border-gray-300 dark:border-gray-200 border-b",children:[Object(b.jsx)("td",{className:"hidden md:table-cell text-sm whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(b.jsx)("img",{src:e.pictures[0].url,className:"w-16 h-16 mx-auto object-contain rounded-sm ring-2 ring-green-500",alt:e.pictures[0].alt})}),Object(b.jsx)("td",{className:"text-sm whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(b.jsx)("p",{className:"mb-2 md:ml-4",children:"".concat(e.completeName.brand," ").concat(e.completeName.productName,", ").concat(e.completeName.color,", ").concat(e.completeName.productGender)})}),Object(b.jsx)("td",{className:"text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(b.jsxs)("div",{className:"cursor-pointer",children:[Object(b.jsx)("span",{className:"sr-only",children:"Remove item"}),Object(b.jsx)(x.k,{id:"cart-item-".concat(e._id),onClick:function(){var t;t=e._id,g(!0),c(t),console.log(o),1===o.length&&i([])},className:"h-6 w-6 ml-4 mt-1","aria-hidden":"true"})]})}),Object(b.jsx)("td",{className:"text-center  text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(b.jsx)("div",{className:"relative flex flex-row w-12 h-8",children:Object(b.jsx)("input",{id:e._id,type:"number",defaultValue:e.quantity,min:1,max:9,onChange:p,className:"w-full font-semibold text-center text-gray-700 bg-yellow-200 rounded-md outline-none focus:outline-none hover:text-black focus:text-black"})})}),Object(b.jsx)("td",{className:"pr-4 whitespace-no-wrap  hidden md:table-cell",children:Object(b.jsx)("div",{className:"text-center",children:Object(b.jsx)("span",{className:"text-xs lg:text-base font-medium",children:"".concat(e.pricingInfo.price).concat(String.fromCharCode(160),"\u20ac")})})}),Object(b.jsx)("td",{className:"text-center text-sm pr-6 whitespace-no-wrap text-gray-800 dark:text-gray-100 tracking-normal leading-4",children:Object(b.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"".concat((e.pricingInfo.price*e.quantity).toFixed(2)).concat(String.fromCharCode(160),"\u20ac")})})]})}));return Object(b.jsxs)(b.Fragment,{children:[h&&Object(b.jsx)(j.a,{}),Object(b.jsx)("div",{className:"w-full",children:Object(b.jsxs)("table",{className:"min-w-full overflow-x-auto ",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{className:"w-full h-16 border-gray-300 dark:border-gray-200 border-b py-8",children:[Object(b.jsx)("th",{className:"w-2/12 hidden md:table-cell text-gray-600 dark:text-gray-400 font-normal pr-6 text-left text-sm tracking-normal leading-4"}),Object(b.jsx)("th",{className:"w-5/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Product"}),Object(b.jsx)("th",{className:"w-1/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4"}),Object(b.jsx)("th",{className:"w-1/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Quantity"}),Object(b.jsx)("th",{className:"w-1/12   hidden md:table-cell text-center text-gray-600 dark:text-gray-400 font-bold pr-6 text-sm tracking-normal leading-4",children:"Unit"}),Object(b.jsx)("th",{className:"w-2/12  text-center text-gray-600 dark:text-gray-400 font-bold pr-8 text-sm tracking-normal leading-4",children:"Total"})]})}),Object(b.jsx)("tbody",{children:f})]})})]})},h=c(14);t.default=function(){var e,t=Object(l.useContext)(d.a),c=t.items,a=t.totalPrice,x=t.setUserAddress,j=Object(l.useState)({}),g=Object(s.a)(j,2),p=g[0],f=g[1],O=Object(h.a)().sendRequest;return Object(l.useEffect)((function(){(function(){var e=Object(n.a)(r.a.mark((function e(){var t,c,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem("token")&&(t=function(e){if(!e.resultsFound)throw new Error("User not found");f(e.result)},c=Object(i.a)(localStorage.getItem("token"),t),a=c._id,O({url:"/api/users/".concat(a)},t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[O]),p.address?(x(p.address),e=Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{classList:"font-bold",children:"".concat(p.name," ").concat(p.surname)}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:p.address.street}),Object(b.jsx)("p",{children:"".concat(p.address.zip,", ").concat(p.address.province,", ").concat(p.address.city)})]}),Object(b.jsx)(m.b,{to:"/profile",className:"flex justify-center w-10/12 mx-auto px-10 py-3 mt-6 font-medium text-white uppercase bg-green-600 rounded-md shadow item-center hover:bg-green-700 focus:shadow-outline focus:outline-none",children:"Change address"})]})):e=localStorage.getItem("token")?Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Provide an address to proceed with payment."}),Object(b.jsx)(m.b,{to:"/profile",className:"flex justify-center w-10/12 mx-auto px-10 py-3 mt-6 font-medium text-white uppercase bg-green-600 rounded-md shadow item-center hover:bg-green-700 focus:shadow-outline focus:outline-none",children:"Add address"})]}):Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Create an account to complete your order."}),Object(b.jsx)(m.b,{to:"/signin",className:"flex justify-center w-10/12 mx-auto px-10 py-3 mt-6 font-medium text-white uppercase bg-green-600 rounded-md shadow item-center hover:bg-green-700 focus:shadow-outline focus:outline-none",children:"Create account"})]}),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"lg:px-6 mx-0 md:mx-6",children:[0===c.length&&Object(b.jsx)(o.a,{}),0!==c.length&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(u,{}),Object(b.jsxs)("div",{className:"my-4 mt-6 -mx-2",children:[Object(b.jsxs)("div",{className:"lg:px-2",children:[Object(b.jsx)("div",{className:"p-4 w-11/12 md:w-full mx-auto bg-yellow-200 rounded-full",children:Object(b.jsx)("h2",{className:"ml-2 font-bold uppercase",children:"Shipping info"})}),Object(b.jsx)("div",{className:"p-4",children:e})]}),Object(b.jsxs)("div",{className:"lg:px-2 mt-4",children:[Object(b.jsx)("div",{className:"p-4 w-11/12 md:w-full mx-auto bg-yellow-200 rounded-full",children:Object(b.jsx)("h1",{className:"ml-2 font-bold uppercase",children:"Order Details"})}),Object(b.jsxs)("div",{className:"p-4",children:[Object(b.jsxs)("div",{className:"flex justify-between pt-4 border-b",children:[Object(b.jsx)("div",{className:"lg:px-4 lg:py-2 m-2 text-lg lg:text-xl font-bold text-center text-gray-800",children:"Total"}),Object(b.jsx)("div",{className:"lg:px-4 lg:py-2 m-2 lg:text-lg font-bold text-center text-gray-900",children:"".concat(a.toFixed(2)," \u20ac")})]}),Object(b.jsx)("div",{children:Object(b.jsxs)(m.b,{to:p.address?"/checkout":"/cart",className:"".concat(p.address?"bg-green-600  hover:bg-green-700":"bg-gray-400 cursor-default"," flex justify-center w-10/12 mx-auto px-10 py-3 mt-6 font-medium text-white uppercasrounded-md shadow item-center  focus:shadow-outline focus:outline-none"),children:[Object(b.jsx)("svg",{"aria-hidden":"true","data-prefix":"far","data-icon":"credit-card",className:"w-6",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:Object(b.jsx)("path",{fill:"currentColor",d:"M527.9 32H48.1C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48.1 48h479.8c26.6 0 48.1-21.5 48.1-48V80c0-26.5-21.5-48-48.1-48zM54.1 80h467.8c3.3 0 6 2.7 6 6v42H48.1V86c0-3.3 2.7-6 6-6zm467.8 352H54.1c-3.3 0-6-2.7-6-6V256h479.8v170c0 3.3-2.7 6-6 6zM192 332v40c0 6.6-5.4 12-12 12h-72c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h72c6.6 0 12 5.4 12 12zm192 0v40c0 6.6-5.4 12-12 12H236c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h136c6.6 0 12 5.4 12 12z"})}),Object(b.jsx)("span",{className:"ml-2 mt-5px",children:"Checkout"})]})})]})]})]})]})]})})}}}]);
//# sourceMappingURL=6.16df3d87.chunk.js.map